function xY(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var iF={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=Symbol.for("react.element"),OY=Symbol.for("react.portal"),PY=Symbol.for("react.fragment"),CY=Symbol.for("react.strict_mode"),IY=Symbol.for("react.profiler"),kY=Symbol.for("react.provider"),TY=Symbol.for("react.context"),AY=Symbol.for("react.forward_ref"),NY=Symbol.for("react.suspense"),RY=Symbol.for("react.memo"),DY=Symbol.for("react.lazy"),Fk=Symbol.iterator;function MY(e){return e===null||typeof e!="object"?null:(e=Fk&&e[Fk]||e["@@iterator"],typeof e=="function"?e:null)}var oF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sF=Object.assign,aF={};function sf(e,t,n){this.props=e,this.context=t,this.refs=aF,this.updater=n||oF}sf.prototype.isReactComponent={};sf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lF(){}lF.prototype=sf.prototype;function Yx(e,t,n){this.props=e,this.context=t,this.refs=aF,this.updater=n||oF}var Qx=Yx.prototype=new lF;Qx.constructor=Yx;sF(Qx,sf.prototype);Qx.isPureReactComponent=!0;var Vk=Array.isArray,uF=Object.prototype.hasOwnProperty,Xx={current:null},cF={key:!0,ref:!0,__self:!0,__source:!0};function fF(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)uF.call(t,r)&&!cF.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lp,type:e,key:o,ref:s,props:i,_owner:Xx.current}}function LY(e,t){return{$$typeof:lp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jx(e){return typeof e=="object"&&e!==null&&e.$$typeof===lp}function jY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bk=/\/+/g;function zb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jY(""+e.key):t.toString(36)}function $g(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case lp:case OY:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+zb(s,0):r,Vk(i)?(n="",e!=null&&(n=e.replace(Bk,"$&/")+"/"),$g(i,t,n,"",function(u){return u})):i!=null&&(Jx(i)&&(i=LY(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Bk,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Vk(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+zb(o,a);s+=$g(o,t,n,l,i)}else if(l=MY(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+zb(o,a++),s+=$g(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function pm(e,t,n){if(e==null)return e;var r=[],i=0;return $g(e,r,"","",function(o){return t.call(n,o,i++)}),r}function zY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zr={current:null},Eg={transition:null},FY={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:Eg,ReactCurrentOwner:Xx};gt.Children={map:pm,forEach:function(e,t,n){pm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pm(e,function(){t++}),t},toArray:function(e){return pm(e,function(t){return t})||[]},only:function(e){if(!Jx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=sf;gt.Fragment=PY;gt.Profiler=IY;gt.PureComponent=Yx;gt.StrictMode=CY;gt.Suspense=NY;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FY;gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sF({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Xx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)uF.call(t,l)&&!cF.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:lp,type:e.type,key:i,ref:o,props:r,_owner:s}};gt.createContext=function(e){return e={$$typeof:TY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kY,_context:e},e.Consumer=e};gt.createElement=fF;gt.createFactory=function(e){var t=fF.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:AY,render:e}};gt.isValidElement=Jx;gt.lazy=function(e){return{$$typeof:DY,_payload:{_status:-1,_result:e},_init:zY}};gt.memo=function(e,t){return{$$typeof:RY,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=Eg.transition;Eg.transition={};try{e()}finally{Eg.transition=t}};gt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};gt.useCallback=function(e,t){return zr.current.useCallback(e,t)};gt.useContext=function(e){return zr.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return zr.current.useDeferredValue(e)};gt.useEffect=function(e,t){return zr.current.useEffect(e,t)};gt.useId=function(){return zr.current.useId()};gt.useImperativeHandle=function(e,t,n){return zr.current.useImperativeHandle(e,t,n)};gt.useInsertionEffect=function(e,t){return zr.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return zr.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return zr.current.useMemo(e,t)};gt.useReducer=function(e,t,n){return zr.current.useReducer(e,t,n)};gt.useRef=function(e){return zr.current.useRef(e)};gt.useState=function(e){return zr.current.useState(e)};gt.useSyncExternalStore=function(e,t,n){return zr.current.useSyncExternalStore(e,t,n)};gt.useTransition=function(){return zr.current.useTransition()};gt.version="18.2.0";iF.exports=gt;var S=iF.exports;const Fi=Wo(S),zl=xY({__proto__:null,default:Fi},[S]);var BS={},dF={exports:{}},Oi={},hF={exports:{}},pF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,Q){var q=G.length;G.push(Q);e:for(;0<q;){var O=q-1>>>1,P=G[O];if(0<i(P,Q))G[O]=Q,G[q]=P,q=O;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Q=G[0],q=G.pop();if(q!==Q){G[0]=q;e:for(var O=0,P=G.length,z=P>>>1;O<z;){var I=2*(O+1)-1,k=G[I],V=I+1,Z=G[V];if(0>i(k,q))V<P&&0>i(Z,k)?(G[O]=Z,G[V]=q,O=V):(G[O]=k,G[I]=q,O=I);else if(V<P&&0>i(Z,q))G[O]=Z,G[V]=q,O=V;else break e}}return Q}function i(G,Q){var q=G.sortIndex-Q.sortIndex;return q!==0?q:G.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=G)r(u),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=n(u)}}function b(G){if(g=!1,w(G),!p)if(n(l)!==null)p=!0,re($);else{var Q=n(u);Q!==null&&ie(b,Q.startTime-G)}}function $(G,Q){p=!1,g&&(g=!1,m(C),C=-1),h=!0;var q=d;try{for(w(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||G&&!M());){var O=f.callback;if(typeof O=="function"){f.callback=null,d=f.priorityLevel;var P=O(f.expirationTime<=Q);Q=e.unstable_now(),typeof P=="function"?f.callback=P:f===n(l)&&r(l),w(Q)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var I=n(u);I!==null&&ie(b,I.startTime-Q),z=!1}return z}finally{f=null,d=q,h=!1}}var _=!1,E=null,C=-1,N=5,L=-1;function M(){return!(e.unstable_now()-L<N)}function B(){if(E!==null){var G=e.unstable_now();L=G;var Q=!0;try{Q=E(!0,G)}finally{Q?F():(_=!1,E=null)}}else _=!1}var F;if(typeof y=="function")F=function(){y(B)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,J=R.port2;R.port1.onmessage=B,F=function(){J.postMessage(null)}}else F=function(){v(B,0)};function re(G){E=G,_||(_=!0,F())}function ie(G,Q){C=v(function(){G(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,re($))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(d){case 1:case 2:case 3:var Q=3;break;default:Q=d}var q=d;d=Q;try{return G()}finally{d=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=d;d=G;try{return Q()}finally{d=q}},e.unstable_scheduleCallback=function(G,Q,q){var O=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?O+q:O):q=O,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=q+P,G={id:c++,callback:Q,priorityLevel:G,startTime:q,expirationTime:P,sortIndex:-1},q>O?(G.sortIndex=q,t(u,G),n(l)===null&&G===n(u)&&(g?(m(C),C=-1):g=!0,ie(b,q-O))):(G.sortIndex=P,t(l,G),p||h||(p=!0,re($))),G},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(G){var Q=d;return function(){var q=d;d=Q;try{return G.apply(this,arguments)}finally{d=q}}}})(pF);hF.exports=pF;var VY=hF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mF=S,wi=VY;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gF=new Set,sh={};function uu(e,t){Ec(e,t),Ec(e+"Capture",t)}function Ec(e,t){for(sh[e]=t,e=0;e<t.length;e++)gF.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),US=Object.prototype.hasOwnProperty,BY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uk={},Hk={};function UY(e){return US.call(Hk,e)?!0:US.call(Uk,e)?!1:BY.test(e)?Hk[e]=!0:(Uk[e]=!0,!1)}function HY(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qY(e,t,n,r){if(t===null||typeof t>"u"||HY(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hr[e]=new Fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hr[t]=new Fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hr[e]=new Fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hr[e]=new Fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hr[e]=new Fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hr[e]=new Fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hr[e]=new Fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hr[e]=new Fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hr[e]=new Fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zx=/[\-:]([a-z])/g;function eO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zx,eO);hr[t]=new Fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zx,eO);hr[t]=new Fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zx,eO);hr[t]=new Fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hr[e]=new Fr(e,1,!1,e.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hr[e]=new Fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function tO(e,t,n,r){var i=hr.hasOwnProperty(t)?hr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qY(t,n,i,r)&&(n=null),r||i===null?UY(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Is=mF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mm=Symbol.for("react.element"),Du=Symbol.for("react.portal"),Mu=Symbol.for("react.fragment"),nO=Symbol.for("react.strict_mode"),HS=Symbol.for("react.profiler"),yF=Symbol.for("react.provider"),vF=Symbol.for("react.context"),rO=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),WS=Symbol.for("react.suspense_list"),iO=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),wF=Symbol.for("react.offscreen"),qk=Symbol.iterator;function jf(e){return e===null||typeof e!="object"?null:(e=qk&&e[qk]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Object.assign,Fb;function dd(e){if(Fb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fb=t&&t[1]||""}return`
`+Fb+e}var Vb=!1;function Bb(e,t){if(!e||Vb)return"";Vb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Vb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dd(e):""}function WY(e){switch(e.tag){case 5:return dd(e.type);case 16:return dd("Lazy");case 13:return dd("Suspense");case 19:return dd("SuspenseList");case 0:case 2:case 15:return e=Bb(e.type,!1),e;case 11:return e=Bb(e.type.render,!1),e;case 1:return e=Bb(e.type,!0),e;default:return""}}function KS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mu:return"Fragment";case Du:return"Portal";case HS:return"Profiler";case nO:return"StrictMode";case qS:return"Suspense";case WS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vF:return(e.displayName||"Context")+".Consumer";case yF:return(e._context.displayName||"Context")+".Provider";case rO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case iO:return t=e.displayName||null,t!==null?t:KS(e.type)||"Memo";case Hs:t=e._payload,e=e._init;try{return KS(e(t))}catch{}}return null}function KY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return KS(t);case 8:return t===nO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _F(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GY(e){var t=_F(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gm(e){e._valueTracker||(e._valueTracker=GY(e))}function bF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_F(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function GS(e,t){var n=t.checked;return pn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wk(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ea(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function SF(e,t){t=t.checked,t!=null&&tO(e,"checked",t,!1)}function YS(e,t){SF(e,t);var n=Ea(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?QS(e,t.type,n):t.hasOwnProperty("defaultValue")&&QS(e,t.type,Ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kk(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function QS(e,t,n){(t!=="number"||dy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hd=Array.isArray;function rc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ea(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function XS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return pn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gk(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(pe(92));if(hd(n)){if(1<n.length)throw Error(pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ea(n)}}function $F(e,t){var n=Ea(t.value),r=Ea(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function EF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function JS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?EF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ym,xF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ym=ym||document.createElement("div"),ym.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ym.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ah(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YY=["Webkit","ms","Moz","O"];Object.keys(Id).forEach(function(e){YY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Id[t]=Id[e]})});function OF(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Id.hasOwnProperty(e)&&Id[e]?(""+t).trim():t+"px"}function PF(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OF(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var QY=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZS(e,t){if(t){if(QY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function e$(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t$=null;function oO(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var n$=null,ic=null,oc=null;function Qk(e){if(e=fp(e)){if(typeof n$!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=ww(t),n$(e.stateNode,e.type,t))}}function CF(e){ic?oc?oc.push(e):oc=[e]:ic=e}function IF(){if(ic){var e=ic,t=oc;if(oc=ic=null,Qk(e),t)for(e=0;e<t.length;e++)Qk(t[e])}}function kF(e,t){return e(t)}function TF(){}var Ub=!1;function AF(e,t,n){if(Ub)return e(t,n);Ub=!0;try{return kF(e,t,n)}finally{Ub=!1,(ic!==null||oc!==null)&&(TF(),IF())}}function lh(e,t){var n=e.stateNode;if(n===null)return null;var r=ww(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(pe(231,t,typeof n));return n}var r$=!1;if(gs)try{var zf={};Object.defineProperty(zf,"passive",{get:function(){r$=!0}}),window.addEventListener("test",zf,zf),window.removeEventListener("test",zf,zf)}catch{r$=!1}function XY(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var kd=!1,hy=null,py=!1,i$=null,JY={onError:function(e){kd=!0,hy=e}};function ZY(e,t,n,r,i,o,s,a,l){kd=!1,hy=null,XY.apply(JY,arguments)}function eQ(e,t,n,r,i,o,s,a,l){if(ZY.apply(this,arguments),kd){if(kd){var u=hy;kd=!1,hy=null}else throw Error(pe(198));py||(py=!0,i$=u)}}function cu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function NF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xk(e){if(cu(e)!==e)throw Error(pe(188))}function tQ(e){var t=e.alternate;if(!t){if(t=cu(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xk(i),e;if(o===r)return Xk(i),t;o=o.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?e:t}function RF(e){return e=tQ(e),e!==null?DF(e):null}function DF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=DF(e);if(t!==null)return t;e=e.sibling}return null}var MF=wi.unstable_scheduleCallback,Jk=wi.unstable_cancelCallback,nQ=wi.unstable_shouldYield,rQ=wi.unstable_requestPaint,Pn=wi.unstable_now,iQ=wi.unstable_getCurrentPriorityLevel,sO=wi.unstable_ImmediatePriority,LF=wi.unstable_UserBlockingPriority,my=wi.unstable_NormalPriority,oQ=wi.unstable_LowPriority,jF=wi.unstable_IdlePriority,mw=null,Do=null;function sQ(e){if(Do&&typeof Do.onCommitFiberRoot=="function")try{Do.onCommitFiberRoot(mw,e,void 0,(e.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:uQ,aQ=Math.log,lQ=Math.LN2;function uQ(e){return e>>>=0,e===0?32:31-(aQ(e)/lQ|0)|0}var vm=64,wm=4194304;function pd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gy(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=pd(a):(o&=s,o!==0&&(r=pd(o)))}else s=n&~i,s!==0?r=pd(s):o!==0&&(r=pd(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fo(t),i=1<<n,r|=e[n],t&=~i;return r}function cQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fQ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-fo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=cQ(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function o$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zF(){var e=vm;return vm<<=1,!(vm&4194240)&&(vm=64),e}function Hb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function up(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fo(t),e[t]=n}function dQ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-fo(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function aO(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function FF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VF,lO,BF,UF,HF,s$=!1,_m=[],la=null,ua=null,ca=null,uh=new Map,ch=new Map,Gs=[],hQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zk(e,t){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":uh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(t.pointerId)}}function Ff(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=fp(t),t!==null&&lO(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pQ(e,t,n,r,i){switch(t){case"focusin":return la=Ff(la,e,t,n,r,i),!0;case"dragenter":return ua=Ff(ua,e,t,n,r,i),!0;case"mouseover":return ca=Ff(ca,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return uh.set(o,Ff(uh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ch.set(o,Ff(ch.get(o)||null,e,t,n,r,i)),!0}return!1}function qF(e){var t=bl(e.target);if(t!==null){var n=cu(t);if(n!==null){if(t=n.tag,t===13){if(t=NF(n),t!==null){e.blockedOn=t,HF(e.priority,function(){BF(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=a$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);t$=r,n.target.dispatchEvent(r),t$=null}else return t=fp(n),t!==null&&lO(t),e.blockedOn=n,!1;t.shift()}return!0}function eT(e,t,n){xg(e)&&n.delete(t)}function mQ(){s$=!1,la!==null&&xg(la)&&(la=null),ua!==null&&xg(ua)&&(ua=null),ca!==null&&xg(ca)&&(ca=null),uh.forEach(eT),ch.forEach(eT)}function Vf(e,t){e.blockedOn===t&&(e.blockedOn=null,s$||(s$=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,mQ)))}function fh(e){function t(i){return Vf(i,e)}if(0<_m.length){Vf(_m[0],e);for(var n=1;n<_m.length;n++){var r=_m[n];r.blockedOn===e&&(r.blockedOn=null)}}for(la!==null&&Vf(la,e),ua!==null&&Vf(ua,e),ca!==null&&Vf(ca,e),uh.forEach(t),ch.forEach(t),n=0;n<Gs.length;n++)r=Gs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gs.length&&(n=Gs[0],n.blockedOn===null);)qF(n),n.blockedOn===null&&Gs.shift()}var sc=Is.ReactCurrentBatchConfig,yy=!0;function gQ(e,t,n,r){var i=Lt,o=sc.transition;sc.transition=null;try{Lt=1,uO(e,t,n,r)}finally{Lt=i,sc.transition=o}}function yQ(e,t,n,r){var i=Lt,o=sc.transition;sc.transition=null;try{Lt=4,uO(e,t,n,r)}finally{Lt=i,sc.transition=o}}function uO(e,t,n,r){if(yy){var i=a$(e,t,n,r);if(i===null)e1(e,t,r,vy,n),Zk(e,r);else if(pQ(i,e,t,n,r))r.stopPropagation();else if(Zk(e,r),t&4&&-1<hQ.indexOf(e)){for(;i!==null;){var o=fp(i);if(o!==null&&VF(o),o=a$(e,t,n,r),o===null&&e1(e,t,r,vy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else e1(e,t,r,null,n)}}var vy=null;function a$(e,t,n,r){if(vy=null,e=oO(r),e=bl(e),e!==null)if(t=cu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=NF(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vy=e,null}function WF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iQ()){case sO:return 1;case LF:return 4;case my:case oQ:return 16;case jF:return 536870912;default:return 16}default:return 16}}var ra=null,cO=null,Og=null;function KF(){if(Og)return Og;var e,t=cO,n=t.length,r,i="value"in ra?ra.value:ra.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Og=i.slice(e,1<r?1-r:void 0)}function Pg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bm(){return!0}function tT(){return!1}function Pi(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bm:tT,this.isPropagationStopped=tT,this}return pn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bm)},persist:function(){},isPersistent:bm}),t}var af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fO=Pi(af),cp=pn({},af,{view:0,detail:0}),vQ=Pi(cp),qb,Wb,Bf,gw=pn({},cp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bf&&(Bf&&e.type==="mousemove"?(qb=e.screenX-Bf.screenX,Wb=e.screenY-Bf.screenY):Wb=qb=0,Bf=e),qb)},movementY:function(e){return"movementY"in e?e.movementY:Wb}}),nT=Pi(gw),wQ=pn({},gw,{dataTransfer:0}),_Q=Pi(wQ),bQ=pn({},cp,{relatedTarget:0}),Kb=Pi(bQ),SQ=pn({},af,{animationName:0,elapsedTime:0,pseudoElement:0}),$Q=Pi(SQ),EQ=pn({},af,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xQ=Pi(EQ),OQ=pn({},af,{data:0}),rT=Pi(OQ),PQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IQ[e])?!!t[e]:!1}function dO(){return kQ}var TQ=pn({},cp,{key:function(e){if(e.key){var t=PQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dO,charCode:function(e){return e.type==="keypress"?Pg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AQ=Pi(TQ),NQ=pn({},gw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iT=Pi(NQ),RQ=pn({},cp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dO}),DQ=Pi(RQ),MQ=pn({},af,{propertyName:0,elapsedTime:0,pseudoElement:0}),LQ=Pi(MQ),jQ=pn({},gw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zQ=Pi(jQ),FQ=[9,13,27,32],hO=gs&&"CompositionEvent"in window,Td=null;gs&&"documentMode"in document&&(Td=document.documentMode);var VQ=gs&&"TextEvent"in window&&!Td,GF=gs&&(!hO||Td&&8<Td&&11>=Td),oT=String.fromCharCode(32),sT=!1;function YF(e,t){switch(e){case"keyup":return FQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lu=!1;function BQ(e,t){switch(e){case"compositionend":return QF(t);case"keypress":return t.which!==32?null:(sT=!0,oT);case"textInput":return e=t.data,e===oT&&sT?null:e;default:return null}}function UQ(e,t){if(Lu)return e==="compositionend"||!hO&&YF(e,t)?(e=KF(),Og=cO=ra=null,Lu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GF&&t.locale!=="ko"?null:t.data;default:return null}}var HQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HQ[e.type]:t==="textarea"}function XF(e,t,n,r){CF(r),t=wy(t,"onChange"),0<t.length&&(n=new fO("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ad=null,dh=null;function qQ(e){l5(e,0)}function yw(e){var t=Fu(e);if(bF(t))return e}function WQ(e,t){if(e==="change")return t}var JF=!1;if(gs){var Gb;if(gs){var Yb="oninput"in document;if(!Yb){var lT=document.createElement("div");lT.setAttribute("oninput","return;"),Yb=typeof lT.oninput=="function"}Gb=Yb}else Gb=!1;JF=Gb&&(!document.documentMode||9<document.documentMode)}function uT(){Ad&&(Ad.detachEvent("onpropertychange",ZF),dh=Ad=null)}function ZF(e){if(e.propertyName==="value"&&yw(dh)){var t=[];XF(t,dh,e,oO(e)),AF(qQ,t)}}function KQ(e,t,n){e==="focusin"?(uT(),Ad=t,dh=n,Ad.attachEvent("onpropertychange",ZF)):e==="focusout"&&uT()}function GQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yw(dh)}function YQ(e,t){if(e==="click")return yw(t)}function QQ(e,t){if(e==="input"||e==="change")return yw(t)}function XQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yo=typeof Object.is=="function"?Object.is:XQ;function hh(e,t){if(yo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!US.call(t,i)||!yo(e[i],t[i]))return!1}return!0}function cT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fT(e,t){var n=cT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cT(n)}}function e5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?e5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function t5(){for(var e=window,t=dy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dy(e.document)}return t}function pO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JQ(e){var t=t5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&e5(n.ownerDocument.documentElement,n)){if(r!==null&&pO(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=fT(n,o);var s=fT(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZQ=gs&&"documentMode"in document&&11>=document.documentMode,ju=null,l$=null,Nd=null,u$=!1;function dT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;u$||ju==null||ju!==dy(r)||(r=ju,"selectionStart"in r&&pO(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nd&&hh(Nd,r)||(Nd=r,r=wy(l$,"onSelect"),0<r.length&&(t=new fO("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ju)))}function Sm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zu={animationend:Sm("Animation","AnimationEnd"),animationiteration:Sm("Animation","AnimationIteration"),animationstart:Sm("Animation","AnimationStart"),transitionend:Sm("Transition","TransitionEnd")},Qb={},n5={};gs&&(n5=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function vw(e){if(Qb[e])return Qb[e];if(!zu[e])return e;var t=zu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in n5)return Qb[e]=t[n];return e}var r5=vw("animationend"),i5=vw("animationiteration"),o5=vw("animationstart"),s5=vw("transitionend"),a5=new Map,hT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(e,t){a5.set(e,t),uu(t,[e])}for(var Xb=0;Xb<hT.length;Xb++){var Jb=hT[Xb],eX=Jb.toLowerCase(),tX=Jb[0].toUpperCase()+Jb.slice(1);ja(eX,"on"+tX)}ja(r5,"onAnimationEnd");ja(i5,"onAnimationIteration");ja(o5,"onAnimationStart");ja("dblclick","onDoubleClick");ja("focusin","onFocus");ja("focusout","onBlur");ja(s5,"onTransitionEnd");Ec("onMouseEnter",["mouseout","mouseover"]);Ec("onMouseLeave",["mouseout","mouseover"]);Ec("onPointerEnter",["pointerout","pointerover"]);Ec("onPointerLeave",["pointerout","pointerover"]);uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nX=new Set("cancel close invalid load scroll toggle".split(" ").concat(md));function pT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,eQ(r,t,void 0,e),e.currentTarget=null}function l5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;pT(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;pT(i,a,u),o=l}}}if(py)throw e=i$,py=!1,i$=null,e}function Yt(e,t){var n=t[p$];n===void 0&&(n=t[p$]=new Set);var r=e+"__bubble";n.has(r)||(u5(t,e,2,!1),n.add(r))}function Zb(e,t,n){var r=0;t&&(r|=4),u5(n,e,r,t)}var $m="_reactListening"+Math.random().toString(36).slice(2);function ph(e){if(!e[$m]){e[$m]=!0,gF.forEach(function(n){n!=="selectionchange"&&(nX.has(n)||Zb(n,!1,e),Zb(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$m]||(t[$m]=!0,Zb("selectionchange",!1,t))}}function u5(e,t,n,r){switch(WF(t)){case 1:var i=gQ;break;case 4:i=yQ;break;default:i=uO}n=i.bind(null,t,n,e),i=void 0,!r$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function e1(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=bl(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}AF(function(){var u=o,c=oO(n),f=[];e:{var d=a5.get(e);if(d!==void 0){var h=fO,p=e;switch(e){case"keypress":if(Pg(n)===0)break e;case"keydown":case"keyup":h=AQ;break;case"focusin":p="focus",h=Kb;break;case"focusout":p="blur",h=Kb;break;case"beforeblur":case"afterblur":h=Kb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=nT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_Q;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=DQ;break;case r5:case i5:case o5:h=$Q;break;case s5:h=LQ;break;case"scroll":h=vQ;break;case"wheel":h=zQ;break;case"copy":case"cut":case"paste":h=xQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=iT}var g=(t&4)!==0,v=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var y=u,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,m!==null&&(b=lh(y,m),b!=null&&g.push(mh(y,b,w)))),v)break;y=y.return}0<g.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==t$&&(p=n.relatedTarget||n.fromElement)&&(bl(p)||p[ys]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?bl(p):null,p!==null&&(v=cu(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=nT,b="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=iT,b="onPointerLeave",m="onPointerEnter",y="pointer"),v=h==null?d:Fu(h),w=p==null?d:Fu(p),d=new g(b,y+"leave",h,n,c),d.target=v,d.relatedTarget=w,b=null,bl(c)===u&&(g=new g(m,y+"enter",p,n,c),g.target=w,g.relatedTarget=v,b=g),v=b,h&&p)t:{for(g=h,m=p,y=0,w=g;w;w=Su(w))y++;for(w=0,b=m;b;b=Su(b))w++;for(;0<y-w;)g=Su(g),y--;for(;0<w-y;)m=Su(m),w--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Su(g),m=Su(m)}g=null}else g=null;h!==null&&mT(f,d,h,g,!1),p!==null&&v!==null&&mT(f,v,p,g,!0)}}e:{if(d=u?Fu(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var $=WQ;else if(aT(d))if(JF)$=QQ;else{$=GQ;var _=KQ}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&($=YQ);if($&&($=$(e,u))){XF(f,$,n,c);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&QS(d,"number",d.value)}switch(_=u?Fu(u):window,e){case"focusin":(aT(_)||_.contentEditable==="true")&&(ju=_,l$=u,Nd=null);break;case"focusout":Nd=l$=ju=null;break;case"mousedown":u$=!0;break;case"contextmenu":case"mouseup":case"dragend":u$=!1,dT(f,n,c);break;case"selectionchange":if(ZQ)break;case"keydown":case"keyup":dT(f,n,c)}var E;if(hO)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Lu?YF(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(GF&&n.locale!=="ko"&&(Lu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Lu&&(E=KF()):(ra=c,cO="value"in ra?ra.value:ra.textContent,Lu=!0)),_=wy(u,C),0<_.length&&(C=new rT(C,e,null,n,c),f.push({event:C,listeners:_}),E?C.data=E:(E=QF(n),E!==null&&(C.data=E)))),(E=VQ?BQ(e,n):UQ(e,n))&&(u=wy(u,"onBeforeInput"),0<u.length&&(c=new rT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}l5(f,t)})}function mh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wy(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=lh(e,n),o!=null&&r.unshift(mh(e,o,i)),o=lh(e,t),o!=null&&r.push(mh(e,o,i))),e=e.return}return r}function Su(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mT(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=lh(n,o),l!=null&&s.unshift(mh(n,l,a))):i||(l=lh(n,o),l!=null&&s.push(mh(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var rX=/\r\n?/g,iX=/\u0000|\uFFFD/g;function gT(e){return(typeof e=="string"?e:""+e).replace(rX,`
`).replace(iX,"")}function Em(e,t,n){if(t=gT(t),gT(e)!==t&&n)throw Error(pe(425))}function _y(){}var c$=null,f$=null;function d$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var h$=typeof setTimeout=="function"?setTimeout:void 0,oX=typeof clearTimeout=="function"?clearTimeout:void 0,yT=typeof Promise=="function"?Promise:void 0,sX=typeof queueMicrotask=="function"?queueMicrotask:typeof yT<"u"?function(e){return yT.resolve(null).then(e).catch(aX)}:h$;function aX(e){setTimeout(function(){throw e})}function t1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),fh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fh(t)}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lf=Math.random().toString(36).slice(2),Co="__reactFiber$"+lf,gh="__reactProps$"+lf,ys="__reactContainer$"+lf,p$="__reactEvents$"+lf,lX="__reactListeners$"+lf,uX="__reactHandles$"+lf;function bl(e){var t=e[Co];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ys]||n[Co]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vT(e);e!==null;){if(n=e[Co])return n;e=vT(e)}return t}e=n,n=e.parentNode}return null}function fp(e){return e=e[Co]||e[ys],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function ww(e){return e[gh]||null}var m$=[],Vu=-1;function za(e){return{current:e}}function en(e){0>Vu||(e.current=m$[Vu],m$[Vu]=null,Vu--)}function Wt(e,t){Vu++,m$[Vu]=e.current,e.current=t}var xa={},Cr=za(xa),oi=za(!1),Fl=xa;function xc(e,t){var n=e.type.contextTypes;if(!n)return xa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function si(e){return e=e.childContextTypes,e!=null}function by(){en(oi),en(Cr)}function wT(e,t,n){if(Cr.current!==xa)throw Error(pe(168));Wt(Cr,t),Wt(oi,n)}function c5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(pe(108,KY(e)||"Unknown",i));return pn({},n,r)}function Sy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xa,Fl=Cr.current,Wt(Cr,e),Wt(oi,oi.current),!0}function _T(e,t,n){var r=e.stateNode;if(!r)throw Error(pe(169));n?(e=c5(e,t,Fl),r.__reactInternalMemoizedMergedChildContext=e,en(oi),en(Cr),Wt(Cr,e)):en(oi),Wt(oi,n)}var es=null,_w=!1,n1=!1;function f5(e){es===null?es=[e]:es.push(e)}function cX(e){_w=!0,f5(e)}function Fa(){if(!n1&&es!==null){n1=!0;var e=0,t=Lt;try{var n=es;for(Lt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}es=null,_w=!1}catch(i){throw es!==null&&(es=es.slice(e+1)),MF(sO,Fa),i}finally{Lt=t,n1=!1}}return null}var Bu=[],Uu=0,$y=null,Ey=0,Di=[],Mi=0,Vl=null,rs=1,is="";function rl(e,t){Bu[Uu++]=Ey,Bu[Uu++]=$y,$y=e,Ey=t}function d5(e,t,n){Di[Mi++]=rs,Di[Mi++]=is,Di[Mi++]=Vl,Vl=e;var r=rs;e=is;var i=32-fo(r)-1;r&=~(1<<i),n+=1;var o=32-fo(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,rs=1<<32-fo(t)+i|n<<i|r,is=o+e}else rs=1<<o|n<<i|r,is=e}function mO(e){e.return!==null&&(rl(e,1),d5(e,1,0))}function gO(e){for(;e===$y;)$y=Bu[--Uu],Bu[Uu]=null,Ey=Bu[--Uu],Bu[Uu]=null;for(;e===Vl;)Vl=Di[--Mi],Di[Mi]=null,is=Di[--Mi],Di[Mi]=null,rs=Di[--Mi],Di[Mi]=null}var gi=null,hi=null,on=!1,so=null;function h5(e,t){var n=zi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gi=e,hi=fa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gi=e,hi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vl!==null?{id:rs,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=zi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gi=e,hi=null,!0):!1;default:return!1}}function g$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y$(e){if(on){var t=hi;if(t){var n=t;if(!bT(e,t)){if(g$(e))throw Error(pe(418));t=fa(n.nextSibling);var r=gi;t&&bT(e,t)?h5(r,n):(e.flags=e.flags&-4097|2,on=!1,gi=e)}}else{if(g$(e))throw Error(pe(418));e.flags=e.flags&-4097|2,on=!1,gi=e}}}function ST(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gi=e}function xm(e){if(e!==gi)return!1;if(!on)return ST(e),on=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!d$(e.type,e.memoizedProps)),t&&(t=hi)){if(g$(e))throw p5(),Error(pe(418));for(;t;)h5(e,t),t=fa(t.nextSibling)}if(ST(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){hi=fa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}hi=null}}else hi=gi?fa(e.stateNode.nextSibling):null;return!0}function p5(){for(var e=hi;e;)e=fa(e.nextSibling)}function Oc(){hi=gi=null,on=!1}function yO(e){so===null?so=[e]:so.push(e)}var fX=Is.ReactCurrentBatchConfig;function io(e,t){if(e&&e.defaultProps){t=pn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var xy=za(null),Oy=null,Hu=null,vO=null;function wO(){vO=Hu=Oy=null}function _O(e){var t=xy.current;en(xy),e._currentValue=t}function v$(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ac(e,t){Oy=e,vO=Hu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jr=!0),e.firstContext=null)}function Wi(e){var t=e._currentValue;if(vO!==e)if(e={context:e,memoizedValue:t,next:null},Hu===null){if(Oy===null)throw Error(pe(308));Hu=e,Oy.dependencies={lanes:0,firstContext:e}}else Hu=Hu.next=e;return t}var Sl=null;function bO(e){Sl===null?Sl=[e]:Sl.push(e)}function m5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,bO(t)):(n.next=i.next,i.next=n),t.interleaved=n,vs(e,r)}function vs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qs=!1;function SO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function da(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vs(e,n)}return i=r.interleaved,i===null?(t.next=t,bO(r)):(t.next=i.next,i.next=t),r.interleaved=t,vs(e,n)}function Cg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aO(e,n)}}function $T(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Py(e,t,n,r){var i=e.updateQueue;qs=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=pn({},f,d);break e;case 2:qs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ul|=s,e.lanes=s,e.memoizedState=f}}function ET(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var y5=new mF.Component().refs;function w$(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bw={isMounted:function(e){return(e=e._reactInternals)?cu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dr(),i=pa(e),o=us(r,i);o.payload=t,n!=null&&(o.callback=n),t=da(e,o,i),t!==null&&(ho(t,e,i,r),Cg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dr(),i=pa(e),o=us(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=da(e,o,i),t!==null&&(ho(t,e,i,r),Cg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dr(),r=pa(e),i=us(n,r);i.tag=2,t!=null&&(i.callback=t),t=da(e,i,r),t!==null&&(ho(t,e,r,n),Cg(t,e,r))}};function xT(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!hh(n,r)||!hh(i,o):!0}function v5(e,t,n){var r=!1,i=xa,o=t.contextType;return typeof o=="object"&&o!==null?o=Wi(o):(i=si(t)?Fl:Cr.current,r=t.contextTypes,o=(r=r!=null)?xc(e,i):xa),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bw,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function OT(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bw.enqueueReplaceState(t,t.state,null)}function _$(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=y5,SO(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Wi(o):(o=si(t)?Fl:Cr.current,i.context=xc(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(w$(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&bw.enqueueReplaceState(i,i.state,null),Py(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Uf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===y5&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,e))}return e}function Om(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function PT(e){var t=e._init;return t(e._payload)}function w5(e){function t(m,y){if(e){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=ma(m,y),m.index=0,m.sibling=null,m}function o(m,y,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,w,b){return y===null||y.tag!==6?(y=u1(w,m.mode,b),y.return=m,y):(y=i(y,w),y.return=m,y)}function l(m,y,w,b){var $=w.type;return $===Mu?c(m,y,w.props.children,b,w.key):y!==null&&(y.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Hs&&PT($)===y.type)?(b=i(y,w.props),b.ref=Uf(m,y,w),b.return=m,b):(b=Rg(w.type,w.key,w.props,null,m.mode,b),b.ref=Uf(m,y,w),b.return=m,b)}function u(m,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=c1(w,m.mode,b),y.return=m,y):(y=i(y,w.children||[]),y.return=m,y)}function c(m,y,w,b,$){return y===null||y.tag!==7?(y=Il(w,m.mode,b,$),y.return=m,y):(y=i(y,w),y.return=m,y)}function f(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=u1(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mm:return w=Rg(y.type,y.key,y.props,null,m.mode,w),w.ref=Uf(m,null,y),w.return=m,w;case Du:return y=c1(y,m.mode,w),y.return=m,y;case Hs:var b=y._init;return f(m,b(y._payload),w)}if(hd(y)||jf(y))return y=Il(y,m.mode,w,null),y.return=m,y;Om(m,y)}return null}function d(m,y,w,b){var $=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return $!==null?null:a(m,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mm:return w.key===$?l(m,y,w,b):null;case Du:return w.key===$?u(m,y,w,b):null;case Hs:return $=w._init,d(m,y,$(w._payload),b)}if(hd(w)||jf(w))return $!==null?null:c(m,y,w,b,null);Om(m,w)}return null}function h(m,y,w,b,$){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(w)||null,a(y,m,""+b,$);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mm:return m=m.get(b.key===null?w:b.key)||null,l(y,m,b,$);case Du:return m=m.get(b.key===null?w:b.key)||null,u(y,m,b,$);case Hs:var _=b._init;return h(m,y,w,_(b._payload),$)}if(hd(b)||jf(b))return m=m.get(w)||null,c(y,m,b,$,null);Om(y,b)}return null}function p(m,y,w,b){for(var $=null,_=null,E=y,C=y=0,N=null;E!==null&&C<w.length;C++){E.index>C?(N=E,E=null):N=E.sibling;var L=d(m,E,w[C],b);if(L===null){E===null&&(E=N);break}e&&E&&L.alternate===null&&t(m,E),y=o(L,y,C),_===null?$=L:_.sibling=L,_=L,E=N}if(C===w.length)return n(m,E),on&&rl(m,C),$;if(E===null){for(;C<w.length;C++)E=f(m,w[C],b),E!==null&&(y=o(E,y,C),_===null?$=E:_.sibling=E,_=E);return on&&rl(m,C),$}for(E=r(m,E);C<w.length;C++)N=h(E,m,C,w[C],b),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?C:N.key),y=o(N,y,C),_===null?$=N:_.sibling=N,_=N);return e&&E.forEach(function(M){return t(m,M)}),on&&rl(m,C),$}function g(m,y,w,b){var $=jf(w);if(typeof $!="function")throw Error(pe(150));if(w=$.call(w),w==null)throw Error(pe(151));for(var _=$=null,E=y,C=y=0,N=null,L=w.next();E!==null&&!L.done;C++,L=w.next()){E.index>C?(N=E,E=null):N=E.sibling;var M=d(m,E,L.value,b);if(M===null){E===null&&(E=N);break}e&&E&&M.alternate===null&&t(m,E),y=o(M,y,C),_===null?$=M:_.sibling=M,_=M,E=N}if(L.done)return n(m,E),on&&rl(m,C),$;if(E===null){for(;!L.done;C++,L=w.next())L=f(m,L.value,b),L!==null&&(y=o(L,y,C),_===null?$=L:_.sibling=L,_=L);return on&&rl(m,C),$}for(E=r(m,E);!L.done;C++,L=w.next())L=h(E,m,C,L.value,b),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?C:L.key),y=o(L,y,C),_===null?$=L:_.sibling=L,_=L);return e&&E.forEach(function(B){return t(m,B)}),on&&rl(m,C),$}function v(m,y,w,b){if(typeof w=="object"&&w!==null&&w.type===Mu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case mm:e:{for(var $=w.key,_=y;_!==null;){if(_.key===$){if($=w.type,$===Mu){if(_.tag===7){n(m,_.sibling),y=i(_,w.props.children),y.return=m,m=y;break e}}else if(_.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Hs&&PT($)===_.type){n(m,_.sibling),y=i(_,w.props),y.ref=Uf(m,_,w),y.return=m,m=y;break e}n(m,_);break}else t(m,_);_=_.sibling}w.type===Mu?(y=Il(w.props.children,m.mode,b,w.key),y.return=m,m=y):(b=Rg(w.type,w.key,w.props,null,m.mode,b),b.ref=Uf(m,y,w),b.return=m,m=b)}return s(m);case Du:e:{for(_=w.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(m,y.sibling),y=i(y,w.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=c1(w,m.mode,b),y.return=m,m=y}return s(m);case Hs:return _=w._init,v(m,y,_(w._payload),b)}if(hd(w))return p(m,y,w,b);if(jf(w))return g(m,y,w,b);Om(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,w),y.return=m,m=y):(n(m,y),y=u1(w,m.mode,b),y.return=m,m=y),s(m)):n(m,y)}return v}var Pc=w5(!0),_5=w5(!1),dp={},Mo=za(dp),yh=za(dp),vh=za(dp);function $l(e){if(e===dp)throw Error(pe(174));return e}function $O(e,t){switch(Wt(vh,t),Wt(yh,e),Wt(Mo,dp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:JS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=JS(t,e)}en(Mo),Wt(Mo,t)}function Cc(){en(Mo),en(yh),en(vh)}function b5(e){$l(vh.current);var t=$l(Mo.current),n=JS(t,e.type);t!==n&&(Wt(yh,e),Wt(Mo,n))}function EO(e){yh.current===e&&(en(Mo),en(yh))}var fn=za(0);function Cy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var r1=[];function xO(){for(var e=0;e<r1.length;e++)r1[e]._workInProgressVersionPrimary=null;r1.length=0}var Ig=Is.ReactCurrentDispatcher,i1=Is.ReactCurrentBatchConfig,Bl=0,dn=null,jn=null,Gn=null,Iy=!1,Rd=!1,wh=0,dX=0;function yr(){throw Error(pe(321))}function OO(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yo(e[n],t[n]))return!1;return!0}function PO(e,t,n,r,i,o){if(Bl=o,dn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ig.current=e===null||e.memoizedState===null?gX:yX,e=n(r,i),Rd){o=0;do{if(Rd=!1,wh=0,25<=o)throw Error(pe(301));o+=1,Gn=jn=null,t.updateQueue=null,Ig.current=vX,e=n(r,i)}while(Rd)}if(Ig.current=ky,t=jn!==null&&jn.next!==null,Bl=0,Gn=jn=dn=null,Iy=!1,t)throw Error(pe(300));return e}function CO(){var e=wh!==0;return wh=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?dn.memoizedState=Gn=e:Gn=Gn.next=e,Gn}function Ki(){if(jn===null){var e=dn.alternate;e=e!==null?e.memoizedState:null}else e=jn.next;var t=Gn===null?dn.memoizedState:Gn.next;if(t!==null)Gn=t,jn=e;else{if(e===null)throw Error(pe(310));jn=e,e={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Gn===null?dn.memoizedState=Gn=e:Gn=Gn.next=e}return Gn}function _h(e,t){return typeof t=="function"?t(e):t}function o1(e){var t=Ki(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=jn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Bl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,dn.lanes|=c,Ul|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,yo(r,t.memoizedState)||(Jr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,dn.lanes|=o,Ul|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function s1(e){var t=Ki(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);yo(o,t.memoizedState)||(Jr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function S5(){}function $5(e,t){var n=dn,r=Ki(),i=t(),o=!yo(r.memoizedState,i);if(o&&(r.memoizedState=i,Jr=!0),r=r.queue,IO(O5.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,bh(9,x5.bind(null,n,r,i,t),void 0,null),Yn===null)throw Error(pe(349));Bl&30||E5(n,t,i)}return i}function E5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dn.updateQueue,t===null?(t={lastEffect:null,stores:null},dn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function x5(e,t,n,r){t.value=n,t.getSnapshot=r,P5(t)&&C5(e)}function O5(e,t,n){return n(function(){P5(t)&&C5(e)})}function P5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yo(e,n)}catch{return!0}}function C5(e){var t=vs(e,1);t!==null&&ho(t,e,1,-1)}function CT(e){var t=Eo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:e},t.queue=e,e=e.dispatch=mX.bind(null,dn,e),[t.memoizedState,e]}function bh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dn.updateQueue,t===null?(t={lastEffect:null,stores:null},dn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function I5(){return Ki().memoizedState}function kg(e,t,n,r){var i=Eo();dn.flags|=e,i.memoizedState=bh(1|t,n,void 0,r===void 0?null:r)}function Sw(e,t,n,r){var i=Ki();r=r===void 0?null:r;var o=void 0;if(jn!==null){var s=jn.memoizedState;if(o=s.destroy,r!==null&&OO(r,s.deps)){i.memoizedState=bh(t,n,o,r);return}}dn.flags|=e,i.memoizedState=bh(1|t,n,o,r)}function IT(e,t){return kg(8390656,8,e,t)}function IO(e,t){return Sw(2048,8,e,t)}function k5(e,t){return Sw(4,2,e,t)}function T5(e,t){return Sw(4,4,e,t)}function A5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N5(e,t,n){return n=n!=null?n.concat([e]):null,Sw(4,4,A5.bind(null,t,e),n)}function kO(){}function R5(e,t){var n=Ki();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&OO(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function D5(e,t){var n=Ki();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&OO(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function M5(e,t,n){return Bl&21?(yo(n,t)||(n=zF(),dn.lanes|=n,Ul|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jr=!0),e.memoizedState=n)}function hX(e,t){var n=Lt;Lt=n!==0&&4>n?n:4,e(!0);var r=i1.transition;i1.transition={};try{e(!1),t()}finally{Lt=n,i1.transition=r}}function L5(){return Ki().memoizedState}function pX(e,t,n){var r=pa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j5(e))z5(t,n);else if(n=m5(e,t,n,r),n!==null){var i=Dr();ho(n,e,r,i),F5(n,t,r)}}function mX(e,t,n){var r=pa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j5(e))z5(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,yo(a,s)){var l=t.interleaved;l===null?(i.next=i,bO(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=m5(e,t,i,r),n!==null&&(i=Dr(),ho(n,e,r,i),F5(n,t,r))}}function j5(e){var t=e.alternate;return e===dn||t!==null&&t===dn}function z5(e,t){Rd=Iy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function F5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aO(e,n)}}var ky={readContext:Wi,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},gX={readContext:Wi,useCallback:function(e,t){return Eo().memoizedState=[e,t===void 0?null:t],e},useContext:Wi,useEffect:IT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kg(4194308,4,A5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kg(4194308,4,e,t)},useInsertionEffect:function(e,t){return kg(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pX.bind(null,dn,e),[r.memoizedState,e]},useRef:function(e){var t=Eo();return e={current:e},t.memoizedState=e},useState:CT,useDebugValue:kO,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=CT(!1),t=e[0];return e=hX.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dn,i=Eo();if(on){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=t(),Yn===null)throw Error(pe(349));Bl&30||E5(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,IT(O5.bind(null,r,o,e),[e]),r.flags|=2048,bh(9,x5.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Yn.identifierPrefix;if(on){var n=is,r=rs;n=(r&~(1<<32-fo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dX++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yX={readContext:Wi,useCallback:R5,useContext:Wi,useEffect:IO,useImperativeHandle:N5,useInsertionEffect:k5,useLayoutEffect:T5,useMemo:D5,useReducer:o1,useRef:I5,useState:function(){return o1(_h)},useDebugValue:kO,useDeferredValue:function(e){var t=Ki();return M5(t,jn.memoizedState,e)},useTransition:function(){var e=o1(_h)[0],t=Ki().memoizedState;return[e,t]},useMutableSource:S5,useSyncExternalStore:$5,useId:L5,unstable_isNewReconciler:!1},vX={readContext:Wi,useCallback:R5,useContext:Wi,useEffect:IO,useImperativeHandle:N5,useInsertionEffect:k5,useLayoutEffect:T5,useMemo:D5,useReducer:s1,useRef:I5,useState:function(){return s1(_h)},useDebugValue:kO,useDeferredValue:function(e){var t=Ki();return jn===null?t.memoizedState=e:M5(t,jn.memoizedState,e)},useTransition:function(){var e=s1(_h)[0],t=Ki().memoizedState;return[e,t]},useMutableSource:S5,useSyncExternalStore:$5,useId:L5,unstable_isNewReconciler:!1};function Ic(e,t){try{var n="",r=t;do n+=WY(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function a1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function b$(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wX=typeof WeakMap=="function"?WeakMap:Map;function V5(e,t,n){n=us(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ay||(Ay=!0,T$=r),b$(e,t)},n}function B5(e,t,n){n=us(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){b$(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){b$(e,t),typeof r!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function kT(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wX;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=NX.bind(null,e,t,n),t.then(e,e))}function TT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function AT(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=us(-1,1),t.tag=2,da(n,t,1))),n.lanes|=1),e)}var _X=Is.ReactCurrentOwner,Jr=!1;function Ar(e,t,n,r){t.child=e===null?_5(t,null,n,r):Pc(t,e.child,n,r)}function NT(e,t,n,r,i){n=n.render;var o=t.ref;return ac(t,i),r=PO(e,t,n,r,o,i),n=CO(),e!==null&&!Jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ws(e,t,i)):(on&&n&&mO(t),t.flags|=1,Ar(e,t,r,i),t.child)}function RT(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!jO(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,U5(e,t,o,r,i)):(e=Rg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:hh,n(s,r)&&e.ref===t.ref)return ws(e,t,i)}return t.flags|=1,e=ma(o,r),e.ref=t.ref,e.return=t,t.child=e}function U5(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(hh(o,r)&&e.ref===t.ref)if(Jr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Jr=!0);else return t.lanes=e.lanes,ws(e,t,i)}return S$(e,t,n,r,i)}function H5(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Wu,di),di|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wt(Wu,di),di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Wt(Wu,di),di|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Wt(Wu,di),di|=r;return Ar(e,t,i,n),t.child}function q5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function S$(e,t,n,r,i){var o=si(n)?Fl:Cr.current;return o=xc(t,o),ac(t,i),n=PO(e,t,n,r,o,i),r=CO(),e!==null&&!Jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ws(e,t,i)):(on&&r&&mO(t),t.flags|=1,Ar(e,t,n,i),t.child)}function DT(e,t,n,r,i){if(si(n)){var o=!0;Sy(t)}else o=!1;if(ac(t,i),t.stateNode===null)Tg(e,t),v5(t,n,r),_$(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wi(u):(u=si(n)?Fl:Cr.current,u=xc(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&OT(t,s,r,u),qs=!1;var d=t.memoizedState;s.state=d,Py(t,r,s,i),l=t.memoizedState,a!==r||d!==l||oi.current||qs?(typeof c=="function"&&(w$(t,n,c,r),l=t.memoizedState),(a=qs||xT(t,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,g5(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:io(t.type,a),s.props=u,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wi(l):(l=si(n)?Fl:Cr.current,l=xc(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&OT(t,s,r,l),qs=!1,d=t.memoizedState,s.state=d,Py(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||oi.current||qs?(typeof h=="function"&&(w$(t,n,h,r),p=t.memoizedState),(u=qs||xT(t,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return $$(e,t,n,r,o,i)}function $$(e,t,n,r,i,o){q5(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&_T(t,n,!1),ws(e,t,o);r=t.stateNode,_X.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Pc(t,e.child,null,o),t.child=Pc(t,null,a,o)):Ar(e,t,a,o),t.memoizedState=r.state,i&&_T(t,n,!0),t.child}function W5(e){var t=e.stateNode;t.pendingContext?wT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wT(e,t.context,!1),$O(e,t.containerInfo)}function MT(e,t,n,r,i){return Oc(),yO(i),t.flags|=256,Ar(e,t,n,r),t.child}var E$={dehydrated:null,treeContext:null,retryLane:0};function x$(e){return{baseLanes:e,cachePool:null,transitions:null}}function K5(e,t,n){var r=t.pendingProps,i=fn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wt(fn,i&1),e===null)return y$(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=xw(s,r,0,null),e=Il(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=x$(n),t.memoizedState=E$,e):TO(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bX(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ma(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ma(a,o):(o=Il(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?x$(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=E$,r}return o=e.child,e=o.sibling,r=ma(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function TO(e,t){return t=xw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pm(e,t,n,r){return r!==null&&yO(r),Pc(t,e.child,null,n),e=TO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bX(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=a1(Error(pe(422))),Pm(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=xw({mode:"visible",children:r.children},i,0,null),o=Il(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Pc(t,e.child,null,s),t.child.memoizedState=x$(s),t.memoizedState=E$,o);if(!(t.mode&1))return Pm(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(pe(419)),r=a1(o,r,void 0),Pm(e,t,s,r)}if(a=(s&e.childLanes)!==0,Jr||a){if(r=Yn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vs(e,i),ho(r,e,i,-1))}return LO(),r=a1(Error(pe(421))),Pm(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=RX.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,hi=fa(i.nextSibling),gi=t,on=!0,so=null,e!==null&&(Di[Mi++]=rs,Di[Mi++]=is,Di[Mi++]=Vl,rs=e.id,is=e.overflow,Vl=t),t=TO(t,r.children),t.flags|=4096,t)}function LT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),v$(e.return,t,n)}function l1(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function G5(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ar(e,t,r.children,n),r=fn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LT(e,n,t);else if(e.tag===19)LT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wt(fn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Cy(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),l1(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cy(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}l1(t,!0,n,null,o);break;case"together":l1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ul|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,n=ma(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ma(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SX(e,t,n){switch(t.tag){case 3:W5(t),Oc();break;case 5:b5(t);break;case 1:si(t.type)&&Sy(t);break;case 4:$O(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Wt(xy,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wt(fn,fn.current&1),t.flags|=128,null):n&t.child.childLanes?K5(e,t,n):(Wt(fn,fn.current&1),e=ws(e,t,n),e!==null?e.sibling:null);Wt(fn,fn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return G5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(fn,fn.current),r)break;return null;case 22:case 23:return t.lanes=0,H5(e,t,n)}return ws(e,t,n)}var Y5,O$,Q5,X5;Y5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};O$=function(){};Q5=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$l(Mo.current);var o=null;switch(n){case"input":i=GS(e,i),r=GS(e,r),o=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),o=[];break;case"textarea":i=XS(e,i),r=XS(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_y)}ZS(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sh.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Yt("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};X5=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hf(e,t){if(!on)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $X(e,t,n){var r=t.pendingProps;switch(gO(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(t),null;case 1:return si(t.type)&&by(),vr(t),null;case 3:return r=t.stateNode,Cc(),en(oi),en(Cr),xO(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,so!==null&&(R$(so),so=null))),O$(e,t),vr(t),null;case 5:EO(t);var i=$l(vh.current);if(n=t.type,e!==null&&t.stateNode!=null)Q5(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(pe(166));return vr(t),null}if(e=$l(Mo.current),xm(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Co]=t,r[gh]=o,e=(t.mode&1)!==0,n){case"dialog":Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(i=0;i<md.length;i++)Yt(md[i],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"input":Wk(r,o),Yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Yt("invalid",r);break;case"textarea":Gk(r,o),Yt("invalid",r)}ZS(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Em(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Em(r.textContent,a,e),i=["children",""+a]):sh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Yt("scroll",r)}switch(n){case"input":gm(r),Kk(r,o,!0);break;case"textarea":gm(r),Yk(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_y)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=EF(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Co]=t,e[gh]=r,Y5(e,t,!1,!1),t.stateNode=e;e:{switch(s=e$(n,r),n){case"dialog":Yt("cancel",e),Yt("close",e),i=r;break;case"iframe":case"object":case"embed":Yt("load",e),i=r;break;case"video":case"audio":for(i=0;i<md.length;i++)Yt(md[i],e);i=r;break;case"source":Yt("error",e),i=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),i=r;break;case"details":Yt("toggle",e),i=r;break;case"input":Wk(e,r),i=GS(e,r),Yt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),Yt("invalid",e);break;case"textarea":Gk(e,r),i=XS(e,r),Yt("invalid",e);break;default:i=r}ZS(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?PF(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xF(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ah(e,l):typeof l=="number"&&ah(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Yt("scroll",e):l!=null&&tO(e,o,l,s))}switch(n){case"input":gm(e),Kk(e,r,!1);break;case"textarea":gm(e),Yk(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ea(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?rc(e,!!r.multiple,o,!1):r.defaultValue!=null&&rc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_y)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vr(t),null;case 6:if(e&&t.stateNode!=null)X5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(pe(166));if(n=$l(vh.current),$l(Mo.current),xm(t)){if(r=t.stateNode,n=t.memoizedProps,r[Co]=t,(o=r.nodeValue!==n)&&(e=gi,e!==null))switch(e.tag){case 3:Em(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Em(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Co]=t,t.stateNode=r}return vr(t),null;case 13:if(en(fn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(on&&hi!==null&&t.mode&1&&!(t.flags&128))p5(),Oc(),t.flags|=98560,o=!1;else if(o=xm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(pe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pe(317));o[Co]=t}else Oc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vr(t),o=!1}else so!==null&&(R$(so),so=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fn.current&1?Fn===0&&(Fn=3):LO())),t.updateQueue!==null&&(t.flags|=4),vr(t),null);case 4:return Cc(),O$(e,t),e===null&&ph(t.stateNode.containerInfo),vr(t),null;case 10:return _O(t.type._context),vr(t),null;case 17:return si(t.type)&&by(),vr(t),null;case 19:if(en(fn),o=t.memoizedState,o===null)return vr(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Hf(o,!1);else{if(Fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Cy(e),s!==null){for(t.flags|=128,Hf(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wt(fn,fn.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pn()>kc&&(t.flags|=128,r=!0,Hf(o,!1),t.lanes=4194304)}else{if(!r)if(e=Cy(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!on)return vr(t),null}else 2*Pn()-o.renderingStartTime>kc&&n!==1073741824&&(t.flags|=128,r=!0,Hf(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pn(),t.sibling=null,n=fn.current,Wt(fn,r?n&1|2:n&1),t):(vr(t),null);case 22:case 23:return MO(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?di&1073741824&&(vr(t),t.subtreeFlags&6&&(t.flags|=8192)):vr(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function EX(e,t){switch(gO(t),t.tag){case 1:return si(t.type)&&by(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cc(),en(oi),en(Cr),xO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return EO(t),null;case 13:if(en(fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Oc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return en(fn),null;case 4:return Cc(),null;case 10:return _O(t.type._context),null;case 22:case 23:return MO(),null;case 24:return null;default:return null}}var Cm=!1,Er=!1,xX=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function qu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gn(e,t,r)}else n.current=null}function P$(e,t,n){try{n()}catch(r){gn(e,t,r)}}var jT=!1;function OX(e,t){if(c$=yy,e=t5(),pO(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(f$={focusedElem:e,selectionRange:n},yy=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:io(t.type,g),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(b){gn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return p=jT,jT=!1,p}function Dd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&P$(t,n,o)}i=i.next}while(i!==r)}}function $w(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function C$(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function J5(e){var t=e.alternate;t!==null&&(e.alternate=null,J5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Co],delete t[gh],delete t[p$],delete t[lX],delete t[uX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z5(e){return e.tag===5||e.tag===3||e.tag===4}function zT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_y));else if(r!==4&&(e=e.child,e!==null))for(I$(e,t,n),e=e.sibling;e!==null;)I$(e,t,n),e=e.sibling}function k$(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(k$(e,t,n),e=e.sibling;e!==null;)k$(e,t,n),e=e.sibling}var or=null,oo=!1;function Ms(e,t,n){for(n=n.child;n!==null;)e3(e,t,n),n=n.sibling}function e3(e,t,n){if(Do&&typeof Do.onCommitFiberUnmount=="function")try{Do.onCommitFiberUnmount(mw,n)}catch{}switch(n.tag){case 5:Er||qu(n,t);case 6:var r=or,i=oo;or=null,Ms(e,t,n),or=r,oo=i,or!==null&&(oo?(e=or,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):or.removeChild(n.stateNode));break;case 18:or!==null&&(oo?(e=or,n=n.stateNode,e.nodeType===8?t1(e.parentNode,n):e.nodeType===1&&t1(e,n),fh(e)):t1(or,n.stateNode));break;case 4:r=or,i=oo,or=n.stateNode.containerInfo,oo=!0,Ms(e,t,n),or=r,oo=i;break;case 0:case 11:case 14:case 15:if(!Er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&P$(n,t,s),i=i.next}while(i!==r)}Ms(e,t,n);break;case 1:if(!Er&&(qu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gn(n,t,a)}Ms(e,t,n);break;case 21:Ms(e,t,n);break;case 22:n.mode&1?(Er=(r=Er)||n.memoizedState!==null,Ms(e,t,n),Er=r):Ms(e,t,n);break;default:Ms(e,t,n)}}function FT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xX),t.forEach(function(r){var i=DX.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function to(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,oo=!1;break e;case 3:or=a.stateNode.containerInfo,oo=!0;break e;case 4:or=a.stateNode.containerInfo,oo=!0;break e}a=a.return}if(or===null)throw Error(pe(160));e3(o,s,i),or=null,oo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t3(t,e),t=t.sibling}function t3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(to(t,e),So(e),r&4){try{Dd(3,e,e.return),$w(3,e)}catch(g){gn(e,e.return,g)}try{Dd(5,e,e.return)}catch(g){gn(e,e.return,g)}}break;case 1:to(t,e),So(e),r&512&&n!==null&&qu(n,n.return);break;case 5:if(to(t,e),So(e),r&512&&n!==null&&qu(n,n.return),e.flags&32){var i=e.stateNode;try{ah(i,"")}catch(g){gn(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&SF(i,o),e$(a,s);var u=e$(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?PF(i,f):c==="dangerouslySetInnerHTML"?xF(i,f):c==="children"?ah(i,f):tO(i,c,f,u)}switch(a){case"input":YS(i,o);break;case"textarea":$F(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?rc(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?rc(i,!!o.multiple,o.defaultValue,!0):rc(i,!!o.multiple,o.multiple?[]:"",!1))}i[gh]=o}catch(g){gn(e,e.return,g)}}break;case 6:if(to(t,e),So(e),r&4){if(e.stateNode===null)throw Error(pe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){gn(e,e.return,g)}}break;case 3:if(to(t,e),So(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fh(t.containerInfo)}catch(g){gn(e,e.return,g)}break;case 4:to(t,e),So(e);break;case 13:to(t,e),So(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(RO=Pn())),r&4&&FT(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Er=(u=Er)||c,to(t,e),Er=u):to(t,e),So(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Oe=e,c=e.child;c!==null;){for(f=Oe=c;Oe!==null;){switch(d=Oe,h=d.child,d.tag){case 0:case 11:case 14:case 15:Dd(4,d,d.return);break;case 1:qu(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){gn(r,n,g)}}break;case 5:qu(d,d.return);break;case 22:if(d.memoizedState!==null){BT(f);continue}}h!==null?(h.return=d,Oe=h):BT(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OF("display",s))}catch(g){gn(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){gn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:to(t,e),So(e),r&4&&FT(e);break;case 21:break;default:to(t,e),So(e)}}function So(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Z5(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ah(i,""),r.flags&=-33);var o=zT(e);k$(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=zT(e);I$(e,a,s);break;default:throw Error(pe(161))}}catch(l){gn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PX(e,t,n){Oe=e,n3(e)}function n3(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var i=Oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Cm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Er;a=Cm;var u=Er;if(Cm=s,(Er=l)&&!u)for(Oe=i;Oe!==null;)s=Oe,l=s.child,s.tag===22&&s.memoizedState!==null?UT(i):l!==null?(l.return=s,Oe=l):UT(i);for(;o!==null;)Oe=o,n3(o),o=o.sibling;Oe=i,Cm=a,Er=u}VT(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Oe=o):VT(e)}}function VT(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Er||$w(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Er)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:io(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ET(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ET(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&fh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Er||t.flags&512&&C$(t)}catch(d){gn(t,t.return,d)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function BT(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function UT(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$w(4,t)}catch(l){gn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){gn(t,i,l)}}var o=t.return;try{C$(t)}catch(l){gn(t,o,l)}break;case 5:var s=t.return;try{C$(t)}catch(l){gn(t,s,l)}}}catch(l){gn(t,t.return,l)}if(t===e){Oe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Oe=a;break}Oe=t.return}}var CX=Math.ceil,Ty=Is.ReactCurrentDispatcher,AO=Is.ReactCurrentOwner,Vi=Is.ReactCurrentBatchConfig,xt=0,Yn=null,Rn=null,fr=0,di=0,Wu=za(0),Fn=0,Sh=null,Ul=0,Ew=0,NO=0,Md=null,Yr=null,RO=0,kc=1/0,Zo=null,Ay=!1,T$=null,ha=null,Im=!1,ia=null,Ny=0,Ld=0,A$=null,Ag=-1,Ng=0;function Dr(){return xt&6?Pn():Ag!==-1?Ag:Ag=Pn()}function pa(e){return e.mode&1?xt&2&&fr!==0?fr&-fr:fX.transition!==null?(Ng===0&&(Ng=zF()),Ng):(e=Lt,e!==0||(e=window.event,e=e===void 0?16:WF(e.type)),e):1}function ho(e,t,n,r){if(50<Ld)throw Ld=0,A$=null,Error(pe(185));up(e,n,r),(!(xt&2)||e!==Yn)&&(e===Yn&&(!(xt&2)&&(Ew|=n),Fn===4&&Ys(e,fr)),ai(e,r),n===1&&xt===0&&!(t.mode&1)&&(kc=Pn()+500,_w&&Fa()))}function ai(e,t){var n=e.callbackNode;fQ(e,t);var r=gy(e,e===Yn?fr:0);if(r===0)n!==null&&Jk(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jk(n),t===1)e.tag===0?cX(HT.bind(null,e)):f5(HT.bind(null,e)),sX(function(){!(xt&6)&&Fa()}),n=null;else{switch(FF(r)){case 1:n=sO;break;case 4:n=LF;break;case 16:n=my;break;case 536870912:n=jF;break;default:n=my}n=c3(n,r3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function r3(e,t){if(Ag=-1,Ng=0,xt&6)throw Error(pe(327));var n=e.callbackNode;if(lc()&&e.callbackNode!==n)return null;var r=gy(e,e===Yn?fr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ry(e,r);else{t=r;var i=xt;xt|=2;var o=o3();(Yn!==e||fr!==t)&&(Zo=null,kc=Pn()+500,Cl(e,t));do try{TX();break}catch(a){i3(e,a)}while(1);wO(),Ty.current=o,xt=i,Rn!==null?t=0:(Yn=null,fr=0,t=Fn)}if(t!==0){if(t===2&&(i=o$(e),i!==0&&(r=i,t=N$(e,i))),t===1)throw n=Sh,Cl(e,0),Ys(e,r),ai(e,Pn()),n;if(t===6)Ys(e,r);else{if(i=e.current.alternate,!(r&30)&&!IX(i)&&(t=Ry(e,r),t===2&&(o=o$(e),o!==0&&(r=o,t=N$(e,o))),t===1))throw n=Sh,Cl(e,0),Ys(e,r),ai(e,Pn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(pe(345));case 2:il(e,Yr,Zo);break;case 3:if(Ys(e,r),(r&130023424)===r&&(t=RO+500-Pn(),10<t)){if(gy(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Dr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=h$(il.bind(null,e,Yr,Zo),t);break}il(e,Yr,Zo);break;case 4:if(Ys(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-fo(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CX(r/1960))-r,10<r){e.timeoutHandle=h$(il.bind(null,e,Yr,Zo),r);break}il(e,Yr,Zo);break;case 5:il(e,Yr,Zo);break;default:throw Error(pe(329))}}}return ai(e,Pn()),e.callbackNode===n?r3.bind(null,e):null}function N$(e,t){var n=Md;return e.current.memoizedState.isDehydrated&&(Cl(e,t).flags|=256),e=Ry(e,t),e!==2&&(t=Yr,Yr=n,t!==null&&R$(t)),e}function R$(e){Yr===null?Yr=e:Yr.push.apply(Yr,e)}function IX(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yo(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t){for(t&=~NO,t&=~Ew,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fo(t),r=1<<n;e[n]=-1,t&=~r}}function HT(e){if(xt&6)throw Error(pe(327));lc();var t=gy(e,0);if(!(t&1))return ai(e,Pn()),null;var n=Ry(e,t);if(e.tag!==0&&n===2){var r=o$(e);r!==0&&(t=r,n=N$(e,r))}if(n===1)throw n=Sh,Cl(e,0),Ys(e,t),ai(e,Pn()),n;if(n===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,il(e,Yr,Zo),ai(e,Pn()),null}function DO(e,t){var n=xt;xt|=1;try{return e(t)}finally{xt=n,xt===0&&(kc=Pn()+500,_w&&Fa())}}function Hl(e){ia!==null&&ia.tag===0&&!(xt&6)&&lc();var t=xt;xt|=1;var n=Vi.transition,r=Lt;try{if(Vi.transition=null,Lt=1,e)return e()}finally{Lt=r,Vi.transition=n,xt=t,!(xt&6)&&Fa()}}function MO(){di=Wu.current,en(Wu)}function Cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oX(n)),Rn!==null)for(n=Rn.return;n!==null;){var r=n;switch(gO(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&by();break;case 3:Cc(),en(oi),en(Cr),xO();break;case 5:EO(r);break;case 4:Cc();break;case 13:en(fn);break;case 19:en(fn);break;case 10:_O(r.type._context);break;case 22:case 23:MO()}n=n.return}if(Yn=e,Rn=e=ma(e.current,null),fr=di=t,Fn=0,Sh=null,NO=Ew=Ul=0,Yr=Md=null,Sl!==null){for(t=0;t<Sl.length;t++)if(n=Sl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Sl=null}return e}function i3(e,t){do{var n=Rn;try{if(wO(),Ig.current=ky,Iy){for(var r=dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Iy=!1}if(Bl=0,Gn=jn=dn=null,Rd=!1,wh=0,AO.current=null,n===null||n.return===null){Fn=1,Sh=t,Rn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=fr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=TT(s);if(h!==null){h.flags&=-257,AT(h,s,a,o,t),h.mode&1&&kT(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){kT(o,u,t),LO();break e}l=Error(pe(426))}}else if(on&&a.mode&1){var v=TT(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),AT(v,s,a,o,t),yO(Ic(l,a));break e}}o=l=Ic(l,a),Fn!==4&&(Fn=2),Md===null?Md=[o]:Md.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=V5(o,l,t);$T(o,m);break e;case 1:a=l;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ha===null||!ha.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=B5(o,a,t);$T(o,b);break e}}o=o.return}while(o!==null)}a3(n)}catch($){t=$,Rn===n&&n!==null&&(Rn=n=n.return);continue}break}while(1)}function o3(){var e=Ty.current;return Ty.current=ky,e===null?ky:e}function LO(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Yn===null||!(Ul&268435455)&&!(Ew&268435455)||Ys(Yn,fr)}function Ry(e,t){var n=xt;xt|=2;var r=o3();(Yn!==e||fr!==t)&&(Zo=null,Cl(e,t));do try{kX();break}catch(i){i3(e,i)}while(1);if(wO(),xt=n,Ty.current=r,Rn!==null)throw Error(pe(261));return Yn=null,fr=0,Fn}function kX(){for(;Rn!==null;)s3(Rn)}function TX(){for(;Rn!==null&&!nQ();)s3(Rn)}function s3(e){var t=u3(e.alternate,e,di);e.memoizedProps=e.pendingProps,t===null?a3(e):Rn=t,AO.current=null}function a3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=EX(n,t),n!==null){n.flags&=32767,Rn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fn=6,Rn=null;return}}else if(n=$X(n,t,di),n!==null){Rn=n;return}if(t=t.sibling,t!==null){Rn=t;return}Rn=t=e}while(t!==null);Fn===0&&(Fn=5)}function il(e,t,n){var r=Lt,i=Vi.transition;try{Vi.transition=null,Lt=1,AX(e,t,n,r)}finally{Vi.transition=i,Lt=r}return null}function AX(e,t,n,r){do lc();while(ia!==null);if(xt&6)throw Error(pe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(dQ(e,o),e===Yn&&(Rn=Yn=null,fr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Im||(Im=!0,c3(my,function(){return lc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vi.transition,Vi.transition=null;var s=Lt;Lt=1;var a=xt;xt|=4,AO.current=null,OX(e,n),t3(n,e),JQ(f$),yy=!!c$,f$=c$=null,e.current=n,PX(n),rQ(),xt=a,Lt=s,Vi.transition=o}else e.current=n;if(Im&&(Im=!1,ia=e,Ny=i),o=e.pendingLanes,o===0&&(ha=null),sQ(n.stateNode),ai(e,Pn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ay)throw Ay=!1,e=T$,T$=null,e;return Ny&1&&e.tag!==0&&lc(),o=e.pendingLanes,o&1?e===A$?Ld++:(Ld=0,A$=e):Ld=0,Fa(),null}function lc(){if(ia!==null){var e=FF(Ny),t=Vi.transition,n=Lt;try{if(Vi.transition=null,Lt=16>e?16:e,ia===null)var r=!1;else{if(e=ia,ia=null,Ny=0,xt&6)throw Error(pe(331));var i=xt;for(xt|=4,Oe=e.current;Oe!==null;){var o=Oe,s=o.child;if(Oe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Oe=u;Oe!==null;){var c=Oe;switch(c.tag){case 0:case 11:case 15:Dd(8,c,o)}var f=c.child;if(f!==null)f.return=c,Oe=f;else for(;Oe!==null;){c=Oe;var d=c.sibling,h=c.return;if(J5(c),c===u){Oe=null;break}if(d!==null){d.return=h,Oe=d;break}Oe=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Oe=s;else e:for(;Oe!==null;){if(o=Oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Dd(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Oe=m;break e}Oe=o.return}}var y=e.current;for(Oe=y;Oe!==null;){s=Oe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Oe=w;else e:for(s=y;Oe!==null;){if(a=Oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$w(9,a)}}catch($){gn(a,a.return,$)}if(a===s){Oe=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Oe=b;break e}Oe=a.return}}if(xt=i,Fa(),Do&&typeof Do.onPostCommitFiberRoot=="function")try{Do.onPostCommitFiberRoot(mw,e)}catch{}r=!0}return r}finally{Lt=n,Vi.transition=t}}return!1}function qT(e,t,n){t=Ic(n,t),t=V5(e,t,1),e=da(e,t,1),t=Dr(),e!==null&&(up(e,1,t),ai(e,t))}function gn(e,t,n){if(e.tag===3)qT(e,e,n);else for(;t!==null;){if(t.tag===3){qT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ha===null||!ha.has(r))){e=Ic(n,e),e=B5(t,e,1),t=da(t,e,1),e=Dr(),t!==null&&(up(t,1,e),ai(t,e));break}}t=t.return}}function NX(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Dr(),e.pingedLanes|=e.suspendedLanes&n,Yn===e&&(fr&n)===n&&(Fn===4||Fn===3&&(fr&130023424)===fr&&500>Pn()-RO?Cl(e,0):NO|=n),ai(e,t)}function l3(e,t){t===0&&(e.mode&1?(t=wm,wm<<=1,!(wm&130023424)&&(wm=4194304)):t=1);var n=Dr();e=vs(e,t),e!==null&&(up(e,t,n),ai(e,n))}function RX(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),l3(e,n)}function DX(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(t),l3(e,n)}var u3;u3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||oi.current)Jr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jr=!1,SX(e,t,n);Jr=!!(e.flags&131072)}else Jr=!1,on&&t.flags&1048576&&d5(t,Ey,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Tg(e,t),e=t.pendingProps;var i=xc(t,Cr.current);ac(t,n),i=PO(null,t,r,e,i,n);var o=CO();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,si(r)?(o=!0,Sy(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,SO(t),i.updater=bw,t.stateNode=i,i._reactInternals=t,_$(t,r,e,n),t=$$(null,t,r,!0,o,n)):(t.tag=0,on&&o&&mO(t),Ar(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Tg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=LX(r),e=io(r,e),i){case 0:t=S$(null,t,r,e,n);break e;case 1:t=DT(null,t,r,e,n);break e;case 11:t=NT(null,t,r,e,n);break e;case 14:t=RT(null,t,r,io(r.type,e),n);break e}throw Error(pe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),S$(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),DT(e,t,r,i,n);case 3:e:{if(W5(t),e===null)throw Error(pe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,g5(e,t),Py(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ic(Error(pe(423)),t),t=MT(e,t,r,n,i);break e}else if(r!==i){i=Ic(Error(pe(424)),t),t=MT(e,t,r,n,i);break e}else for(hi=fa(t.stateNode.containerInfo.firstChild),gi=t,on=!0,so=null,n=_5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oc(),r===i){t=ws(e,t,n);break e}Ar(e,t,r,n)}t=t.child}return t;case 5:return b5(t),e===null&&y$(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,d$(r,i)?s=null:o!==null&&d$(r,o)&&(t.flags|=32),q5(e,t),Ar(e,t,s,n),t.child;case 6:return e===null&&y$(t),null;case 13:return K5(e,t,n);case 4:return $O(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pc(t,null,r,n):Ar(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),NT(e,t,r,i,n);case 7:return Ar(e,t,t.pendingProps,n),t.child;case 8:return Ar(e,t,t.pendingProps.children,n),t.child;case 12:return Ar(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Wt(xy,r._currentValue),r._currentValue=s,o!==null)if(yo(o.value,s)){if(o.children===i.children&&!oi.current){t=ws(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=us(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),v$(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(pe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),v$(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ar(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ac(t,n),i=Wi(i),r=r(i),t.flags|=1,Ar(e,t,r,n),t.child;case 14:return r=t.type,i=io(r,t.pendingProps),i=io(r.type,i),RT(e,t,r,i,n);case 15:return U5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:io(r,i),Tg(e,t),t.tag=1,si(r)?(e=!0,Sy(t)):e=!1,ac(t,n),v5(t,r,i),_$(t,r,i,n),$$(null,t,r,!0,e,n);case 19:return G5(e,t,n);case 22:return H5(e,t,n)}throw Error(pe(156,t.tag))};function c3(e,t){return MF(e,t)}function MX(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(e,t,n,r){return new MX(e,t,n,r)}function jO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LX(e){if(typeof e=="function")return jO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rO)return 11;if(e===iO)return 14}return 2}function ma(e,t){var n=e.alternate;return n===null?(n=zi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rg(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")jO(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Mu:return Il(n.children,i,o,t);case nO:s=8,i|=8;break;case HS:return e=zi(12,n,t,i|2),e.elementType=HS,e.lanes=o,e;case qS:return e=zi(13,n,t,i),e.elementType=qS,e.lanes=o,e;case WS:return e=zi(19,n,t,i),e.elementType=WS,e.lanes=o,e;case wF:return xw(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yF:s=10;break e;case vF:s=9;break e;case rO:s=11;break e;case iO:s=14;break e;case Hs:s=16,r=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=zi(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Il(e,t,n,r){return e=zi(7,e,r,t),e.lanes=n,e}function xw(e,t,n,r){return e=zi(22,e,r,t),e.elementType=wF,e.lanes=n,e.stateNode={isHidden:!1},e}function u1(e,t,n){return e=zi(6,e,null,t),e.lanes=n,e}function c1(e,t,n){return t=zi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jX(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hb(0),this.expirationTimes=Hb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zO(e,t,n,r,i,o,s,a,l){return e=new jX(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=zi(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},SO(o),e}function zX(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Du,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function f3(e){if(!e)return xa;e=e._reactInternals;e:{if(cu(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(si(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var n=e.type;if(si(n))return c5(e,n,t)}return t}function d3(e,t,n,r,i,o,s,a,l){return e=zO(n,r,!0,e,i,o,s,a,l),e.context=f3(null),n=e.current,r=Dr(),i=pa(n),o=us(r,i),o.callback=t??null,da(n,o,i),e.current.lanes=i,up(e,i,r),ai(e,r),e}function Ow(e,t,n,r){var i=t.current,o=Dr(),s=pa(i);return n=f3(n),t.context===null?t.context=n:t.pendingContext=n,t=us(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=da(i,t,s),e!==null&&(ho(e,i,s,o),Cg(e,i,s)),s}function Dy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function FO(e,t){WT(e,t),(e=e.alternate)&&WT(e,t)}function FX(){return null}var h3=typeof reportError=="function"?reportError:function(e){console.error(e)};function VO(e){this._internalRoot=e}Pw.prototype.render=VO.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Ow(e,t,null,null)};Pw.prototype.unmount=VO.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hl(function(){Ow(null,e,null,null)}),t[ys]=null}};function Pw(e){this._internalRoot=e}Pw.prototype.unstable_scheduleHydration=function(e){if(e){var t=UF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gs.length&&t!==0&&t<Gs[n].priority;n++);Gs.splice(n,0,e),n===0&&qF(e)}};function BO(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KT(){}function VX(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Dy(s);o.call(u)}}var s=d3(t,r,e,0,null,!1,!1,"",KT);return e._reactRootContainer=s,e[ys]=s.current,ph(e.nodeType===8?e.parentNode:e),Hl(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Dy(l);a.call(u)}}var l=zO(e,0,!1,null,null,!1,!1,"",KT);return e._reactRootContainer=l,e[ys]=l.current,ph(e.nodeType===8?e.parentNode:e),Hl(function(){Ow(t,l,n,r)}),l}function Iw(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Dy(s);a.call(l)}}Ow(t,s,e,i)}else s=VX(n,t,e,i,r);return Dy(s)}VF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pd(t.pendingLanes);n!==0&&(aO(t,n|1),ai(t,Pn()),!(xt&6)&&(kc=Pn()+500,Fa()))}break;case 13:Hl(function(){var r=vs(e,1);if(r!==null){var i=Dr();ho(r,e,1,i)}}),FO(e,1)}};lO=function(e){if(e.tag===13){var t=vs(e,134217728);if(t!==null){var n=Dr();ho(t,e,134217728,n)}FO(e,134217728)}};BF=function(e){if(e.tag===13){var t=pa(e),n=vs(e,t);if(n!==null){var r=Dr();ho(n,e,t,r)}FO(e,t)}};UF=function(){return Lt};HF=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}};n$=function(e,t,n){switch(t){case"input":if(YS(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ww(r);if(!i)throw Error(pe(90));bF(r),YS(r,i)}}}break;case"textarea":$F(e,n);break;case"select":t=n.value,t!=null&&rc(e,!!n.multiple,t,!1)}};kF=DO;TF=Hl;var BX={usingClientEntryPoint:!1,Events:[fp,Fu,ww,CF,IF,DO]},qf={findFiberByHostInstance:bl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UX={bundleType:qf.bundleType,version:qf.version,rendererPackageName:qf.rendererPackageName,rendererConfig:qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RF(e),e===null?null:e.stateNode},findFiberByHostInstance:qf.findFiberByHostInstance||FX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!km.isDisabled&&km.supportsFiber)try{mw=km.inject(UX),Do=km}catch{}}Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BX;Oi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BO(t))throw Error(pe(200));return zX(e,t,null,n)};Oi.createRoot=function(e,t){if(!BO(e))throw Error(pe(299));var n=!1,r="",i=h3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zO(e,1,!1,null,null,n,!1,r,i),e[ys]=t.current,ph(e.nodeType===8?e.parentNode:e),new VO(t)};Oi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=RF(t),e=e===null?null:e.stateNode,e};Oi.flushSync=function(e){return Hl(e)};Oi.hydrate=function(e,t,n){if(!Cw(t))throw Error(pe(200));return Iw(null,e,t,!0,n)};Oi.hydrateRoot=function(e,t,n){if(!BO(e))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=h3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=d3(t,null,e,1,n??null,i,!1,o,s),e[ys]=t.current,ph(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Pw(t)};Oi.render=function(e,t,n){if(!Cw(t))throw Error(pe(200));return Iw(null,e,t,!1,n)};Oi.unmountComponentAtNode=function(e){if(!Cw(e))throw Error(pe(40));return e._reactRootContainer?(Hl(function(){Iw(null,null,e,!1,function(){e._reactRootContainer=null,e[ys]=null})}),!0):!1};Oi.unstable_batchedUpdates=DO;Oi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cw(n))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Iw(e,t,n,!1,r)};Oi.version="18.2.0-next-9e3b772b8-20220608";function p3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p3)}catch(e){console.error(e)}}p3(),dF.exports=Oi;var hp=dF.exports,GT=hp;BS.createRoot=GT.createRoot,BS.hydrateRoot=GT.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(this,arguments)}var oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oa||(oa={}));const YT="popstate";function HX(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return D$("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:m3(i)}return WX(t,n,null,e)}function Vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UO(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qX(){return Math.random().toString(36).substr(2,8)}function QT(e,t){return{usr:e.state,key:e.key,idx:t}}function D$(e,t,n,r){return n===void 0&&(n=null),$h({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?uf(t):t,{state:n,key:t&&t.key||r||qX()})}function m3(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function uf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function WX(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=oa.Pop,l=null,u=c();u==null&&(u=0,s.replaceState($h({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=oa.Pop;let v=c(),m=v==null?null:v-u;u=v,l&&l({action:a,location:g.location,delta:m})}function d(v,m){a=oa.Push;let y=D$(g.location,v,m);n&&n(y,v),u=c()+1;let w=QT(y,u),b=g.createHref(y);try{s.pushState(w,"",b)}catch{i.location.assign(b)}o&&l&&l({action:a,location:g.location,delta:1})}function h(v,m){a=oa.Replace;let y=D$(g.location,v,m);n&&n(y,v),u=c();let w=QT(y,u),b=g.createHref(y);s.replaceState(w,"",b),o&&l&&l({action:a,location:g.location,delta:0})}function p(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:m3(v);return Vn(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return e(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(YT,f),l=v,()=>{i.removeEventListener(YT,f),l=null}},createHref(v){return t(i,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(v){return s.go(v)}};return g}var XT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(XT||(XT={}));function KX(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?uf(t):t,i=v3(r.pathname||"/",n);if(i==null)return null;let o=g3(e);GX(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=rJ(o[a],sJ(i));return s}function g3(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Vn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=kl([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Vn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g3(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:tJ(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of y3(o.path))i(o,s,l)}),t}function y3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=y3(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function GX(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nJ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YX=/^:\w+$/,QX=3,XX=2,JX=1,ZX=10,eJ=-2,JT=e=>e==="*";function tJ(e,t){let n=e.split("/"),r=n.length;return n.some(JT)&&(r+=eJ),t&&(r+=XX),n.filter(i=>!JT(i)).reduce((i,o)=>i+(YX.test(o)?QX:o===""?JX:ZX),r)}function nJ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rJ(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=iJ({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:kl([i,c.pathname]),pathnameBase:dJ(kl([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=kl([i,c.pathnameBase]))}return o}function iJ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=oJ(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=a[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=aJ(a[f]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:e}}function oJ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),UO(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sJ(e){try{return decodeURI(e)}catch(t){return UO(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aJ(e,t){try{return decodeURIComponent(e)}catch(n){return UO(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function v3(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lJ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?uf(e):e;return{pathname:n?n.startsWith("/")?n:uJ(n,t):t,search:hJ(r),hash:pJ(i)}}function uJ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function f1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cJ(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fJ(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=uf(e):(i=$h({},e),Vn(!i.pathname||!i.pathname.includes("?"),f1("?","pathname","search",i)),Vn(!i.pathname||!i.pathname.includes("#"),f1("#","pathname","hash",i)),Vn(!i.search||!i.search.includes("#"),f1("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let f=t.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let l=lJ(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const kl=e=>e.join("/").replace(/\/\/+/g,"/"),dJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var w3={exports:{}},kw={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gJ=S,yJ=Symbol.for("react.element"),vJ=Symbol.for("react.fragment"),wJ=Object.prototype.hasOwnProperty,_J=gJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bJ={key:!0,ref:!0,__self:!0,__source:!0};function _3(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)wJ.call(t,r)&&!bJ.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:yJ,type:e,key:o,ref:s,props:i,_owner:_J.current}}kw.Fragment=vJ;kw.jsx=_3;kw.jsxs=_3;w3.exports=kw;var HO=w3.exports;const tn=HO.Fragment,x=HO.jsx,he=HO.jsxs;/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const $J=typeof Object.is=="function"?Object.is:SJ,{useState:EJ,useEffect:xJ,useLayoutEffect:OJ,useDebugValue:PJ}=zl;function CJ(e,t,n){const r=t(),[{inst:i},o]=EJ({inst:{value:r,getSnapshot:t}});return OJ(()=>{i.value=r,i.getSnapshot=t,d1(i)&&o({inst:i})},[e,r,t]),xJ(()=>(d1(i)&&o({inst:i}),e(()=>{d1(i)&&o({inst:i})})),[e]),PJ(r),r}function d1(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!$J(n,r)}catch{return!0}}function IJ(e,t,n){return t()}const kJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TJ=!kJ,AJ=TJ?IJ:CJ;"useSyncExternalStore"in zl&&(e=>e.useSyncExternalStore)(zl);const b3=S.createContext(null),qO=S.createContext(null),WO=S.createContext(null),Tw=S.createContext(null),fu=S.createContext({outlet:null,matches:[]}),S3=S.createContext(null);function M$(){return M$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M$.apply(this,arguments)}function pp(){return S.useContext(Tw)!=null}function du(){return pp()||Vn(!1),S.useContext(Tw).location}function Va(){pp()||Vn(!1);let{basename:e,navigator:t}=S.useContext(WO),{matches:n}=S.useContext(fu),{pathname:r}=du(),i=JSON.stringify(cJ(n).map(a=>a.pathnameBase)),o=S.useRef(!1);return S.useEffect(()=>{o.current=!0}),S.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){t.go(a);return}let u=fJ(a,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:kl([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}const NJ=S.createContext(null);function RJ(e){let t=S.useContext(fu).outlet;return t&&x(NJ.Provider,{value:e,children:t})}function mp(){let{matches:e}=S.useContext(fu),t=e[e.length-1];return t?t.params:{}}function $3(e,t){pp()||Vn(!1);let{navigator:n}=S.useContext(WO),r=S.useContext(qO),{matches:i}=S.useContext(fu),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=du(),u;if(t){var c;let g=typeof t=="string"?uf(t):t;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||Vn(!1),u=g}else u=l;let f=u.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",h=KX(e,{pathname:d}),p=jJ(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:kl([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:kl([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return t&&p?x(Tw.Provider,{value:{location:M$({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:oa.Pop},children:p}):p}function DJ(){let e=BJ(),t=mJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null;return he(tn,{children:[x("h2",{children:"Unexpected Application Error!"}),x("h3",{style:{fontStyle:"italic"},children:t}),n?x("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:n}):null,null]})}class MJ extends S.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?x(fu.Provider,{value:this.props.routeContext,children:x(S3.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function LJ(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(b3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x(fu.Provider,{value:t,children:r})}function jJ(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||Vn(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=null;n&&(s.route.ErrorBoundary?u=S.createElement(s.route.ErrorBoundary,null):s.route.errorElement?u=s.route.errorElement:u=x(DJ,{}));let c=t.concat(r.slice(0,a+1)),f=()=>{let d=o;return l?d=u:s.route.Component?d=S.createElement(s.route.Component,null):s.route.element&&(d=s.route.element),x(LJ,{match:s,routeContext:{outlet:o,matches:c},children:d})};return n&&(s.route.ErrorBoundary||s.route.errorElement||a===0)?x(MJ,{location:n.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var ZT;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(ZT||(ZT={}));var My;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(My||(My={}));function zJ(e){let t=S.useContext(qO);return t||Vn(!1),t}function FJ(e){let t=S.useContext(fu);return t||Vn(!1),t}function VJ(e){let t=FJ(),n=t.matches[t.matches.length-1];return n.route.id||Vn(!1),n.route.id}function BJ(){var e;let t=S.useContext(S3),n=zJ(My.UseRouteError),r=VJ(My.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function UJ(e){let{to:t,replace:n,state:r,relative:i}=e;pp()||Vn(!1);let o=S.useContext(qO),s=Va();return S.useEffect(()=>{o&&o.navigation.state!=="idle"||s(t,{replace:n,state:r,relative:i})}),null}function HJ(e){return RJ(e.context)}function L$(e){Vn(!1)}function qJ(e){let{basename:t="/",children:n=null,location:r,navigationType:i=oa.Pop,navigator:o,static:s=!1}=e;pp()&&Vn(!1);let a=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=uf(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=S.useMemo(()=>{let g=v3(u,a);return g==null?null:{location:{pathname:g,search:c,hash:f,state:d,key:h},navigationType:i}},[a,u,c,f,d,h,i]);return p==null?null:x(WO.Provider,{value:l,children:x(Tw.Provider,{children:n,value:p})})}function WJ(e){let{children:t,location:n}=e,r=S.useContext(b3),i=r&&!t?r.router.routes:j$(t);return $3(i,n)}var eA;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(eA||(eA={}));new Promise(()=>{});function j$(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let o=[...t,i];if(r.type===S.Fragment){n.push.apply(n,j$(r.props.children,o));return}r.type!==L$&&Vn(!1),!r.props.index||!r.props.children||Vn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=j$(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z$(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function KJ(e,t){let n=z$(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}function GJ(e){let{basename:t,children:n,window:r}=e,i=S.useRef();i.current==null&&(i.current=HX({window:r,v5Compat:!0}));let o=i.current,[s,a]=S.useState({action:o.action,location:o.location});return S.useLayoutEffect(()=>o.listen(a),[o]),x(qJ,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var tA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(tA||(tA={}));var nA;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nA||(nA={}));function E3(e){let t=S.useRef(z$(e)),n=S.useRef(!1),r=du(),i=S.useMemo(()=>KJ(r.search,n.current?null:t.current),[r.search]),o=Va(),s=S.useCallback((a,l)=>{const u=z$(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}function YJ(e){const t=S.createContext(null);return[({children:i,value:o})=>x(t.Provider,{value:o,children:i}),()=>{const i=S.useContext(t);if(i===null)throw new Error(e);return i}]}function ql(e){return Array.isArray(e)?e:[e]}const QJ=()=>{};function XJ(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||QJ:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function x3({data:e}){const t=[],n=[],r=e.reduce((i,o,s)=>(o.group?i[o.group]?i[o.group].push(s):i[o.group]=[s]:n.push(s),i),{});return Object.keys(r).forEach(i=>{t.push(...r[i].map(o=>e[o]))}),t.push(...n.map(i=>e[i])),t}function Aw(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==Fi.Fragment:!1}function O3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=O3(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function P3(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=O3(t))&&(r&&(r+=" "),r+=n);return r}const JJ={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function ZJ(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var eZ=Object.defineProperty,rA=Object.getOwnPropertySymbols,tZ=Object.prototype.hasOwnProperty,nZ=Object.prototype.propertyIsEnumerable,iA=(e,t,n)=>t in e?eZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oA=(e,t)=>{for(var n in t||(t={}))tZ.call(t,n)&&iA(e,n,t[n]);if(rA)for(var n of rA(t))nZ.call(t,n)&&iA(e,n,t[n]);return e};function rZ(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:oA({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:oA({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function gp(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function KO(e){const t=gp(e);return(n,r,i=!0,o=!0)=>{if(typeof n=="string"&&n.includes(".")){const[a,l]=n.split("."),u=parseInt(l,10);if(a in e.colors&&u>=0&&u<10)return e.colors[a][typeof r=="number"&&!o?r:u]}const s=typeof r=="number"?r:t();return n in e.colors?e.colors[n][s]:i?e.colors[e.primaryColor][s]:n}}function C3(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function iZ(e,...t){return`linear-gradient(${e}deg, ${C3(t)})`}function oZ(...e){return`radial-gradient(circle, ${C3(e)})`}function I3(e){const t=KO(e),n=gp(e);return r=>{const i={from:(r==null?void 0:r.from)||e.defaultGradient.from,to:(r==null?void 0:r.to)||e.defaultGradient.to,deg:(r==null?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function GO(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function sZ(e){return t=>`@media (min-width: ${GO({size:t,sizes:e.breakpoints})}px)`}function aZ(e){return t=>`@media (max-width: ${GO({size:t,sizes:e.breakpoints})-1}px)`}function lZ(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function uZ(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function cZ(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}function YO(e){return lZ(e)?uZ(e):e.startsWith("rgb")?cZ(e):{r:0,g:0,b:0,a:1}}function ku(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=YO(e);return`rgba(${n}, ${r}, ${i}, ${t})`}function fZ(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function dZ(e,t){const{r:n,g:r,b:i,a:o}=YO(e),s=1-t,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function hZ(e,t){const{r:n,g:r,b:i,a:o}=YO(e),s=a=>Math.round(a+(255-a)*t);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${o})`}function pZ(e){return t=>{if(typeof t=="number")return t;const n=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}}function mZ(e,t){if(typeof e=="string"&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}function gZ(e){const t=KO(e),n=gp(e),r=I3(e);return({variant:i,color:o,gradient:s,primaryFallback:a})=>{const l=mZ(o,e);switch(i){case"light":return{border:"transparent",background:ku(t(o,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1),color:o==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(o,e.colorScheme==="dark"?2:n("light")),hover:ku(t(o,e.colorScheme==="dark"?7:1,a,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:o==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(o,e.colorScheme==="dark"?2:n("light")),hover:ku(t(o,e.colorScheme==="dark"?8:0,a,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(o,e.colorScheme==="dark"?5:n("light")),background:"transparent",color:t(o,e.colorScheme==="dark"?5:n("light")),hover:e.colorScheme==="dark"?ku(t(o,5,a,!1),.05):ku(t(o,0,a,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(o,n()),hover:null};case"transparent":return{border:"transparent",color:o==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(o,e.colorScheme==="dark"?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(s),color:e.white,border:"transparent",hover:null};default:{const u=n(),c=l.isSplittedColor?l.shade:u,f=l.isSplittedColor?l.key:o;return{border:"transparent",background:t(f,c,a),color:e.white,hover:t(f,c===9?8:c+1)}}}}}function yZ(e){return t=>{const n=gp(e)(t);return e.colors[e.primaryColor][n]}}function vZ(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}const Wn={fontStyles:ZJ,themeColor:KO,focusStyles:rZ,linearGradient:iZ,radialGradient:oZ,smallerThan:aZ,largerThan:sZ,rgba:ku,size:GO,cover:fZ,darken:dZ,lighten:hZ,radius:pZ,variant:gZ,primaryShade:gp,hover:vZ,gradient:I3,primaryColor:yZ};var wZ=Object.defineProperty,_Z=Object.defineProperties,bZ=Object.getOwnPropertyDescriptors,sA=Object.getOwnPropertySymbols,SZ=Object.prototype.hasOwnProperty,$Z=Object.prototype.propertyIsEnumerable,aA=(e,t,n)=>t in e?wZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EZ=(e,t)=>{for(var n in t||(t={}))SZ.call(t,n)&&aA(e,n,t[n]);if(sA)for(var n of sA(t))$Z.call(t,n)&&aA(e,n,t[n]);return e},xZ=(e,t)=>_Z(e,bZ(t));function OZ(e){return xZ(EZ({},e),{fn:{fontStyles:Wn.fontStyles(e),themeColor:Wn.themeColor(e),focusStyles:Wn.focusStyles(e),largerThan:Wn.largerThan(e),smallerThan:Wn.smallerThan(e),radialGradient:Wn.radialGradient,linearGradient:Wn.linearGradient,gradient:Wn.gradient(e),rgba:Wn.rgba,size:Wn.size,cover:Wn.cover,lighten:Wn.lighten,darken:Wn.darken,primaryShade:Wn.primaryShade(e),radius:Wn.radius(e),variant:Wn.variant(e),hover:Wn.hover,primaryColor:Wn.primaryColor(e)}})}const PZ=["xs","sm","md","lg","xl"],CZ={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:JJ,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},k3=OZ(CZ);function IZ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function kZ(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var TZ=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kZ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=IZ(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Sr="-ms-",Ly="-moz-",It="-webkit-",T3="comm",QO="rule",XO="decl",AZ="@import",A3="@keyframes",NZ=Math.abs,Nw=String.fromCharCode,RZ=Object.assign;function DZ(e,t){return lr(e,0)^45?(((t<<2^lr(e,0))<<2^lr(e,1))<<2^lr(e,2))<<2^lr(e,3):0}function N3(e){return e.trim()}function MZ(e,t){return(e=t.exec(e))?e[0]:e}function At(e,t,n){return e.replace(t,n)}function F$(e,t){return e.indexOf(t)}function lr(e,t){return e.charCodeAt(t)|0}function Eh(e,t,n){return e.slice(t,n)}function Oo(e){return e.length}function JO(e){return e.length}function Tm(e,t){return t.push(e),e}function LZ(e,t){return e.map(t).join("")}var Rw=1,Tc=1,R3=0,li=0,An=0,cf="";function Dw(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Rw,column:Tc,length:s,return:""}}function Wf(e,t){return RZ(Dw("",null,null,"",null,null,0),e,{length:-e.length},t)}function jZ(){return An}function zZ(){return An=li>0?lr(cf,--li):0,Tc--,An===10&&(Tc=1,Rw--),An}function yi(){return An=li<R3?lr(cf,li++):0,Tc++,An===10&&(Tc=1,Rw++),An}function Lo(){return lr(cf,li)}function Dg(){return li}function yp(e,t){return Eh(cf,e,t)}function xh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D3(e){return Rw=Tc=1,R3=Oo(cf=e),li=0,[]}function M3(e){return cf="",e}function Mg(e){return N3(yp(li-1,V$(e===91?e+2:e===40?e+1:e)))}function FZ(e){for(;(An=Lo())&&An<33;)yi();return xh(e)>2||xh(An)>3?"":" "}function VZ(e,t){for(;--t&&yi()&&!(An<48||An>102||An>57&&An<65||An>70&&An<97););return yp(e,Dg()+(t<6&&Lo()==32&&yi()==32))}function V$(e){for(;yi();)switch(An){case e:return li;case 34:case 39:e!==34&&e!==39&&V$(An);break;case 40:e===41&&V$(e);break;case 92:yi();break}return li}function BZ(e,t){for(;yi()&&e+An!==47+10;)if(e+An===42+42&&Lo()===47)break;return"/*"+yp(t,li-1)+"*"+Nw(e===47?e:yi())}function UZ(e){for(;!xh(Lo());)yi();return yp(e,li)}function HZ(e){return M3(Lg("",null,null,null,[""],e=D3(e),0,[0],e))}function Lg(e,t,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,d=0,h=0,p=0,g=1,v=1,m=1,y=0,w="",b=i,$=o,_=r,E=w;v;)switch(p=y,y=yi()){case 40:if(p!=108&&lr(E,f-1)==58){F$(E+=At(Mg(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:E+=Mg(y);break;case 9:case 10:case 13:case 32:E+=FZ(p);break;case 92:E+=VZ(Dg()-1,7);continue;case 47:switch(Lo()){case 42:case 47:Tm(qZ(BZ(yi(),Dg()),t,n),l);break;default:E+="/"}break;case 123*g:a[u++]=Oo(E)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:h>0&&Oo(E)-f&&Tm(h>32?uA(E+";",r,n,f-1):uA(At(E," ","")+";",r,n,f-2),l);break;case 59:E+=";";default:if(Tm(_=lA(E,t,n,u,c,i,a,w,b=[],$=[],f),o),y===123)if(c===0)Lg(E,t,_,_,b,o,f,a,$);else switch(d===99&&lr(E,3)===110?100:d){case 100:case 109:case 115:Lg(e,_,_,r&&Tm(lA(e,_,_,0,0,i,a,w,i,b=[],f),$),i,$,f,a,r?b:$);break;default:Lg(E,_,_,_,[""],$,0,a,$)}}u=c=h=0,g=m=1,w=E="",f=s;break;case 58:f=1+Oo(E),h=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&zZ()==125)continue}switch(E+=Nw(y),y*g){case 38:m=c>0?1:(E+="\f",-1);break;case 44:a[u++]=(Oo(E)-1)*m,m=1;break;case 64:Lo()===45&&(E+=Mg(yi())),d=Lo(),c=f=Oo(w=E+=UZ(Dg())),y++;break;case 45:p===45&&Oo(E)==2&&(g=0)}}return o}function lA(e,t,n,r,i,o,s,a,l,u,c){for(var f=i-1,d=i===0?o:[""],h=JO(d),p=0,g=0,v=0;p<r;++p)for(var m=0,y=Eh(e,f+1,f=NZ(g=s[p])),w=e;m<h;++m)(w=N3(g>0?d[m]+" "+y:At(y,/&\f/g,d[m])))&&(l[v++]=w);return Dw(e,t,n,i===0?QO:a,l,u,c)}function qZ(e,t,n){return Dw(e,t,n,T3,Nw(jZ()),Eh(e,2,-2),0)}function uA(e,t,n,r){return Dw(e,t,n,XO,Eh(e,0,r),Eh(e,r+1,-1),r)}function uc(e,t){for(var n="",r=JO(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function WZ(e,t,n,r){switch(e.type){case AZ:case XO:return e.return=e.return||e.value;case T3:return"";case A3:return e.return=e.value+"{"+uc(e.children,r)+"}";case QO:e.value=e.props.join(",")}return Oo(n=uc(e.children,r))?e.return=e.value+"{"+n+"}":""}function KZ(e){var t=JO(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function GZ(e){return function(t){t.root||(t=t.return)&&e(t)}}function YZ(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var QZ=function(t,n,r){for(var i=0,o=0;i=o,o=Lo(),i===38&&o===12&&(n[r]=1),!xh(o);)yi();return yp(t,li)},XZ=function(t,n){var r=-1,i=44;do switch(xh(i)){case 0:i===38&&Lo()===12&&(n[r]=1),t[r]+=QZ(li-1,n,r);break;case 2:t[r]+=Mg(i);break;case 4:if(i===44){t[++r]=Lo()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Nw(i)}while(i=yi());return t},JZ=function(t,n){return M3(XZ(D3(t),n))},cA=new WeakMap,ZZ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!cA.get(r))&&!i){cA.set(t,!0);for(var o=[],s=JZ(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},eee=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function L3(e,t){switch(DZ(e,t)){case 5103:return It+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return It+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return It+e+Ly+e+Sr+e+e;case 6828:case 4268:return It+e+Sr+e+e;case 6165:return It+e+Sr+"flex-"+e+e;case 5187:return It+e+At(e,/(\w+).+(:[^]+)/,It+"box-$1$2"+Sr+"flex-$1$2")+e;case 5443:return It+e+Sr+"flex-item-"+At(e,/flex-|-self/,"")+e;case 4675:return It+e+Sr+"flex-line-pack"+At(e,/align-content|flex-|-self/,"")+e;case 5548:return It+e+Sr+At(e,"shrink","negative")+e;case 5292:return It+e+Sr+At(e,"basis","preferred-size")+e;case 6060:return It+"box-"+At(e,"-grow","")+It+e+Sr+At(e,"grow","positive")+e;case 4554:return It+At(e,/([^-])(transform)/g,"$1"+It+"$2")+e;case 6187:return At(At(At(e,/(zoom-|grab)/,It+"$1"),/(image-set)/,It+"$1"),e,"")+e;case 5495:case 3959:return At(e,/(image-set\([^]*)/,It+"$1$`$1");case 4968:return At(At(e,/(.+:)(flex-)?(.*)/,It+"box-pack:$3"+Sr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+It+e+e;case 4095:case 3583:case 4068:case 2532:return At(e,/(.+)-inline(.+)/,It+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oo(e)-1-t>6)switch(lr(e,t+1)){case 109:if(lr(e,t+4)!==45)break;case 102:return At(e,/(.+:)(.+)-([^]+)/,"$1"+It+"$2-$3$1"+Ly+(lr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~F$(e,"stretch")?L3(At(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(lr(e,t+1)!==115)break;case 6444:switch(lr(e,Oo(e)-3-(~F$(e,"!important")&&10))){case 107:return At(e,":",":"+It)+e;case 101:return At(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+It+(lr(e,14)===45?"inline-":"")+"box$3$1"+It+"$2$3$1"+Sr+"$2box$3")+e}break;case 5936:switch(lr(e,t+11)){case 114:return It+e+Sr+At(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return It+e+Sr+At(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return It+e+Sr+At(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return It+e+Sr+e+e}return e}var tee=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case XO:t.return=L3(t.value,t.length);break;case A3:return uc([Wf(t,{value:At(t.value,"@","@"+It)})],i);case QO:if(t.length)return LZ(t.props,function(o){switch(MZ(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uc([Wf(t,{props:[At(o,/:(read-\w+)/,":"+Ly+"$1")]})],i);case"::placeholder":return uc([Wf(t,{props:[At(o,/:(plac\w+)/,":"+It+"input-$1")]}),Wf(t,{props:[At(o,/:(plac\w+)/,":"+Ly+"$1")]}),Wf(t,{props:[At(o,/:(plac\w+)/,Sr+"input-$1")]})],i)}return""})}},nee=[tee],ree=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||nee,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),m=1;m<v.length;m++)o[v[m]]=!0;a.push(g)});var l,u=[ZZ,eee];{var c,f=[WZ,GZ(function(g){c.insert(g)})],d=KZ(u.concat(i,f)),h=function(v){return uc(HZ(v),d)};l=function(v,m,y,w){c=y,h(v?v+"{"+m.styles+"}":m.styles),w&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new TZ({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};const j3=ree;function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(this,arguments)}var z3={exports:{}},jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er=typeof Symbol=="function"&&Symbol.for,ZO=er?Symbol.for("react.element"):60103,eP=er?Symbol.for("react.portal"):60106,Mw=er?Symbol.for("react.fragment"):60107,Lw=er?Symbol.for("react.strict_mode"):60108,jw=er?Symbol.for("react.profiler"):60114,zw=er?Symbol.for("react.provider"):60109,Fw=er?Symbol.for("react.context"):60110,tP=er?Symbol.for("react.async_mode"):60111,Vw=er?Symbol.for("react.concurrent_mode"):60111,Bw=er?Symbol.for("react.forward_ref"):60112,Uw=er?Symbol.for("react.suspense"):60113,iee=er?Symbol.for("react.suspense_list"):60120,Hw=er?Symbol.for("react.memo"):60115,qw=er?Symbol.for("react.lazy"):60116,oee=er?Symbol.for("react.block"):60121,see=er?Symbol.for("react.fundamental"):60117,aee=er?Symbol.for("react.responder"):60118,lee=er?Symbol.for("react.scope"):60119;function Ci(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ZO:switch(e=e.type,e){case tP:case Vw:case Mw:case jw:case Lw:case Uw:return e;default:switch(e=e&&e.$$typeof,e){case Fw:case Bw:case qw:case Hw:case zw:return e;default:return t}}case eP:return t}}}function F3(e){return Ci(e)===Vw}jt.AsyncMode=tP;jt.ConcurrentMode=Vw;jt.ContextConsumer=Fw;jt.ContextProvider=zw;jt.Element=ZO;jt.ForwardRef=Bw;jt.Fragment=Mw;jt.Lazy=qw;jt.Memo=Hw;jt.Portal=eP;jt.Profiler=jw;jt.StrictMode=Lw;jt.Suspense=Uw;jt.isAsyncMode=function(e){return F3(e)||Ci(e)===tP};jt.isConcurrentMode=F3;jt.isContextConsumer=function(e){return Ci(e)===Fw};jt.isContextProvider=function(e){return Ci(e)===zw};jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ZO};jt.isForwardRef=function(e){return Ci(e)===Bw};jt.isFragment=function(e){return Ci(e)===Mw};jt.isLazy=function(e){return Ci(e)===qw};jt.isMemo=function(e){return Ci(e)===Hw};jt.isPortal=function(e){return Ci(e)===eP};jt.isProfiler=function(e){return Ci(e)===jw};jt.isStrictMode=function(e){return Ci(e)===Lw};jt.isSuspense=function(e){return Ci(e)===Uw};jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mw||e===Vw||e===jw||e===Lw||e===Uw||e===iee||typeof e=="object"&&e!==null&&(e.$$typeof===qw||e.$$typeof===Hw||e.$$typeof===zw||e.$$typeof===Fw||e.$$typeof===Bw||e.$$typeof===see||e.$$typeof===aee||e.$$typeof===lee||e.$$typeof===oee)};jt.typeOf=Ci;z3.exports=jt;var uee=z3.exports,V3=uee,cee={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fee={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},B3={};B3[V3.ForwardRef]=cee;B3[V3.Memo]=fee;var dee=!0;function hee(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var pee=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||dee===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},U3=function(t,n,r){pee(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function mee(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var gee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yee=/[A-Z]|^ms/g,vee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,H3=function(t){return t.charCodeAt(1)===45},fA=function(t){return t!=null&&typeof t!="boolean"},h1=YZ(function(e){return H3(e)?e:e.replace(yee,"-$&").toLowerCase()}),dA=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(vee,function(r,i,o){return Po={name:i,styles:o,next:Po},i})}return gee[t]!==1&&!H3(t)&&typeof n=="number"&&n!==0?n+"px":n};function Oh(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Po={name:n.name,styles:n.styles,next:Po},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Po={name:r.name,styles:r.styles,next:Po},r=r.next;var i=n.styles+";";return i}return wee(e,t,n)}case"function":{if(e!==void 0){var o=Po,s=n(e);return Po=o,Oh(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function wee(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Oh(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":fA(s)&&(r+=h1(o)+":"+dA(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)fA(s[a])&&(r+=h1(o)+":"+dA(o,s[a])+";");else{var l=Oh(e,t,s);switch(o){case"animation":case"animationName":{r+=h1(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var hA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Po,nP=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";Po=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=Oh(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=Oh(r,n,t[a]),i&&(o+=s[a]);hA.lastIndex=0;for(var l="",u;(u=hA.exec(o))!==null;)l+="-"+u[1];var c=mee(o)+l;return{name:c,styles:o,next:Po}},_ee=zl["useInsertionEffect"]?zl["useInsertionEffect"]:!1,pA=_ee||S.useLayoutEffect,q3=S.createContext(typeof HTMLElement<"u"?j3({key:"css"}):null);q3.Provider;var bee=function(t){return S.forwardRef(function(n,r){var i=S.useContext(q3);return t(n,i,r)})},See=S.createContext({}),$ee=bee(function(e,t){var n=e.styles,r=nP([n],void 0,S.useContext(See)),i=S.useRef();return pA(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),pA(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&U3(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function W3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nP(t)}var Eee=function(){var t=W3.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function K3(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}var xee=Object.defineProperty,mA=Object.getOwnPropertySymbols,Oee=Object.prototype.hasOwnProperty,Pee=Object.prototype.propertyIsEnumerable,gA=(e,t,n)=>t in e?xee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p1=(e,t)=>{for(var n in t||(t={}))Oee.call(t,n)&&gA(e,n,t[n]);if(mA)for(var n of mA(t))Pee.call(t,n)&&gA(e,n,t[n]);return e};const G3=S.createContext({theme:k3});function ui(){var e;return((e=S.useContext(G3))==null?void 0:e.theme)||k3}function Cee(e){const t=ui(),n=r=>{var i,o;return{styles:((i=t.components[r])==null?void 0:i.styles)||{},classNames:((o=t.components[r])==null?void 0:o.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}function Y3(){var e;return(e=S.useContext(G3))==null?void 0:e.emotionCache}function Ke(e,t,n){var r;const o=(r=ui().components[e])==null?void 0:r.defaultProps;return p1(p1(p1({},t),o),K3(n))}const Q3=S.createContext({classNames:{},styles:{},unstyled:!1});function X3({children:e,classNames:t,unstyled:n,styles:r,staticSelector:i}){return x(Q3.Provider,{value:{classNames:t,styles:r,unstyled:n,staticSelector:i},children:e})}function J3(){return S.useContext(Q3)}const Iee={app:100,modal:200,popover:300,overlay:400,max:9999};function Ii(e){return Iee[e]}function kee(e,t){const n=S.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,i)=>r===t[i]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const Tee=j3({key:"mantine",prepend:!0});function Aee(){return Y3()||Tee}var Nee=Object.defineProperty,yA=Object.getOwnPropertySymbols,Ree=Object.prototype.hasOwnProperty,Dee=Object.prototype.propertyIsEnumerable,vA=(e,t,n)=>t in e?Nee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mee=(e,t)=>{for(var n in t||(t={}))Ree.call(t,n)&&vA(e,n,t[n]);if(yA)for(var n of yA(t))Dee.call(t,n)&&vA(e,n,t[n]);return e};const m1="ref";function Lee(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(m1 in n))return{args:e,ref:t};t=n[m1];const r=Mee({},n);return delete r[m1],{args:[r],ref:t}}const{cssFactory:jee}=(()=>{function e(n,r,i){const o=[],s=hee(n,o,i);return o.length<2?i:s+r(o)}function t(n){const{cache:r}=n,i=(...s)=>{const{ref:a,args:l}=Lee(s),u=nP(l,r.registered);return U3(r,u,!1),`${r.key}-${u.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...s)=>e(r.registered,i,P3(s))}}return{cssFactory:t}})();function Z3(){const e=Aee();return kee(()=>jee({cache:e}),[e])}function zee({cx:e,classes:t,context:n,classNames:r,name:i,cache:o}){const s=n.reduce((a,l)=>(Object.keys(l.classNames).forEach(u=>{typeof a[u]!="string"?a[u]=`${l.classNames[u]}`:a[u]=`${a[u]} ${l.classNames[u]}`}),a),{});return Object.keys(t).reduce((a,l)=>(a[l]=e(t[l],s[l],r!=null&&r[l],Array.isArray(i)?i.filter(Boolean).map(u=>`${(o==null?void 0:o.key)||"mantine"}-${u}-${l}`).join(" "):i?`${(o==null?void 0:o.key)||"mantine"}-${i}-${l}`:null),a),{})}var Fee=Object.defineProperty,wA=Object.getOwnPropertySymbols,Vee=Object.prototype.hasOwnProperty,Bee=Object.prototype.propertyIsEnumerable,_A=(e,t,n)=>t in e?Fee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g1=(e,t)=>{for(var n in t||(t={}))Vee.call(t,n)&&_A(e,n,t[n]);if(wA)for(var n of wA(t))Bee.call(t,n)&&_A(e,n,t[n]);return e};function Uee(e){return`__mantine-ref-${e||""}`}function bA(e,t,n){const r=i=>typeof i=="function"?i(t,n||{}):i||{};return Array.isArray(e)?e.map(i=>r(i.styles)).reduce((i,o)=>(Object.keys(o).forEach(s=>{i[s]?i[s]=g1(g1({},i[s]),o[s]):i[s]=g1({},o[s])}),i),{}):r(e)}function qe(e){const t=typeof e=="function"?e:()=>e;function n(r,i){const o=ui(),s=Cee(i==null?void 0:i.name),a=Y3(),{css:l,cx:u}=Z3(),c=t(o,r,Uee),f=bA(i==null?void 0:i.styles,o,r),d=bA(s,o,r),h=Object.fromEntries(Object.keys(c).map(p=>{const g=u({[l(c[p])]:!(i!=null&&i.unstyled)},l(d[p]),l(f[p]));return[p,g]}));return{classes:zee({cx:u,classes:h,context:s,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:u,theme:o}}return n}function e4({styles:e}){const t=ui();return x($ee,{styles:W3(typeof e=="function"?e(t):e)})}var Hee=Object.defineProperty,qee=Object.defineProperties,Wee=Object.getOwnPropertyDescriptors,SA=Object.getOwnPropertySymbols,Kee=Object.prototype.hasOwnProperty,Gee=Object.prototype.propertyIsEnumerable,$A=(e,t,n)=>t in e?Hee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kf=(e,t)=>{for(var n in t||(t={}))Kee.call(t,n)&&$A(e,n,t[n]);if(SA)for(var n of SA(t))Gee.call(t,n)&&$A(e,n,t[n]);return e},Gf=(e,t)=>qee(e,Wee(t));const Yf={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},Am={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:Gf(Kf({},Yf),{common:{transformOrigin:"center center"}}),"pop-bottom-left":Gf(Kf({},Yf),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":Gf(Kf({},Yf),{common:{transformOrigin:"bottom right"}}),"pop-top-left":Gf(Kf({},Yf),{common:{transformOrigin:"top left"}}),"pop-top-right":Gf(Kf({},Yf),{common:{transformOrigin:"top right"}})},EA=["mousedown","touchstart"];function Yee(e,t,n){const r=S.useRef();return S.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s);n.every(u=>!!u&&!u.contains(s))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||EA).forEach(o=>document.addEventListener(o,i)),()=>{(t||EA).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function Qee(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Xee(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Jee(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=S.useState(n?!1:Xee(e,t)),o=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),Qee(o.current,s=>i(s.matches))},[e]),r}function ga(e,t,n){return Math.min(Math.max(e,t),n)}const t4=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Bi(e,t){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function n4({opened:e,shouldReturnFocus:t=!0}){const n=S.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Bi(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}const Zee=/input|select|textarea|button|object/,r4="a, input, select, textarea, button, object, [tabindex]";function ete(e){return e.style.display==="none"}function tte(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&n!==document.body;){if(ete(n))return!1;n=n.parentNode}return!0}function i4(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function B$(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(i4(e));return(Zee.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&tte(e)}function o4(e){const t=i4(e);return(Number.isNaN(t)||t>=0)&&B$(e)}function nte(e){return Array.from(e.querySelectorAll(r4)).filter(o4)}function rte(e,t){const n=nte(e);if(!n.length){t.preventDefault();return}if(!(n[t.shiftKey?0:n.length-1]===document.activeElement||e===document.activeElement))return;t.preventDefault();const o=n[t.shiftKey?n.length-1:0];o&&o.focus()}function ite(e,t="body > :not(script)"){const n=Array.from(document.querySelectorAll(t)).map(r=>{if(r.contains(e))return;const i=r.getAttribute("aria-hidden");return(i===null||i==="false")&&r.setAttribute("aria-hidden","true"),{node:r,ariaHidden:i}});return()=>{n.forEach(r=>{r&&(r.ariaHidden===null?r.node.removeAttribute("aria-hidden"):r.node.setAttribute("aria-hidden",r.ariaHidden))})}}function s4(e=!0){const t=S.useRef(),n=S.useRef(null),r=S.useCallback(i=>{if(e&&i!==null&&(n.current=ite(i),t.current!==i))if(i){const o=()=>{let s=i.querySelector("[data-autofocus]");if(!s){const a=Array.from(i.querySelectorAll(r4));s=a.find(o4)||a.find(B$)||null,!s&&B$(i)&&(s=i)}s&&s.focus({preventScroll:!0})};setTimeout(()=>{i.ownerDocument&&o()}),t.current=i}else t.current=null},[e]);return S.useEffect(()=>{if(!e)return;const i=o=>{o.key==="Tab"&&t.current&&rte(t.current,o)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),n.current&&n.current()}},[e]),r}const ote=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,ste=Fi["useId".toString()]||(()=>{});function ate(){const[e,t]=S.useState("");return t4(()=>{t(ote())},[]),e}function lte(){const e=ste();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ba(e){return typeof e=="string"?e:lte()||ate()}function U$(e,t,n){S.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function a4(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function ute(...e){return t=>{e.forEach(n=>a4(n,t))}}function ks(...e){return S.useCallback(ute(...e),e)}function cte(e,t,n="ltr"){const r=S.useRef(),i=S.useRef(!1),o=S.useRef(!1),s=S.useRef(0),[a,l]=S.useState(!1);return S.useEffect(()=>{i.current=!0},[]),S.useEffect(()=>{const u=({x:y,y:w})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const b=r.current.getBoundingClientRect();if(b.width&&b.height){const $=ga((y-b.left)/b.width,0,1);e({x:n==="ltr"?$:1-$,y:ga((w-b.top)/b.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),document.addEventListener("touchmove",m),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)},d=()=>{!o.current&&i.current&&(o.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),l(!0),c())},h=()=>{o.current&&i.current&&(o.current=!1,l(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=y=>{d(),g(y)},g=y=>u({x:y.clientX,y:y.clientY}),v=y=>{y.cancelable&&y.preventDefault(),d(),m(y)},m=y=>{y.cancelable&&y.preventDefault(),u({x:y.changedTouches[0].clientX,y:y.changedTouches[0].clientY})};return r.current.addEventListener("mousedown",p),r.current.addEventListener("touchstart",v,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",v))}},[n,e]),{ref:r,active:a}}function Oa({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=S.useState(t!==void 0?t:n),s=a=>{o(a),r==null||r(a)};return e!==void 0?[e,r,!0]:[i,s,!1]}function l4(e,t){return Jee("(prefers-reduced-motion: reduce)",e,t)}const fte=e=>e<.5?2*e*e:-1+(4-2*e)*e,dte=({axis:e,target:t,parent:n,alignment:r,offset:i,isList:o})=>{if(!t||!n&&typeof document>"u")return 0;const s=!!n,l=(n||document.body).getBoundingClientRect(),u=t.getBoundingClientRect(),c=f=>u[f]-l[f];if(e==="y"){const f=c("top");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=u.height*(o?0:1)||!o?h:0}const d=s?l.height:window.innerHeight;if(r==="end"){const h=f+i-d+u.height;return h>=-u.height*(o?0:1)||!o?h:0}return r==="center"?f-d/2+u.height/2:0}if(e==="x"){const f=c("left");if(f===0)return 0;if(r==="start"){const h=f-i;return h<=u.width||!o?h:0}const d=s?l.width:window.innerWidth;if(r==="end"){const h=f+i-d+u.width;return h>=-u.width||!o?h:0}return r==="center"?f-d/2+u.width/2:0}return 0},hte=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:i}=document;return r[n]+i[n]},pte=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:i,documentElement:o}=document;i[r]=n,o[r]=n}};function u4({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=fte,offset:i=0,cancelable:o=!0,isList:s=!1}={}){const a=S.useRef(0),l=S.useRef(0),u=S.useRef(!1),c=S.useRef(null),f=S.useRef(null),d=l4(),h=()=>{a.current&&cancelAnimationFrame(a.current)},p=S.useCallback(({alignment:v="start"}={})=>{var m;u.current=!1,a.current&&h();const y=(m=hte({parent:c.current,axis:t}))!=null?m:0,w=dte({parent:c.current,target:f.current,axis:t,alignment:v,offset:i,isList:s})-(c.current?0:y);function b(){l.current===0&&(l.current=performance.now());const _=performance.now()-l.current,E=d||e===0?1:_/e,C=y+w*r(E);pte({parent:c.current,axis:t,distance:C}),!u.current&&E<1?a.current=requestAnimationFrame(b):(typeof n=="function"&&n(),l.current=0,a.current=0,h())}b()},[t,e,r,s,i,n,d]),g=()=>{o&&(u.current=!0)};return U$("wheel",g,{passive:!0}),U$("touchmove",g,{passive:!0}),S.useEffect(()=>h,[]),{scrollableRef:c,targetRef:f,scrollIntoView:p,cancel:h}}function mte(){if(typeof window>"u"||typeof document>"u")return 0;const e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}const gte=({disableBodyPadding:e})=>{const t=e?null:mte();return`body {
        --removed-scroll-width: ${t}px;
        touch-action: none;
        overflow: hidden !important;
        position: relative !important;
        ${t?"padding-right: var(--removed-scroll-width) !important;":""}
        `};function yte(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vte(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function wte(){const e=document.createElement("style");return e.type="text/css",e.setAttribute("mantine-scroll-lock",""),e}function _te(e,t={disableBodyPadding:!1}){const[n,r]=S.useState(e||!1),i=S.useRef(0),{disableBodyPadding:o}=t,s=S.useRef(null),a=()=>{i.current=window.scrollY;const u=gte({disableBodyPadding:o}),c=wte();yte(c,u),vte(c),s.current=c},l=()=>{s!=null&&s.current&&(s.current.parentNode.removeChild(s.current),s.current=null)};return S.useEffect(()=>(n?a():l(),l),[n]),S.useEffect(()=>{e!==void 0&&r(e)},[e]),S.useEffect(()=>{e===void 0&&typeof window<"u"&&window.document.body.style.overflow==="hidden"&&r(!0)},[r]),[n,r]}function bte(){const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,n=/(Win32)|(Win64)|(Windows)|(WinCE)/i,r=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":r.test(e)?"ios":n.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function Ste(){return typeof window<"u"?bte():"undetermined"}function $te(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n.type==="checkbox"?e(n.checked):e(n.value)}else e(t)}}function c4(e){const[t,n]=S.useState(e);return[t,$te(n)]}function f4(e,t){const[n,r]=S.useState(e),i=()=>{var a;n||(r(!0),(a=t==null?void 0:t.onOpen)==null||a.call(t))},o=()=>{var a;n&&(r(!1),(a=t==null?void 0:t.onClose)==null||a.call(t))};return[n,{open:i,close:o,toggle:()=>{n?o():i()}}]}function Ete(){return`mantine-${Math.random().toString(36).slice(2,11)}`}var xA=Object.getOwnPropertySymbols,xte=Object.prototype.hasOwnProperty,Ote=Object.prototype.propertyIsEnumerable,Pte=(e,t)=>{var n={};for(var r in e)xte.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xA)for(var r of xA(e))t.indexOf(r)<0&&Ote.call(e,r)&&(n[r]=e[r]);return n};function hu(e){const t=e,{m:n,mx:r,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:v,c:m,opacity:y,ff:w,fz:b,fw:$,lts:_,ta:E,lh:C,fs:N,tt:L,td:M,w:B,miw:F,maw:R,h:J,mih:re,mah:ie,bgsz:G,bgp:Q,bgr:q,bga:O,pos:P,top:z,left:I,bottom:k,right:V,inset:Z,display:oe}=t,be=Pte(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:K3({m:n,mx:r,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:c,py:f,pt:d,pb:h,pl:p,pr:g,bg:v,c:m,opacity:y,ff:w,fz:b,fw:$,lts:_,ta:E,lh:C,fs:N,tt:L,td:M,w:B,miw:F,maw:R,h:J,mih:re,mah:ie,bgsz:G,bgp:Q,bgr:q,bga:O,pos:P,top:z,left:I,bottom:k,right:V,inset:Z,display:oe}),rest:be}}function Cte(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,i)=>t.fn.size({size:r,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...n]:n}function Ite({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return Cte(e,t).reduce((s,a)=>{if(a==="base"&&e.base!==void 0){const u=n(e.base,t);return Array.isArray(r)?(r.forEach(c=>{s[c]=u}),s):(s[r]=u,s)}const l=n(e[a],t);return Array.isArray(r)?(s[t.fn.largerThan(a)]={},r.forEach(u=>{s[t.fn.largerThan(a)][u]=l}),s):(s[t.fn.largerThan(a)]={[r]:l},s)},{});const i=n(e,t);return Array.isArray(r)?r.reduce((o,s)=>(o[s]=i,o),{}):{[r]:i}}function kte(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function Tte(e){return e}function Ate(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const Nte=["-xs","-sm","-md","-lg","-xl"];function Rte(e,t){return Nte.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const Dte={color:kte,default:Tte,fontSize:Ate,spacing:Rte},Mte={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"default",property:"width"},miw:{type:"default",property:"minWidth"},maw:{type:"default",property:"maxWidth"},h:{type:"default",property:"height"},mih:{type:"default",property:"minHeight"},mah:{type:"default",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var Lte=Object.defineProperty,OA=Object.getOwnPropertySymbols,jte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable,PA=(e,t,n)=>t in e?Lte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CA=(e,t)=>{for(var n in t||(t={}))jte.call(t,n)&&PA(e,n,t[n]);if(OA)for(var n of OA(t))zte.call(t,n)&&PA(e,n,t[n]);return e};function H$(e,t,n=Mte){return Object.keys(n).reduce((i,o)=>(o in e&&e[o]!==void 0&&i.push(Ite({value:e[o],getValue:Dte[n[o].type],property:n[o].property,theme:t})),i),[]).reduce((i,o)=>(Object.keys(o).forEach(s=>{typeof o[s]=="object"&&o[s]!==null&&s in i?i[s]=CA(CA({},i[s]),o[s]):i[s]=o[s]}),i),{})}function IA(e,t){return typeof e=="function"?e(t):e}function Fte(e,t,n){const r=ui(),{css:i,cx:o}=Z3();return Array.isArray(e)?o(n,i(H$(t,r)),e.map(s=>i(IA(s,r)))):o(n,i(IA(e,r)),i(H$(t,r)))}var Vte=Object.defineProperty,jy=Object.getOwnPropertySymbols,d4=Object.prototype.hasOwnProperty,h4=Object.prototype.propertyIsEnumerable,kA=(e,t,n)=>t in e?Vte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bte=(e,t)=>{for(var n in t||(t={}))d4.call(t,n)&&kA(e,n,t[n]);if(jy)for(var n of jy(t))h4.call(t,n)&&kA(e,n,t[n]);return e},Ute=(e,t)=>{var n={};for(var r in e)d4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jy)for(var r of jy(e))t.indexOf(r)<0&&h4.call(e,r)&&(n[r]=e[r]);return n};const p4=S.forwardRef((e,t)=>{var n=e,{className:r,component:i,style:o,sx:s}=n,a=Ute(n,["className","component","style","sx"]);const{systemStyles:l,rest:u}=hu(a);return x(i||"div",{...Bte({ref:t,className:Fte(s,l,r),style:o},u)})});p4.displayName="@mantine/core/Box";const We=p4;var Hte=Object.defineProperty,qte=Object.defineProperties,Wte=Object.getOwnPropertyDescriptors,TA=Object.getOwnPropertySymbols,Kte=Object.prototype.hasOwnProperty,Gte=Object.prototype.propertyIsEnumerable,AA=(e,t,n)=>t in e?Hte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NA=(e,t)=>{for(var n in t||(t={}))Kte.call(t,n)&&AA(e,n,t[n]);if(TA)for(var n of TA(t))Gte.call(t,n)&&AA(e,n,t[n]);return e},Yte=(e,t)=>qte(e,Wte(t)),Qte=qe(e=>({root:Yte(NA(NA({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const Xte=Qte;var Jte=Object.defineProperty,zy=Object.getOwnPropertySymbols,m4=Object.prototype.hasOwnProperty,g4=Object.prototype.propertyIsEnumerable,RA=(e,t,n)=>t in e?Jte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zte=(e,t)=>{for(var n in t||(t={}))m4.call(t,n)&&RA(e,n,t[n]);if(zy)for(var n of zy(t))g4.call(t,n)&&RA(e,n,t[n]);return e},ene=(e,t)=>{var n={};for(var r in e)m4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zy)for(var r of zy(e))t.indexOf(r)<0&&g4.call(e,r)&&(n[r]=e[r]);return n};const y4=S.forwardRef((e,t)=>{const n=Ke("UnstyledButton",{},e),{className:r,component:i="button",unstyled:o}=n,s=ene(n,["className","component","unstyled"]),{classes:a,cx:l}=Xte(null,{name:"UnstyledButton",unstyled:o});return x(We,{...Zte({component:i,ref:t,className:l(a.root,r),type:i==="button"?"button":void 0},s)})});y4.displayName="@mantine/core/UnstyledButton";const rP=y4;var tne=Object.defineProperty,nne=Object.defineProperties,rne=Object.getOwnPropertyDescriptors,DA=Object.getOwnPropertySymbols,ine=Object.prototype.hasOwnProperty,one=Object.prototype.propertyIsEnumerable,MA=(e,t,n)=>t in e?tne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v4=(e,t)=>{for(var n in t||(t={}))ine.call(t,n)&&MA(e,n,t[n]);if(DA)for(var n of DA(t))one.call(t,n)&&MA(e,n,t[n]);return e},sne=(e,t)=>nne(e,rne(t));const gd={xs:18,sm:22,md:28,lg:34,xl:44};function ane({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:v4({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var lne=qe((e,{color:t,size:n,radius:r,variant:i,gradient:o})=>({root:sne(v4({},ane({variant:i,theme:e,color:t,gradient:o})),{position:"relative",height:e.fn.size({size:n,sizes:gd}),minHeight:e.fn.size({size:n,sizes:gd}),width:e.fn.size({size:n,sizes:gd}),minWidth:e.fn.size({size:n,sizes:gd}),borderRadius:e.fn.radius(r),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}})}));const une=lne;var cne=Object.defineProperty,Fy=Object.getOwnPropertySymbols,w4=Object.prototype.hasOwnProperty,_4=Object.prototype.propertyIsEnumerable,LA=(e,t,n)=>t in e?cne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fne=(e,t)=>{for(var n in t||(t={}))w4.call(t,n)&&LA(e,n,t[n]);if(Fy)for(var n of Fy(t))_4.call(t,n)&&LA(e,n,t[n]);return e},dne=(e,t)=>{var n={};for(var r in e)w4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fy)for(var r of Fy(e))t.indexOf(r)<0&&_4.call(e,r)&&(n[r]=e[r]);return n};function hne(e){var t=e,{size:n,color:r}=t,i=dne(t,["size","color"]);return he("svg",{...fne({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,width:`${n}px`},i),children:[he("rect",{y:"10",width:"15",height:"120",rx:"6",children:[x("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),he("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6",children:[x("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),he("rect",{x:"60",width:"15",height:"140",rx:"6",children:[x("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),he("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6",children:[x("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]}),he("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6",children:[x("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]})]})}var pne=Object.defineProperty,Vy=Object.getOwnPropertySymbols,b4=Object.prototype.hasOwnProperty,S4=Object.prototype.propertyIsEnumerable,jA=(e,t,n)=>t in e?pne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mne=(e,t)=>{for(var n in t||(t={}))b4.call(t,n)&&jA(e,n,t[n]);if(Vy)for(var n of Vy(t))S4.call(t,n)&&jA(e,n,t[n]);return e},gne=(e,t)=>{var n={};for(var r in e)b4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vy)for(var r of Vy(e))t.indexOf(r)<0&&S4.call(e,r)&&(n[r]=e[r]);return n};function yne(e){var t=e,{size:n,color:r}=t,i=gne(t,["size","color"]);return x("svg",{...mne({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r},i),children:x("g",{fill:"none",fillRule:"evenodd",children:he("g",{transform:"translate(2.5 2.5)",strokeWidth:"5",children:[x("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),x("path",{d:"M32 16c0-9.94-8.06-16-16-16",children:x("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})})]})})})}var vne=Object.defineProperty,By=Object.getOwnPropertySymbols,$4=Object.prototype.hasOwnProperty,E4=Object.prototype.propertyIsEnumerable,zA=(e,t,n)=>t in e?vne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wne=(e,t)=>{for(var n in t||(t={}))$4.call(t,n)&&zA(e,n,t[n]);if(By)for(var n of By(t))E4.call(t,n)&&zA(e,n,t[n]);return e},_ne=(e,t)=>{var n={};for(var r in e)$4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&By)for(var r of By(e))t.indexOf(r)<0&&E4.call(e,r)&&(n[r]=e[r]);return n};function bne(e){var t=e,{size:n,color:r}=t,i=_ne(t,["size","color"]);return he("svg",{...wne({width:`${n}px`,height:`${n/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r},i),children:[he("circle",{cx:"15",cy:"15",r:"15",children:[x("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),x("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]}),he("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3",children:[x("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),x("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]}),he("circle",{cx:"105",cy:"15",r:"15",children:[x("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),x("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]})]})}var Sne=Object.defineProperty,Uy=Object.getOwnPropertySymbols,x4=Object.prototype.hasOwnProperty,O4=Object.prototype.propertyIsEnumerable,FA=(e,t,n)=>t in e?Sne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$ne=(e,t)=>{for(var n in t||(t={}))x4.call(t,n)&&FA(e,n,t[n]);if(Uy)for(var n of Uy(t))O4.call(t,n)&&FA(e,n,t[n]);return e},Ene=(e,t)=>{var n={};for(var r in e)x4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Uy)for(var r of Uy(e))t.indexOf(r)<0&&O4.call(e,r)&&(n[r]=e[r]);return n};const y1={bars:hne,oval:yne,dots:bne},xne={xs:18,sm:22,md:36,lg:44,xl:58},One={size:"md"};function iP(e){const t=Ke("Loader",One,e),{size:n,color:r,variant:i}=t,o=Ene(t,["size","color","variant"]),s=ui(),a=i in y1?i:s.loader;return x(We,{...$ne({role:"presentation",component:y1[a]||y1.bars,size:s.fn.size({size:n,sizes:xne}),color:s.fn.variant({variant:"filled",primaryFallback:!1,color:r||s.primaryColor}).background},o)})}iP.displayName="@mantine/core/Loader";var Pne=Object.defineProperty,Hy=Object.getOwnPropertySymbols,P4=Object.prototype.hasOwnProperty,C4=Object.prototype.propertyIsEnumerable,VA=(e,t,n)=>t in e?Pne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BA=(e,t)=>{for(var n in t||(t={}))P4.call(t,n)&&VA(e,n,t[n]);if(Hy)for(var n of Hy(t))C4.call(t,n)&&VA(e,n,t[n]);return e},Cne=(e,t)=>{var n={};for(var r in e)P4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hy)for(var r of Hy(e))t.indexOf(r)<0&&C4.call(e,r)&&(n[r]=e[r]);return n};const Ine={color:"gray",size:"md",variant:"subtle",loading:!1},I4=S.forwardRef((e,t)=>{const n=Ke("ActionIcon",Ine,e),{className:r,color:i,children:o,radius:s,size:a,variant:l,gradient:u,disabled:c,loaderProps:f,loading:d,unstyled:h}=n,p=Cne(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:v,theme:m}=une({size:a,radius:s,color:i,variant:l,gradient:u},{name:"ActionIcon",unstyled:h}),y=m.fn.variant({color:i,variant:l}),w=x(iP,{...BA({color:y.color,size:m.fn.size({size:a,sizes:gd})-12},f)});return x(rP,{...BA({className:v(g.root,r),ref:t,disabled:c,"data-disabled":c||void 0,"data-loading":d||void 0,unstyled:h},p),children:d?w:o})});I4.displayName="@mantine/core/ActionIcon";const k4=I4;function T4(e){const{children:t,target:n,className:r}=Ke("Portal",{},e),i=ui(),[o,s]=S.useState(!1),a=S.useRef();return t4(()=>(s(!0),a.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(a.current),()=>{!n&&document.body.removeChild(a.current)}),[n]),o?hp.createPortal(x("div",{className:r,dir:i.dir,children:t}),a.current):null}T4.displayName="@mantine/core/Portal";var kne=Object.defineProperty,qy=Object.getOwnPropertySymbols,A4=Object.prototype.hasOwnProperty,N4=Object.prototype.propertyIsEnumerable,UA=(e,t,n)=>t in e?kne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tne=(e,t)=>{for(var n in t||(t={}))A4.call(t,n)&&UA(e,n,t[n]);if(qy)for(var n of qy(t))N4.call(t,n)&&UA(e,n,t[n]);return e},Ane=(e,t)=>{var n={};for(var r in e)A4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qy)for(var r of qy(e))t.indexOf(r)<0&&N4.call(e,r)&&(n[r]=e[r]);return n};function vp(e){var t=e,{withinPortal:n=!0,children:r}=t,i=Ane(t,["withinPortal","children"]);return n?x(T4,{...Tne({},i),children:r}):x(tn,{children:r})}vp.displayName="@mantine/core/OptionalPortal";var Nne=Object.defineProperty,HA=Object.getOwnPropertySymbols,Rne=Object.prototype.hasOwnProperty,Dne=Object.prototype.propertyIsEnumerable,qA=(e,t,n)=>t in e?Nne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mne=(e,t)=>{for(var n in t||(t={}))Rne.call(t,n)&&qA(e,n,t[n]);if(HA)for(var n of HA(t))Dne.call(t,n)&&qA(e,n,t[n]);return e};function R4(e){return x("svg",{...Mne({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),children:x("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}R4.displayName="@mantine/core/CloseIcon";var Lne=Object.defineProperty,Wy=Object.getOwnPropertySymbols,D4=Object.prototype.hasOwnProperty,M4=Object.prototype.propertyIsEnumerable,WA=(e,t,n)=>t in e?Lne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jne=(e,t)=>{for(var n in t||(t={}))D4.call(t,n)&&WA(e,n,t[n]);if(Wy)for(var n of Wy(t))M4.call(t,n)&&WA(e,n,t[n]);return e},zne=(e,t)=>{var n={};for(var r in e)D4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Wy)for(var r of Wy(e))t.indexOf(r)<0&&M4.call(e,r)&&(n[r]=e[r]);return n};const Fne={xs:12,sm:14,md:16,lg:20,xl:24},Vne={size:"md"},L4=S.forwardRef((e,t)=>{const n=Ke("CloseButton",Vne,e),{iconSize:r,size:i="md"}=n,o=zne(n,["iconSize","size"]),s=ui(),a=r||s.fn.size({size:i,sizes:Fne});return x(k4,{...jne({size:i,ref:t},o),children:x(R4,{width:a,height:a})})});L4.displayName="@mantine/core/CloseButton";const oP=L4;var Bne=Object.defineProperty,Une=Object.defineProperties,Hne=Object.getOwnPropertyDescriptors,KA=Object.getOwnPropertySymbols,qne=Object.prototype.hasOwnProperty,Wne=Object.prototype.propertyIsEnumerable,GA=(e,t,n)=>t in e?Bne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nm=(e,t)=>{for(var n in t||(t={}))qne.call(t,n)&&GA(e,n,t[n]);if(KA)for(var n of KA(t))Wne.call(t,n)&&GA(e,n,t[n]);return e},Kne=(e,t)=>Une(e,Hne(t));function Gne({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function Yne({theme:e,color:t,variant:n}){return t==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:n==="link"?e.colors[e.primaryColor][e.colorScheme==="dark"?4:7]:t||"inherit"}function Qne(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var Xne=qe((e,{color:t,variant:n,size:r,lineClamp:i,inline:o,inherit:s,underline:a,gradient:l,weight:u,transform:c,align:f,strikethrough:d,italic:h})=>{const p=e.fn.variant({variant:"gradient",gradient:l});return{root:Nm(Kne(Nm(Nm(Nm({},e.fn.fontStyles()),e.fn.focusStyles()),Qne(i)),{color:Yne({color:t,theme:e,variant:n}),fontFamily:s?"inherit":e.fontFamily,fontSize:s||r===void 0?"inherit":e.fn.size({size:r,sizes:e.fontSizes}),lineHeight:s?"inherit":o?1:e.lineHeight,textDecoration:Gne({underline:a,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:s?"inherit":u,textTransform:c,textAlign:f,fontStyle:h?"italic":void 0}),e.fn.hover(n==="link"&&a===void 0?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const Jne=Xne;var Zne=Object.defineProperty,Ky=Object.getOwnPropertySymbols,j4=Object.prototype.hasOwnProperty,z4=Object.prototype.propertyIsEnumerable,YA=(e,t,n)=>t in e?Zne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ere=(e,t)=>{for(var n in t||(t={}))j4.call(t,n)&&YA(e,n,t[n]);if(Ky)for(var n of Ky(t))z4.call(t,n)&&YA(e,n,t[n]);return e},tre=(e,t)=>{var n={};for(var r in e)j4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ky)for(var r of Ky(e))t.indexOf(r)<0&&z4.call(e,r)&&(n[r]=e[r]);return n};const nre={variant:"text"},F4=S.forwardRef((e,t)=>{const n=Ke("Text",nre,e),{className:r,size:i,weight:o,transform:s,color:a,align:l,variant:u,lineClamp:c,gradient:f,inline:d,inherit:h,underline:p,strikethrough:g,italic:v,classNames:m,styles:y,unstyled:w,span:b}=n,$=tre(n,["className","size","weight","transform","color","align","variant","lineClamp","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:_,cx:E}=Jne({variant:u,color:a,size:i,lineClamp:c,inline:d,inherit:h,underline:p,strikethrough:g,italic:v,weight:o,transform:s,align:l,gradient:f},{unstyled:w,name:"Text"});return x(We,{...ere({ref:t,className:E(_.root,{[_.gradient]:u==="gradient"},r),component:b?"span":"div"},$)})});F4.displayName="@mantine/core/Text";const wt=F4;var rre=qe(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}}));const ire=rre;var ore=Object.defineProperty,Gy=Object.getOwnPropertySymbols,V4=Object.prototype.hasOwnProperty,B4=Object.prototype.propertyIsEnumerable,QA=(e,t,n)=>t in e?ore(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XA=(e,t)=>{for(var n in t||(t={}))V4.call(t,n)&&QA(e,n,t[n]);if(Gy)for(var n of Gy(t))B4.call(t,n)&&QA(e,n,t[n]);return e},sre=(e,t)=>{var n={};for(var r in e)V4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gy)for(var r of Gy(e))t.indexOf(r)<0&&B4.call(e,r)&&(n[r]=e[r]);return n};const are={},U4=S.forwardRef((e,t)=>{const n=Ke("Anchor",are,e),{component:r,className:i,unstyled:o}=n,s=sre(n,["component","className","unstyled"]),{classes:a,cx:l}=ire(null,{name:"Anchor",unstyled:o}),u=r==="button"?{type:"button"}:null;return x(wt,{...XA(XA({component:r||"a",variant:"link",ref:t,className:l(a.root,i)},u),s)})});U4.displayName="@mantine/core/Anchor";const lre=U4,H4=S.createContext({}),ure=H4.Provider;function q4(){return S.useContext(H4)}function Ww(e,t){if(!e)return[];const n=Object.keys(e).filter(r=>r!=="base").map(r=>[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]);return n.sort((r,i)=>r[0]-i[0]),n}var cre=Object.defineProperty,fre=Object.defineProperties,dre=Object.getOwnPropertyDescriptors,JA=Object.getOwnPropertySymbols,hre=Object.prototype.hasOwnProperty,pre=Object.prototype.propertyIsEnumerable,ZA=(e,t,n)=>t in e?cre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rm=(e,t)=>{for(var n in t||(t={}))hre.call(t,n)&&ZA(e,n,t[n]);if(JA)for(var n of JA(t))pre.call(t,n)&&ZA(e,n,t[n]);return e},eN=(e,t)=>fre(e,dre(t)),mre=qe((e,{height:t,width:n,fixed:r,position:i,hiddenBreakpoint:o,zIndex:s,section:a,withBorder:l})=>{const u=typeof n=="object"&&n!==null?Ww(n,e).reduce((f,[d,h])=>(f[`@media (min-width: ${d}px)`]={width:h,minWidth:h},f),{}):null,c=l?{[a==="navbar"?"borderRight":"borderLeft"]:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`}:{};return{root:eN(Rm(Rm(eN(Rm(Rm({},e.fn.fontStyles()),i),{top:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:s,height:t||"calc(100vh - var(--mantine-header-height, 0px) - var(--mantine-footer-height, 0px))",width:(n==null?void 0:n.base)||"100%",position:r?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),c),u),{"&[data-hidden]":{[`@media (max-width: ${e.fn.size({size:o,sizes:e.breakpoints})-1}px)`]:{display:"none"}}})}});const gre=mre;var yre=Object.defineProperty,Yy=Object.getOwnPropertySymbols,W4=Object.prototype.hasOwnProperty,K4=Object.prototype.propertyIsEnumerable,tN=(e,t,n)=>t in e?yre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nN=(e,t)=>{for(var n in t||(t={}))W4.call(t,n)&&tN(e,n,t[n]);if(Yy)for(var n of Yy(t))K4.call(t,n)&&tN(e,n,t[n]);return e},vre=(e,t)=>{var n={};for(var r in e)W4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yy)for(var r of Yy(e))t.indexOf(r)<0&&K4.call(e,r)&&(n[r]=e[r]);return n};const sP=S.forwardRef((e,t)=>{var n=e,{width:r,height:i,fixed:o=!1,position:s,zIndex:a=Ii("app"),hiddenBreakpoint:l="md",hidden:u=!1,withBorder:c=!0,className:f,classNames:d,styles:h,children:p,section:g,__staticSelector:v,unstyled:m}=n,y=vre(n,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled"]);const w=q4(),{classes:b,cx:$,theme:_}=gre({width:r,height:i,fixed:w.fixed||o,position:s,hiddenBreakpoint:l,zIndex:w.zIndex||a,section:g,withBorder:c},{classNames:d,styles:h,name:v,unstyled:m}),E=Ww(r,_).reduce((C,[N,L])=>(C[`@media (min-width: ${N}px)`]={[`--mantine-${g}-width`]:`${L}px`},C),{});return he(We,{...nN({component:g==="navbar"?"nav":"aside",ref:t,"data-hidden":u||void 0,className:$(b.root,f)},y),children:[p,x(e4,{styles:()=>({":root":nN({[`--mantine-${g}-width`]:r!=null&&r.base?`${r.base}px`:"0px"},E)})})]})});sP.displayName="@mantine/core/HorizontalSection";var wre=Object.defineProperty,Qy=Object.getOwnPropertySymbols,G4=Object.prototype.hasOwnProperty,Y4=Object.prototype.propertyIsEnumerable,rN=(e,t,n)=>t in e?wre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_re=(e,t)=>{for(var n in t||(t={}))G4.call(t,n)&&rN(e,n,t[n]);if(Qy)for(var n of Qy(t))Y4.call(t,n)&&rN(e,n,t[n]);return e},bre=(e,t)=>{var n={};for(var r in e)G4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qy)for(var r of Qy(e))t.indexOf(r)<0&&Y4.call(e,r)&&(n[r]=e[r]);return n};const Q4=S.forwardRef((e,t)=>{var n=e,{children:r,grow:i=!1,sx:o}=n,s=bre(n,["children","grow","sx"]);return x(We,{..._re({ref:t,sx:[{flex:i?1:0,boxSizing:"border-box"},...ql(o)]},s),children:r})});Q4.displayName="@mantine/core/Section";const X4=Q4;var Sre=Object.defineProperty,iN=Object.getOwnPropertySymbols,$re=Object.prototype.hasOwnProperty,Ere=Object.prototype.propertyIsEnumerable,oN=(e,t,n)=>t in e?Sre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xre=(e,t)=>{for(var n in t||(t={}))$re.call(t,n)&&oN(e,n,t[n]);if(iN)for(var n of iN(t))Ere.call(t,n)&&oN(e,n,t[n]);return e};const Ore={fixed:!1,position:{top:0,left:0},zIndex:Ii("app"),hiddenBreakpoint:"md",hidden:!1},Ku=S.forwardRef((e,t)=>{const n=Ke("Navbar",Ore,e);return x(sP,{...xre({section:"navbar",__staticSelector:"Navbar",ref:t},n)})});Ku.Section=X4;Ku.displayName="@mantine/core/Navbar";var Pre=Object.defineProperty,Cre=Object.defineProperties,Ire=Object.getOwnPropertyDescriptors,sN=Object.getOwnPropertySymbols,kre=Object.prototype.hasOwnProperty,Tre=Object.prototype.propertyIsEnumerable,aN=(e,t,n)=>t in e?Pre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v1=(e,t)=>{for(var n in t||(t={}))kre.call(t,n)&&aN(e,n,t[n]);if(sN)for(var n of sN(t))Tre.call(t,n)&&aN(e,n,t[n]);return e},lN=(e,t)=>Cre(e,Ire(t)),Are=qe((e,{height:t,fixed:n,position:r,zIndex:i,borderPosition:o})=>{const s=typeof t=="object"&&t!==null?Ww(t,e).reduce((a,[l,u])=>(a[`@media (min-width: ${l}px)`]={height:u,minHeight:u},a),{}):null;return{root:lN(v1(lN(v1(v1({},e.fn.fontStyles()),r),{zIndex:i,height:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,maxHeight:typeof t=="object"?(t==null?void 0:t.base)||"100%":t,position:n?"fixed":"static",boxSizing:"border-box",backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white}),s),{borderBottom:o==="bottom"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0,borderTop:o==="top"?`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`:void 0})}});const Nre=Are;var Rre=Object.defineProperty,Xy=Object.getOwnPropertySymbols,J4=Object.prototype.hasOwnProperty,Z4=Object.prototype.propertyIsEnumerable,uN=(e,t,n)=>t in e?Rre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cN=(e,t)=>{for(var n in t||(t={}))J4.call(t,n)&&uN(e,n,t[n]);if(Xy)for(var n of Xy(t))Z4.call(t,n)&&uN(e,n,t[n]);return e},Dre=(e,t)=>{var n={};for(var r in e)J4.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xy)for(var r of Xy(e))t.indexOf(r)<0&&Z4.call(e,r)&&(n[r]=e[r]);return n};const eV=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:o,styles:s,height:a,fixed:l=!1,withBorder:u=!0,position:c,zIndex:f=Ii("app"),section:d,unstyled:h,__staticSelector:p}=n,g=Dre(n,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector"]);const v=q4(),{classes:m,cx:y,theme:w}=Nre({height:a,fixed:v.fixed||l,position:c,zIndex:v.zIndex||f,borderPosition:u?d==="header"?"bottom":"top":"none"},{name:p,classNames:o,styles:s,unstyled:h}),b=typeof a=="object"&&a!==null?Ww(a,w).reduce(($,[_,E])=>($[`@media (min-width: ${_}px)`]={[`--mantine-${d}-height`]:`${E}px`},$),{}):null;return he(We,{...cN({component:d==="header"?"header":"footer",className:y(m.root,i),ref:t},g),children:[r,x(e4,{styles:()=>({":root":cN({[`--mantine-${d}-height`]:typeof a=="object"?`${a==null?void 0:a.base}px`||"100%":`${a}px`},b)})})]})});eV.displayName="@mantine/core/VerticalSection";var Mre=Object.defineProperty,Lre=Object.defineProperties,jre=Object.getOwnPropertyDescriptors,fN=Object.getOwnPropertySymbols,zre=Object.prototype.hasOwnProperty,Fre=Object.prototype.propertyIsEnumerable,dN=(e,t,n)=>t in e?Mre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vre=(e,t)=>{for(var n in t||(t={}))zre.call(t,n)&&dN(e,n,t[n]);if(fN)for(var n of fN(t))Fre.call(t,n)&&dN(e,n,t[n]);return e},Bre=(e,t)=>Lre(e,jre(t));const Ure={fixed:!1,position:{top:0,left:0,right:0},zIndex:Ii("app")},tV=S.forwardRef((e,t)=>{const n=Ke("Header",Ure,e);return x(eV,{...Bre(Vre({section:"header",__staticSelector:"Header"},n),{ref:t})})});tV.displayName="@mantine/core/Header";var Hre=Object.defineProperty,hN=Object.getOwnPropertySymbols,qre=Object.prototype.hasOwnProperty,Wre=Object.prototype.propertyIsEnumerable,pN=(e,t,n)=>t in e?Hre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kre=(e,t)=>{for(var n in t||(t={}))qre.call(t,n)&&pN(e,n,t[n]);if(hN)for(var n of hN(t))Wre.call(t,n)&&pN(e,n,t[n]);return e};const Gre={fixed:!1,position:{top:0,right:0},zIndex:Ii("app"),hiddenBreakpoint:"md",hidden:!1},Jy=S.forwardRef((e,t)=>{const n=Ke("Aside",Gre,e);return x(sP,{...Kre({section:"aside",__staticSelector:"Aside",ref:t},n)})});Jy.Section=X4;Jy.displayName="@mantine/core/Aside";var Yre=Object.defineProperty,mN=Object.getOwnPropertySymbols,Qre=Object.prototype.hasOwnProperty,Xre=Object.prototype.propertyIsEnumerable,gN=(e,t,n)=>t in e?Yre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jre=(e,t)=>{for(var n in t||(t={}))Qre.call(t,n)&&gN(e,n,t[n]);if(mN)for(var n of mN(t))Xre.call(t,n)&&gN(e,n,t[n]);return e};function Zre(e,t){const n=t.fn.size({size:e.padding,sizes:t.spacing}),r=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null,i=e.asideOffsetBreakpoint?t.fn.size({size:e.asideOffsetBreakpoint,sizes:t.breakpoints}):null;return e.fixed?{minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${n}px)`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${n}px)`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${n}px)`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${n}px)`,[`@media (max-width: ${r-1}px)`]:{paddingLeft:n},[`@media (max-width: ${i-1}px)`]:{paddingRight:n}}:{padding:n}}var eie=qe((e,t)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:Jre({flex:1,width:"100vw",boxSizing:"border-box"},Zre(t,e))}));const tie=eie;var nie=Object.defineProperty,Zy=Object.getOwnPropertySymbols,nV=Object.prototype.hasOwnProperty,rV=Object.prototype.propertyIsEnumerable,yN=(e,t,n)=>t in e?nie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rie=(e,t)=>{for(var n in t||(t={}))nV.call(t,n)&&yN(e,n,t[n]);if(Zy)for(var n of Zy(t))rV.call(t,n)&&yN(e,n,t[n]);return e},iie=(e,t)=>{var n={};for(var r in e)nV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zy)for(var r of Zy(e))t.indexOf(r)<0&&rV.call(e,r)&&(n[r]=e[r]);return n};const oie={fixed:!0,zIndex:Ii("app"),padding:"md"},iV=S.forwardRef((e,t)=>{const n=Ke("AppShell",oie,e),{children:r,navbar:i,header:o,footer:s,aside:a,fixed:l,zIndex:u,padding:c,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d,className:h,styles:p,classNames:g,unstyled:v,hidden:m}=n,y=iie(n,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden"]),{classes:w,cx:b}=tie({padding:c,fixed:l,navbarOffsetBreakpoint:f,asideOffsetBreakpoint:d},{styles:p,classNames:g,unstyled:v,name:"AppShell"});return m?x(tn,{children:r}):x(ure,{value:{fixed:l,zIndex:u},children:he(We,{...rie({className:b(w.root,h),ref:t},y),children:[o,he("div",{className:w.body,children:[i,x("main",{className:w.main,children:r}),a]}),s]})})});iV.displayName="@mantine/core/AppShell";const Dm={xs:1,sm:2,md:3,lg:4,xl:5};function Mm(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var sie=qe((e,{size:t,variant:n,color:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:t,sizes:Dm})}px ${n} ${Mm(e,r)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:t,sizes:Dm})}px ${n} ${Mm(e,r)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:r==="dark"?e.colors.dark[1]:e.fn.themeColor(r,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:t,sizes:Dm}),borderTopColor:Mm(e,r),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:t,sizes:Dm}),borderLeftColor:Mm(e,r),borderLeftStyle:n}}));const aie=sie;var lie=Object.defineProperty,uie=Object.defineProperties,cie=Object.getOwnPropertyDescriptors,ev=Object.getOwnPropertySymbols,oV=Object.prototype.hasOwnProperty,sV=Object.prototype.propertyIsEnumerable,vN=(e,t,n)=>t in e?lie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wN=(e,t)=>{for(var n in t||(t={}))oV.call(t,n)&&vN(e,n,t[n]);if(ev)for(var n of ev(t))sV.call(t,n)&&vN(e,n,t[n]);return e},fie=(e,t)=>uie(e,cie(t)),die=(e,t)=>{var n={};for(var r in e)oV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ev)for(var r of ev(e))t.indexOf(r)<0&&sV.call(e,r)&&(n[r]=e[r]);return n};const hie={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},q$=S.forwardRef((e,t)=>{const n=Ke("Divider",hie,e),{className:r,color:i,orientation:o,size:s,label:a,labelPosition:l,labelProps:u,variant:c,styles:f,classNames:d,unstyled:h}=n,p=die(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:v}=aie({color:i,size:s,variant:c},{classNames:d,styles:f,unstyled:h,name:"Divider"}),m=o==="vertical",y=o==="horizontal",w=!!a&&y,b=!(u!=null&&u.color);return x(We,{...wN({ref:t,className:v(g.root,{[g.vertical]:m,[g.horizontal]:y,[g.withLabel]:w},r),role:"separator"},p),children:w&&x(wt,{...fie(wN({},u),{size:(u==null?void 0:u.size)||"xs",sx:{marginTop:2},className:v(g.label,g[l],{[g.labelDefaultStyles]:b})}),children:a})})});q$.displayName="@mantine/core/Divider";var pie=Object.defineProperty,mie=Object.defineProperties,gie=Object.getOwnPropertyDescriptors,_N=Object.getOwnPropertySymbols,yie=Object.prototype.hasOwnProperty,vie=Object.prototype.propertyIsEnumerable,bN=(e,t,n)=>t in e?pie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SN=(e,t)=>{for(var n in t||(t={}))yie.call(t,n)&&bN(e,n,t[n]);if(_N)for(var n of _N(t))vie.call(t,n)&&bN(e,n,t[n]);return e},wie=(e,t)=>mie(e,gie(t)),_ie=qe((e,{size:t})=>({item:wie(SN({},e.fn.fontStyles()),{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.radius.sm,"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":SN({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:t,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:t,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:t,sizes:e.spacing})/1.5}px ${e.fn.size({size:t,sizes:e.spacing})}px`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const bie=_ie;var Sie=Object.defineProperty,$N=Object.getOwnPropertySymbols,$ie=Object.prototype.hasOwnProperty,Eie=Object.prototype.propertyIsEnumerable,EN=(e,t,n)=>t in e?Sie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xie=(e,t)=>{for(var n in t||(t={}))$ie.call(t,n)&&EN(e,n,t[n]);if($N)for(var n of $N(t))Eie.call(t,n)&&EN(e,n,t[n]);return e};function aP({data:e,hovered:t,classNames:n,styles:r,isItemSelected:i,uuid:o,__staticSelector:s,onItemHover:a,onItemSelect:l,itemsRefs:u,itemComponent:c,size:f,nothingFound:d,creatable:h,createLabel:p,unstyled:g}){const{classes:v}=bie({size:f},{classNames:n,styles:r,unstyled:g,name:s}),m=[],y=[];let w=null;const b=(_,E)=>{const C=typeof i=="function"?i(_.value):!1;return x(c,{...xie({key:_.value,className:v.item,"data-disabled":_.disabled||void 0,"data-hovered":!_.disabled&&t===E||void 0,"data-selected":!_.disabled&&C||void 0,onMouseEnter:()=>a(E),id:`${o}-${E}`,role:"option",tabIndex:-1,"aria-selected":t===E,ref:N=>{u&&u.current&&(u.current[_.value]=N)},onMouseDown:_.disabled?null:N=>{N.preventDefault(),l(_)},disabled:_.disabled},_)})};let $=null;if(e.forEach((_,E)=>{_.creatable?w=E:_.group?($!==_.group&&($=_.group,y.push(x("div",{className:v.separator,children:x(q$,{classNames:{label:v.separatorLabel},label:_.group})},`__mantine-divider-${E}`))),y.push(b(_,E))):m.push(b(_,E))}),h){const _=e[w];m.push(x("div",{className:v.item,"data-hovered":t===w||void 0,onMouseEnter:()=>a(w),onMouseDown:E=>{E.preventDefault(),l(_)},tabIndex:-1,ref:E=>{u&&u.current&&(u.current[_.value]=E)},children:p},Ete()))}return y.length>0&&m.length>0&&m.unshift(x("div",{className:v.separator,children:x(q$,{})},"empty-group-separator")),y.length>0||m.length>0?he(tn,{children:[y,m]}):x(wt,{size:f,unstyled:g,className:v.nothingFound,children:d})}aP.displayName="@mantine/core/SelectItems";var Oie=Object.defineProperty,tv=Object.getOwnPropertySymbols,aV=Object.prototype.hasOwnProperty,lV=Object.prototype.propertyIsEnumerable,xN=(e,t,n)=>t in e?Oie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pie=(e,t)=>{for(var n in t||(t={}))aV.call(t,n)&&xN(e,n,t[n]);if(tv)for(var n of tv(t))lV.call(t,n)&&xN(e,n,t[n]);return e},Cie=(e,t)=>{var n={};for(var r in e)aV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tv)for(var r of tv(e))t.indexOf(r)<0&&lV.call(e,r)&&(n[r]=e[r]);return n};const lP=S.forwardRef((e,t)=>{var n=e,{label:r,value:i}=n,o=Cie(n,["label","value"]);return x("div",{...Pie({ref:t},o),children:r||i})});lP.displayName="@mantine/core/DefaultItem";function Iie(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function uV(...e){return t=>e.forEach(n=>Iie(n,t))}function pu(...e){return S.useCallback(uV(...e),e)}const cV=S.forwardRef((e,t)=>{const{children:n,...r}=e,i=S.Children.toArray(n),o=i.find(Tie);if(o){const s=o.props.children,a=i.map(l=>l===o?S.Children.count(s)>1?S.Children.only(null):S.isValidElement(s)?s.props.children:null:l);return S.createElement(W$,an({},r,{ref:t}),S.isValidElement(s)?S.cloneElement(s,void 0,a):null)}return S.createElement(W$,an({},r,{ref:t}),n)});cV.displayName="Slot";const W$=S.forwardRef((e,t)=>{const{children:n,...r}=e;return S.isValidElement(n)?S.cloneElement(n,{...Aie(r,n.props),ref:uV(t,n.ref)}):S.Children.count(n)>1?S.Children.only(null):null});W$.displayName="SlotClone";const kie=({children:e})=>S.createElement(S.Fragment,null,e);function Tie(e){return S.isValidElement(e)&&e.type===kie}function Aie(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{o==null||o(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const Nie=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],wp=Nie.reduce((e,t)=>{const n=S.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?cV:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(a,an({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),K$=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function Rie(e,t){return S.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const _p=e=>{const{present:t,children:n}=e,r=Die(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),o=pu(r.ref,i.ref);return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:o}):null};_p.displayName="Presence";function Die(e){const[t,n]=S.useState(),r=S.useRef({}),i=S.useRef(e),o=S.useRef("none"),s=e?"mounted":"unmounted",[a,l]=Rie(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Lm(r.current);o.current=a==="mounted"?u:"none"},[a]),K$(()=>{const u=r.current,c=i.current;if(c!==e){const d=o.current,h=Lm(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),K$(()=>{if(t){const u=f=>{const h=Lm(r.current).includes(f.animationName);f.target===t&&h&&hp.flushSync(()=>l("ANIMATION_END"))},c=f=>{f.target===t&&(o.current=Lm(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Lm(e){return(e==null?void 0:e.animationName)||"none"}function Mie(e,t=[]){let n=[];function r(o,s){const a=S.createContext(s),l=n.length;n=[...n,s];function u(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][l])||a,v=S.useMemo(()=>p,Object.values(p));return S.createElement(g.Provider,{value:v},h)}function c(f,d){const h=(d==null?void 0:d[e][l])||a,p=S.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(s=>S.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return S.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,Lie(i,...t)]}function Lie(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...a,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function fl(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const jie=S.createContext(void 0);function zie(e){const t=S.useContext(jie);return e||t||"ltr"}function Fie(e,[t,n]){return Math.min(n,Math.max(t,e))}function Tl(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Vie(e,t){return S.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const fV="ScrollArea",[dV,tBe]=Mie(fV),[Bie,Qi]=dV(fV),Uie=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,l]=S.useState(null),[u,c]=S.useState(null),[f,d]=S.useState(null),[h,p]=S.useState(null),[g,v]=S.useState(null),[m,y]=S.useState(0),[w,b]=S.useState(0),[$,_]=S.useState(!1),[E,C]=S.useState(!1),N=pu(t,M=>l(M)),L=zie(i);return S.createElement(Bie,{scope:n,type:r,dir:L,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:$,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:b},S.createElement(wp.div,an({dir:L},s,{ref:N,style:{position:"relative",["--radix-scroll-area-corner-width"]:m+"px",["--radix-scroll-area-corner-height"]:w+"px",...e.style}})))}),Hie="ScrollAreaViewport",qie=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,o=Qi(Hie,n),s=S.useRef(null),a=pu(t,s,o.onViewportChange);return S.createElement(S.Fragment,null,S.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),S.createElement(wp.div,an({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style}}),S.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Ts="ScrollAreaScrollbar",Wie=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qi(Ts,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return S.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?S.createElement(Kie,an({},r,{ref:t,forceMount:n})):i.type==="scroll"?S.createElement(Gie,an({},r,{ref:t,forceMount:n})):i.type==="auto"?S.createElement(hV,an({},r,{ref:t,forceMount:n})):i.type==="always"?S.createElement(uP,an({},r,{ref:t})):null}),Kie=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qi(Ts,e.__scopeScrollArea),[o,s]=S.useState(!1);return S.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),S.createElement(_p,{present:n||o},S.createElement(hV,an({"data-state":o?"visible":"hidden"},r,{ref:t})))}),Gie=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qi(Ts,e.__scopeScrollArea),o=e.orientation==="horizontal",s=Gw(()=>l("SCROLL_END"),100),[a,l]=Vie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),S.useEffect(()=>{const u=i.viewport,c=o?"scrollLeft":"scrollTop";if(u){let f=u[c];const d=()=>{const h=u[c];f!==h&&(l("SCROLL"),s()),f=h};return u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[i.viewport,o,l,s]),S.createElement(_p,{present:n||a!=="hidden"},S.createElement(uP,an({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Tl(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Tl(e.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),hV=S.forwardRef((e,t)=>{const n=Qi(Ts,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,s]=S.useState(!1),a=e.orientation==="horizontal",l=Gw(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return Ac(n.viewport,l),Ac(n.content,l),S.createElement(_p,{present:r||o},S.createElement(uP,an({"data-state":o?"visible":"hidden"},i,{ref:t})))}),uP=S.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Qi(Ts,e.__scopeScrollArea),o=S.useRef(null),s=S.useRef(0),[a,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yV(a.viewport,a.content),c={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:d=>o.current=d,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:d=>s.current=d};function f(d,h){return noe(d,s.current,a,h)}return n==="horizontal"?S.createElement(Yie,an({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollLeft,h=ON(d,a,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}})):n==="vertical"?S.createElement(Qie,an({},c,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const d=i.viewport.scrollTop,h=ON(d,a);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}})):null}),Yie=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Qi(Ts,e.__scopeScrollArea),[s,a]=S.useState(),l=S.useRef(null),u=pu(t,l,o.onScrollbarXChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),S.createElement(mV,an({"data-orientation":"horizontal"},i,{ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,["--radix-scroll-area-thumb-width"]:Kw(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,f)=>{if(o.viewport){const d=o.viewport.scrollLeft+c.deltaX;e.onWheelScroll(d),wV(d,f)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:nv(s.paddingLeft),paddingEnd:nv(s.paddingRight)}})}}))}),Qie=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Qi(Ts,e.__scopeScrollArea),[s,a]=S.useState(),l=S.useRef(null),u=pu(t,l,o.onScrollbarYChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),S.createElement(mV,an({"data-orientation":"vertical"},i,{ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)",["--radix-scroll-area-thumb-height"]:Kw(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,f)=>{if(o.viewport){const d=o.viewport.scrollTop+c.deltaY;e.onWheelScroll(d),wV(d,f)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:nv(s.paddingTop),paddingEnd:nv(s.paddingBottom)}})}}))}),[Xie,pV]=dV(Ts),mV=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:f,...d}=e,h=Qi(Ts,n),[p,g]=S.useState(null),v=pu(t,N=>g(N)),m=S.useRef(null),y=S.useRef(""),w=h.viewport,b=r.content-r.viewport,$=fl(c),_=fl(l),E=Gw(f,10);function C(N){if(m.current){const L=N.clientX-m.current.left,M=N.clientY-m.current.top;u({x:L,y:M})}}return S.useEffect(()=>{const N=L=>{const M=L.target;(p==null?void 0:p.contains(M))&&$(L,b)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,p,b,$]),S.useEffect(_,[r,_]),Ac(p,E),Ac(h.content,E),S.createElement(Xie,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:fl(o),onThumbPointerUp:fl(s),onThumbPositionChange:_,onThumbPointerDown:fl(a)},S.createElement(wp.div,an({},d,{ref:v,style:{position:"absolute",...d.style},onPointerDown:Tl(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),m.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C(N))}),onPointerMove:Tl(e.onPointerMove,C),onPointerUp:Tl(e.onPointerUp,N=>{N.target.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=y.current,m.current=null})})))}),G$="ScrollAreaThumb",Jie=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=pV(G$,e.__scopeScrollArea);return S.createElement(_p,{present:n||i.hasThumb},S.createElement(Zie,an({ref:t},r)))}),Zie=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=Qi(G$,n),s=pV(G$,n),{onThumbPositionChange:a}=s,l=pu(t,f=>s.onThumbChange(f)),u=S.useRef(),c=Gw(()=>{u.current&&(u.current(),u.current=void 0)},100);return S.useEffect(()=>{const f=o.viewport;if(f){const d=()=>{if(c(),!u.current){const h=roe(f,a);u.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[o.viewport,c,a]),S.createElement(wp.div,an({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Tl(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),p=f.clientX-h.left,g=f.clientY-h.top;s.onThumbPointerDown({x:p,y:g})}),onPointerUp:Tl(e.onPointerUp,s.onThumbPointerUp)}))}),gV="ScrollAreaCorner",eoe=S.forwardRef((e,t)=>{const n=Qi(gV,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.createElement(toe,an({},e,{ref:t})):null}),toe=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Qi(gV,n),[o,s]=S.useState(0),[a,l]=S.useState(0),u=!!(o&&a);return Ac(i.scrollbarX,()=>{var c;const f=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(f),l(f)}),Ac(i.scrollbarY,()=>{var c;const f=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(f),s(f)}),u?S.createElement(wp.div,an({},r,{ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function nv(e){return e?parseInt(e,10):0}function yV(e,t){const n=e/t;return isNaN(n)?0:n}function Kw(e){const t=yV(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function noe(e,t,n,r="ltr"){const i=Kw(n),o=i/2,s=t||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return vV([l,u],f)(e)}function ON(e,t,n="ltr"){const r=Kw(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=Fie(e,l);return vV([0,s],[0,a])(u)}function vV(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function wV(e,t){return e>0&&e<t}const roe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Gw(e,t){const n=fl(e),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ac(e,t){const n=fl(t);K$(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const ioe=Uie,ooe=qie,PN=Wie,CN=Jie,soe=eoe;var aoe=qe((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:i},o)=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?t:void 0,paddingBottom:n?t:void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:t/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${o("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:t},'&[data-orientation="horizontal"]':{flexDirection:"column",height:t},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:o("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:t,position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:i?"none":void 0}}));const loe=aoe;var uoe=Object.defineProperty,coe=Object.defineProperties,foe=Object.getOwnPropertyDescriptors,rv=Object.getOwnPropertySymbols,_V=Object.prototype.hasOwnProperty,bV=Object.prototype.propertyIsEnumerable,IN=(e,t,n)=>t in e?uoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SV=(e,t)=>{for(var n in t||(t={}))_V.call(t,n)&&IN(e,n,t[n]);if(rv)for(var n of rv(t))bV.call(t,n)&&IN(e,n,t[n]);return e},doe=(e,t)=>coe(e,foe(t)),$V=(e,t)=>{var n={};for(var r in e)_V.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rv)for(var r of rv(e))t.indexOf(r)<0&&bV.call(e,r)&&(n[r]=e[r]);return n};const EV={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},Yw=S.forwardRef((e,t)=>{const n=Ke("ScrollArea",EV,e),{children:r,className:i,classNames:o,styles:s,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p}=n,g=$V(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled"]),[v,m]=S.useState(!1),y=ui(),{classes:w,cx:b}=loe({scrollbarSize:a,offsetScrollbars:f,scrollbarHovered:v,hidden:u==="never"},{name:"ScrollArea",classNames:o,styles:s,unstyled:p});return x(ioe,{type:u==="never"?"always":u,scrollHideDelay:l,dir:c||y.dir,ref:t,asChild:!0,children:he(We,{...SV({className:b(w.root,i)},g),children:[x(ooe,{className:w.viewport,ref:d,onScroll:typeof h=="function"?({currentTarget:$})=>h({x:$.scrollLeft,y:$.scrollTop}):void 0,children:r}),x(PN,{orientation:"horizontal",className:w.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:x(CN,{className:w.thumb})}),x(PN,{orientation:"vertical",className:w.scrollbar,forceMount:!0,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:x(CN,{className:w.thumb})}),x(soe,{className:w.corner})]})})}),xV=S.forwardRef((e,t)=>{const n=Ke("ScrollAreaAutosize",EV,e),{maxHeight:r,children:i,classNames:o,styles:s,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:g}=n,v=$V(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return Fi.createElement(We,doe(SV({},v),{ref:t,sx:[{display:"flex",maxHeight:r},...ql(g)]}),Fi.createElement(We,{sx:{display:"flex",flexDirection:"column",flex:1}},Fi.createElement(Yw,{classNames:o,styles:s,scrollHideDelay:l,scrollbarSize:a,type:u,dir:c,offsetScrollbars:f,viewportRef:d,onScrollPositionChange:h,unstyled:p},i)))});xV.displayName="@mantine/core/ScrollAreaAutosize";Yw.displayName="@mantine/core/ScrollArea";Yw.Autosize=xV;const OV=Yw;var hoe=Object.defineProperty,poe=Object.defineProperties,moe=Object.getOwnPropertyDescriptors,iv=Object.getOwnPropertySymbols,PV=Object.prototype.hasOwnProperty,CV=Object.prototype.propertyIsEnumerable,kN=(e,t,n)=>t in e?hoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TN=(e,t)=>{for(var n in t||(t={}))PV.call(t,n)&&kN(e,n,t[n]);if(iv)for(var n of iv(t))CV.call(t,n)&&kN(e,n,t[n]);return e},goe=(e,t)=>poe(e,moe(t)),yoe=(e,t)=>{var n={};for(var r in e)PV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iv)for(var r of iv(e))t.indexOf(r)<0&&CV.call(e,r)&&(n[r]=e[r]);return n};const Qw=S.forwardRef((e,t)=>{var n=e,{style:r}=n,i=yoe(n,["style"]);return x(OV,{...goe(TN({},i),{style:TN({width:"100%"},r),viewportRef:t}),children:i.children})});Qw.displayName="@mantine/core/SelectScrollArea";var voe=qe(()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}));const woe=voe;function _s(e){return e.split("-")[0]}function bp(e){return e.split("-")[1]}function mu(e){return["top","bottom"].includes(_s(e))?"x":"y"}function cP(e){return e==="y"?"height":"width"}function AN(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=mu(t),l=cP(a),u=r[l]/2-i[l]/2,c=a==="x";let f;switch(_s(t)){case"top":f={x:o,y:r.y-i.height};break;case"bottom":f={x:o,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-i.width,y:s};break;default:f={x:r.x,y:r.y}}switch(bp(t)){case"start":f[a]-=u*(n&&c?-1:1);break;case"end":f[a]+=u*(n&&c?-1:1)}return f}const _oe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=AN(u,r,l),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:v,fn:m}=a[g],{x:y,y:w,data:b,reset:$}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=y??c,f=w??f,h={...h,[v]:{...h[v],...b}},$&&p<=50&&(p++,typeof $=="object"&&($.placement&&(d=$.placement),$.rects&&(u=$.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:c,y:f}=AN(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};function fP(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Ph(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function dP(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=fP(h),g=a[d?f==="floating"?"reference":"floating":f],v=Ph(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),m=Ph(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...s.floating,x:r,y:i}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:l}):s[f]);return{top:v.top-m.top+p.top,bottom:m.bottom-v.bottom+p.bottom,left:v.left-m.left+p.left,right:m.right-v.right+p.right}}const IV=Math.min,Ws=Math.max;function Y$(e,t,n){return Ws(e,IV(t,n))}const NN=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:o,placement:s,rects:a,platform:l}=t;if(n==null)return{};const u=fP(r),c={x:i,y:o},f=mu(s),d=bp(s),h=cP(f),p=await l.getDimensions(n),g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",m=a.reference[h]+a.reference[f]-c[f]-a.floating[h],y=c[f]-a.reference[f],w=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let b=w?f==="y"?w.clientHeight||0:w.clientWidth||0:0;b===0&&(b=a.floating[h]);const $=m/2-y/2,_=u[g],E=b-p[h]-u[v],C=b/2-p[h]/2+$,N=Y$(_,C,E),L=(d==="start"?u[g]:u[v])>0&&C!==N&&a.reference[h]<=a.floating[h];return{[f]:c[f]-(L?C<_?_-C:E-C:0),data:{[f]:N,centerOffset:C-N}}}}),boe={left:"right",right:"left",bottom:"top",top:"bottom"};function ov(e){return e.replace(/left|right|bottom|top/g,t=>boe[t])}function Soe(e,t,n){n===void 0&&(n=!1);const r=bp(e),i=mu(e),o=cP(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=ov(s)),{main:s,cross:ov(s)}}const $oe={start:"end",end:"start"};function RN(e){return e.replace(/start|end/g,t=>$oe[t])}const Eoe=["top","right","bottom","left"];Eoe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const kV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:h=!0,...p}=e,g=_s(r),v=f||(g===s||!h?[ov(s)]:function(C){const N=ov(C);return[RN(C),N,RN(N)]}(s)),m=[s,...v],y=await dP(t,p),w=[];let b=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&w.push(y[g]),c){const{main:C,cross:N}=Soe(r,o,await(a.isRTL==null?void 0:a.isRTL(l.floating)));w.push(y[C],y[N])}if(b=[...b,{placement:r,overflows:w}],!w.every(C=>C<=0)){var $,_;const C=(($=(_=i.flip)==null?void 0:_.index)!=null?$:0)+1,N=m[C];if(N)return{data:{index:C,overflows:b},reset:{placement:N}};let L="bottom";switch(d){case"bestFit":{var E;const M=(E=b.map(B=>[B,B.overflows.filter(F=>F>0).reduce((F,R)=>F+R,0)]).sort((B,F)=>B[1]-F[1])[0])==null?void 0:E[0].placement;M&&(L=M);break}case"initialPlacement":L=s}if(r!==L)return{reset:{placement:L}}}return{}}}},TV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(o,s){const{placement:a,platform:l,elements:u}=o,c=await(l.isRTL==null?void 0:l.isRTL(u.floating)),f=_s(a),d=bp(a),h=mu(a)==="x",p=["left","top"].includes(f)?-1:1,g=c&&h?-1:1,v=typeof s=="function"?s(o):s;let{mainAxis:m,crossAxis:y,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return d&&typeof w=="number"&&(y=d==="end"?-1*w:w),h?{x:y*g,y:m*p}:{x:m*p,y:y*g}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function AV(e){return e==="x"?"y":"x"}const hP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:m,y}=v;return{x:m,y}}},...l}=e,u={x:n,y:r},c=await dP(t,l),f=mu(_s(i)),d=AV(f);let h=u[f],p=u[d];if(o){const v=f==="y"?"bottom":"right";h=Y$(h+c[f==="y"?"top":"left"],h,h-c[v])}if(s){const v=d==="y"?"bottom":"right";p=Y$(p+c[d==="y"?"top":"left"],p,p-c[v])}const g=a.fn({...t,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},xoe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=e,c={x:n,y:r},f=mu(i),d=AV(f);let h=c[f],p=c[d];const g=typeof a=="function"?a(t):a,v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const $=f==="y"?"height":"width",_=o.reference[f]-o.floating[$]+v.mainAxis,E=o.reference[f]+o.reference[$]-v.mainAxis;h<_?h=_:h>E&&(h=E)}if(u){var m,y,w,b;const $=f==="y"?"width":"height",_=["top","left"].includes(_s(i)),E=o.reference[d]-o.floating[$]+(_&&(m=(y=s.offset)==null?void 0:y[d])!=null?m:0)+(_?0:v.crossAxis),C=o.reference[d]+o.reference[$]+(_?0:(w=(b=s.offset)==null?void 0:b[d])!=null?w:0)-(_?v.crossAxis:0);p<E?p=E:p>C&&(p=C)}return{[f]:h,[d]:p}}}},Ooe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=e,l=await dP(t,a),u=_s(n),c=bp(n);let f,d;u==="top"||u==="bottom"?(f=u,d=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(d=u,f=c==="end"?"top":"bottom");const h=Ws(l.left,0),p=Ws(l.right,0),g=Ws(l.top,0),v=Ws(l.bottom,0),m={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(g!==0||v!==0?g+v:Ws(l.top,l.bottom)):l[f]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(h!==0||p!==0?h+p:Ws(l.left,l.right)):l[d])};await s({...t,...m});const y=await i.getDimensions(o.floating);return r.floating.width!==y.width||r.floating.height!==y.height?{reset:{rects:!0}}:{}}}},NV=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:o,platform:s,strategy:a}=t,{padding:l=2,x:u,y:c}=e,f=Ph(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),strategy:a}):o.reference),d=(n=await(s.getClientRects==null?void 0:s.getClientRects(i.reference)))!=null?n:[],h=fP(l),p=await s.getElementRects({reference:{getBoundingClientRect:function(){var g;if(d.length===2&&d[0].left>d[1].right&&u!=null&&c!=null)return(g=d.find(v=>u>v.left-h.left&&u<v.right+h.right&&c>v.top-h.top&&c<v.bottom+h.bottom))!=null?g:f;if(d.length>=2){if(mu(r)==="x"){const _=d[0],E=d[d.length-1],C=_s(r)==="top",N=_.top,L=E.bottom,M=C?_.left:E.left,B=C?_.right:E.right;return{top:N,bottom:L,left:M,right:B,width:B-M,height:L-N,x:M,y:N}}const v=_s(r)==="left",m=Ws(...d.map(_=>_.right)),y=IV(...d.map(_=>_.left)),w=d.filter(_=>v?_.left===y:_.right===m),b=w[0].top,$=w[w.length-1].bottom;return{top:b,bottom:$,left:y,right:m,width:m-y,height:$-b,x:y,y:b}}return f}},floating:i.floating,strategy:a});return o.reference.x!==p.reference.x||o.reference.y!==p.reference.y||o.reference.width!==p.reference.width||o.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};function RV(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function As(e){if(e==null)return window;if(!RV(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Pa(e){return As(e).getComputedStyle(e)}function Ca(e){return RV(e)?"":e?(e.nodeName||"").toLowerCase():""}function DV(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function bs(e){return e instanceof As(e).HTMLElement}function cs(e){return e instanceof As(e).Element}function DN(e){return typeof ShadowRoot>"u"?!1:e instanceof As(e).ShadowRoot||e instanceof ShadowRoot}function Xw(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Pa(e);return/auto|scroll|overlay|hidden/.test(t+r+n)&&!["inline","contents"].includes(i)}function Poe(e){return["table","td","th"].includes(Ca(e))}function Q$(e){const t=/firefox/i.test(DV()),n=Pa(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(i=>n.willChange.includes(i))||["paint","layout","strict","content"].some(i=>{const o=n.contain;return o!=null&&o.includes(i)})}function MV(){return!/^((?!chrome|android).)*safari/i.test(DV())}function pP(e){return["html","body","#document"].includes(Ca(e))}const MN=Math.min,jd=Math.max,sv=Math.round;function fs(e,t,n){var r,i,o,s;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let l=1,u=1;t&&bs(e)&&(l=e.offsetWidth>0&&sv(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&sv(a.height)/e.offsetHeight||1);const c=cs(e)?As(e):window,f=!MV()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/l,h=(a.top+(f&&(o=(s=c.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/u,p=a.width/l,g=a.height/u;return{width:p,height:g,top:h,right:d+p,bottom:h+g,left:d,x:d,y:h}}function ya(e){return(t=e,(t instanceof As(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Jw(e){return cs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function LV(e){return fs(ya(e)).left+Jw(e).scrollLeft}function Coe(e,t,n){const r=bs(t),i=ya(t),o=fs(e,r&&function(l){const u=fs(l);return sv(u.width)!==l.offsetWidth||sv(u.height)!==l.offsetHeight}(t),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Ca(t)!=="body"||Xw(i))&&(s=Jw(t)),bs(t)){const l=fs(t,!0);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}else i&&(a.x=LV(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function av(e){if(Ca(e)==="html")return e;const t=e.assignedSlot||e.parentNode||(DN(e)?e.host:null)||ya(e);return DN(t)?t.host:t}function LN(e){return bs(e)&&Pa(e).position!=="fixed"?e.offsetParent:null}function jN(e){const t=As(e);let n=LN(e);for(;n&&Poe(n)&&Pa(n).position==="static";)n=LN(n);return n&&(Ca(n)==="html"||Ca(n)==="body"&&Pa(n).position==="static"&&!Q$(n))?t:n||function(r){let i=av(r);for(;bs(i)&&!pP(i);){if(Q$(i))return i;i=av(i)}return null}(e)||t}function zN(e){if(bs(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=fs(e);return{width:t.width,height:t.height}}function jV(e){const t=av(e);return pP(t)?e.ownerDocument.body:bs(t)&&Xw(t)?t:jV(t)}function ds(e,t){var n;t===void 0&&(t=[]);const r=jV(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=As(r),s=i?[o].concat(o.visualViewport||[],Xw(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(ds(s))}function FN(e,t,n){return t==="viewport"?Ph(function(r,i){const o=As(r),s=ya(r),a=o.visualViewport;let l=s.clientWidth,u=s.clientHeight,c=0,f=0;if(a){l=a.width,u=a.height;const d=MV();(d||!d&&i==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:l,height:u,x:c,y:f}}(e,n)):cs(t)?function(r,i){const o=fs(r,!1,i==="fixed"),s=o.top+r.clientTop,a=o.left+r.clientLeft;return{top:s,left:a,x:a,y:s,right:a+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):Ph(function(r){var i;const o=ya(r),s=Jw(r),a=(i=r.ownerDocument)==null?void 0:i.body,l=jd(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),u=jd(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-s.scrollLeft+LV(r);const f=-s.scrollTop;return Pa(a||o).direction==="rtl"&&(c+=jd(o.clientWidth,a?a.clientWidth:0)-l),{width:l,height:u,x:c,y:f}}(ya(e)))}const Ioe={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=n==="clippingAncestors"?function(u){let c=ds(u).filter(h=>cs(h)&&Ca(h)!=="body"),f=u,d=null;for(;cs(f)&&!pP(f);){const h=Pa(f);h.position==="static"&&d&&["absolute","fixed"].includes(d.position)&&!Q$(f)?c=c.filter(p=>p!==f):d=h,f=av(f)}return c}(t):[].concat(n),s=[...o,r],a=s[0],l=s.reduce((u,c)=>{const f=FN(t,c,i);return u.top=jd(f.top,u.top),u.right=MN(f.right,u.right),u.bottom=MN(f.bottom,u.bottom),u.left=jd(f.left,u.left),u},FN(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=bs(n),o=ya(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Ca(n)!=="body"||Xw(o))&&(s=Jw(n)),bs(n))){const l=fs(n,!0);a.x=l.x+n.clientLeft,a.y=l.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+a.x,y:t.y-s.scrollTop+a.y}},isElement:cs,getDimensions:zN,getOffsetParent:jN,getDocumentElement:ya,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:Coe(t,jN(n),r),floating:{...zN(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Pa(e).direction==="rtl"};function koe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,l=i&&!a,u=l||o?[...cs(e)?ds(e):e.contextElement?ds(e.contextElement):[],...ds(t)]:[];u.forEach(h=>{l&&h.addEventListener("scroll",n,{passive:!0}),o&&h.addEventListener("resize",n)});let c,f=null;if(s){let h=!0;f=new ResizeObserver(()=>{h||n(),h=!1}),cs(e)&&!a&&f.observe(e),cs(e)||!e.contextElement||a||f.observe(e.contextElement),f.observe(t)}let d=a?fs(e):null;return a&&function h(){const p=fs(e);!d||p.x===d.x&&p.y===d.y&&p.width===d.width&&p.height===d.height||n(),d=p,c=requestAnimationFrame(h)}(),n(),()=>{var h;u.forEach(p=>{l&&p.removeEventListener("scroll",n),o&&p.removeEventListener("resize",n)}),(h=f)==null||h.disconnect(),f=null,a&&cancelAnimationFrame(c)}}const Toe=(e,t,n)=>_oe(e,t,{platform:Ioe,...n});var X$=typeof document<"u"?S.useLayoutEffect:S.useEffect;function lv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!lv(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!lv(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Aoe(e){const t=S.useRef(e);return X$(()=>{t.current=e}),t}function Noe(e){let{middleware:t=[],placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const[o,s]=S.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[a,l]=S.useState(t);lv(a,t)||l(t);const u=S.useRef(null),c=S.useRef(null),f=S.useRef(null),d=S.useRef(o),h=Aoe(i),p=S.useCallback(()=>{!u.current||!c.current||Toe(u.current,c.current,{middleware:a,placement:n,strategy:r}).then(b=>{g.current&&!lv(d.current,b)&&(d.current=b,hp.flushSync(()=>{s(b)}))})},[a,n,r]);X$(()=>{g.current&&p()},[p]);const g=S.useRef(!1);X$(()=>(g.current=!0,()=>{g.current=!1}),[]);const v=S.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),u.current&&c.current)if(h.current){const b=h.current(u.current,c.current,p);f.current=b}else p()},[p,h]),m=S.useCallback(b=>{u.current=b,v()},[v]),y=S.useCallback(b=>{c.current=b,v()},[v]),w=S.useMemo(()=>({reference:u,floating:c}),[]);return S.useMemo(()=>({...o,update:p,refs:w,reference:m,floating:y}),[o,p,w,m,y])}const zV=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?NN({element:t.current,padding:n}).fn(i):{}:t?NN({element:t,padding:n}).fn(i):{}}}};var Nc=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Roe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}let w1=!1,Doe=0;const VN=()=>"floating-ui-"+Doe++;function Moe(){const[e,t]=S.useState(()=>w1?VN():void 0);return Nc(()=>{e==null&&t(VN())},[]),S.useEffect(()=>{w1||(w1=!0)},[]),e}const BN=zl["useId".toString()],UN=BN??Moe,Loe=S.createContext(null),joe=S.createContext(null),FV=()=>{var e,t;return(e=(t=S.useContext(Loe))==null?void 0:t.id)!=null?e:null},mP=()=>S.useContext(joe);function Qs(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function VV(e){var t;return(t=Qs(e).defaultView)!=null?t:window}function El(e){return e?e instanceof VV(e).Element:!1}function zoe(e){return e?e instanceof VV(e).HTMLElement:!1}const HN=zl["useInsertionEffect".toString()];function Foe(e){const t=S.useRef(()=>{});return HN?HN(()=>{t.current=e}):t.current=e,S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function gP(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:r,placement:i,middleware:o,strategy:s,nodeId:a}=e===void 0?{}:e;const[l,u]=S.useState(null),c=mP(),f=S.useRef(null),d=S.useRef({}),h=S.useState(()=>Roe())[0],p=Noe({placement:i,middleware:o,strategy:s,whileElementsMounted:r}),g=Foe(n),v=S.useMemo(()=>({...p.refs,domReference:f}),[p.refs]),m=S.useMemo(()=>({...p,refs:v,dataRef:d,nodeId:a,events:h,open:t,onOpenChange:g,_:{domReference:l}}),[p,a,h,t,g,v,l]);Nc(()=>{const b=c==null?void 0:c.nodesRef.current.find($=>$.id===a);b&&(b.context=m)});const{reference:y}=p,w=S.useCallback(b=>{(El(b)||b===null)&&(m.refs.domReference.current=b,u(b)),y(b)},[y,m.refs]);return S.useMemo(()=>({...p,context:m,refs:v,reference:w}),[p,v,m,w])}function _1(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var c,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];(c=r.get(a))==null||c.forEach(p=>p(...d))}}}else i[a]=l}),i),{})}}const Voe=function(e){e===void 0&&(e=[]);const t=e,n=S.useCallback(o=>_1(o,e,"reference"),t),r=S.useCallback(o=>_1(o,e,"floating"),t),i=S.useCallback(o=>_1(o,e,"item"),t);return S.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])};function b1(e,t){var n;let r=(n=e.filter(s=>{var a;return s.parentId===t&&((a=s.context)==null?void 0:a.open)}))!=null?n:[],i=r;for(;i.length;){var o;i=(o=e.filter(s=>{var a;return(a=i)==null?void 0:a.some(l=>{var u;return s.parentId===l.id&&((u=s.context)==null?void 0:u.open)})}))!=null?o:[],r=r.concat(i)}return r}function Boe(e){return"composedPath"in e?e.composedPath()[0]:e.target}function qN(e){const t=S.useRef(e);return Nc(()=>{t.current=e}),t}function Uoe(e){const t=S.useRef();return Nc(()=>{t.current=e},[e]),t.current}function jg(e,t,n){return n&&n!=="mouse"?0:typeof e=="number"?e:e==null?void 0:e[t]}const Hoe=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:o=!1,restMs:s=0,move:a=!0}=t===void 0?{}:t;const{open:l,onOpenChange:u,dataRef:c,events:f,refs:d,_:h}=e,p=mP(),g=FV(),v=qN(i),m=qN(r),y=Uoe(l),w=S.useRef(),b=S.useRef(),$=S.useRef(),_=S.useRef(),E=S.useRef(!0),C=S.useRef(!1),N=S.useCallback(()=>{var F;const R=(F=c.current.openEvent)==null?void 0:F.type;return(R==null?void 0:R.includes("mouse"))&&R!=="mousedown"},[c]);S.useEffect(()=>{if(!n)return;function F(){clearTimeout(b.current),clearTimeout(_.current),E.current=!0}return f.on("dismiss",F),()=>{f.off("dismiss",F)}},[n,f,d]),S.useEffect(()=>{if(!n||!v.current)return;function F(){N()&&u(!1)}const R=Qs(d.floating.current).documentElement;return R.addEventListener("mouseleave",F),()=>{R.removeEventListener("mouseleave",F)}},[d,u,n,v,c,N]);const L=S.useCallback(function(F){F===void 0&&(F=!0);const R=jg(m.current,"close",w.current);R&&!$.current?(clearTimeout(b.current),b.current=setTimeout(()=>u(!1),R)):F&&(clearTimeout(b.current),u(!1))},[m,u]),M=S.useCallback(()=>{$.current&&(Qs(d.floating.current).removeEventListener("pointermove",$.current),$.current=void 0)},[d]),B=S.useCallback(()=>{Qs(d.floating.current).body.style.pointerEvents="",C.current=!1},[d]);return S.useEffect(()=>{if(!n)return;function F(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function R(Q){if(clearTimeout(b.current),E.current=!1,o&&w.current!=="mouse"||s>0&&jg(m.current,"open")===0)return;c.current.openEvent=Q;const q=jg(m.current,"open",w.current);q?b.current=setTimeout(()=>{u(!0)},q):u(!0)}function J(Q){if(F())return;const q=Qs(d.floating.current);if(clearTimeout(_.current),v.current){clearTimeout(b.current),$.current&&q.removeEventListener("pointermove",$.current),$.current=v.current({...e,tree:p,x:Q.clientX,y:Q.clientY,onClose(){B(),M(),L()}}),q.addEventListener("pointermove",$.current);return}L()}function re(Q){F()||v.current==null||v.current({...e,tree:p,x:Q.clientX,y:Q.clientY,leave:!0,onClose(){B(),M(),L()}})(Q)}const ie=d.floating.current,G=d.domReference.current;if(El(G))return l&&G.addEventListener("mouseleave",re),ie==null||ie.addEventListener("mouseleave",re),a&&G.addEventListener("mousemove",R,{once:!0}),G.addEventListener("mouseenter",R),G.addEventListener("mouseleave",J),()=>{l&&G.removeEventListener("mouseleave",re),ie==null||ie.removeEventListener("mouseleave",re),a&&G.removeEventListener("mousemove",R),G.removeEventListener("mouseenter",R),G.removeEventListener("mouseleave",J)}},[h.domReference,n,e,o,s,a,L,M,B,u,l,p,d,m,v,c]),Nc(()=>{if(n&&l&&v.current&&v.current.__options.blockPointerEvents&&N()){Qs(d.floating.current).body.style.pointerEvents="none",C.current=!0;const J=d.domReference.current,re=d.floating.current;if(El(J)&&re){var F,R;const ie=p==null||(F=p.nodesRef.current.find(G=>G.id===g))==null||(R=F.context)==null?void 0:R.refs.floating.current;return ie&&(ie.style.pointerEvents=""),J.style.pointerEvents="auto",re.style.pointerEvents="auto",()=>{J.style.pointerEvents="",re.style.pointerEvents=""}}}},[n,l,g,d,p,v,c,N]),Nc(()=>{y&&!l&&(w.current=void 0,M(),B())}),S.useEffect(()=>()=>{M(),clearTimeout(b.current),clearTimeout(_.current),C.current&&B()},[n,M,B]),S.useMemo(()=>{if(!n)return{};function F(R){w.current=R.pointerType}return{reference:{onPointerDown:F,onPointerEnter:F,onMouseMove(){l||s===0||(clearTimeout(_.current),_.current=setTimeout(()=>{E.current||u(!0)},s))}},floating:{onMouseEnter(){clearTimeout(b.current)},onMouseLeave(){L(!1)}}}},[n,s,l,u,L])},BV=S.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),UV=()=>S.useContext(BV),qoe=e=>{let{children:t,delay:n}=e;const[r,i]=S.useState({delay:n,initialDelay:n,currentId:null}),o=S.useCallback(s=>{i(a=>({...a,currentId:s}))},[]);return x(BV.Provider,{value:S.useMemo(()=>({...r,setState:i,setCurrentId:o}),[r,i,o]),children:t})},Woe=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:i}=t;const{currentId:o,initialDelay:s,setState:a}=UV();S.useEffect(()=>{o&&(a(l=>({...l,delay:{open:1,close:jg(s,"close")}})),o!==i&&r(!1))},[i,r,a,o,s]),S.useEffect(()=>{!n&&o===i&&(r(!1),a(l=>({...l,delay:s,currentId:null})))},[n,a,o,i,r,s])},Koe=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const o=UN(),s=UN();return S.useMemo(()=>{const a={id:o,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?o:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...a,...i==="menu"&&{"aria-labelledby":s}}}:{}},[r,i,n,o,s])};function S1(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Goe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Yoe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Qoe=function(e,t){let{open:n,onOpenChange:r,refs:i,events:o,nodeId:s}=e,{enabled:a=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:p=!0}=t===void 0?{}:t;const g=mP(),v=FV()!=null,m=S.useRef(!1);return S.useEffect(()=>{if(!n||!a)return;function y(E){if(E.key==="Escape"){if(!p&&g&&b1(g.nodesRef.current,s).length>0)return;o.emit("dismiss",{preventScroll:!1}),r(!1)}}function w(E){const C=m.current;if(m.current=!1,C)return;const N=Boe(E);if(El(N)&&i.floating.current){var L;const B=(L=i.floating.current.ownerDocument.defaultView)!=null?L:window,F=N.scrollWidth>N.clientWidth,R=N.scrollHeight>N.clientHeight;let J=R&&E.offsetX>N.clientWidth;if(R&&B.getComputedStyle(N).direction==="rtl"&&(J=E.offsetX<=N.offsetWidth-N.clientWidth),J||F&&E.offsetY>N.clientHeight)return}const M=g&&b1(g.nodesRef.current,s).some(B=>{var F;return S1(E,(F=B.context)==null?void 0:F.refs.floating.current)});S1(E,i.floating.current)||S1(E,i.domReference.current)||M||!p&&g&&b1(g.nodesRef.current,s).length>0||(o.emit("dismiss",v?{preventScroll:!0}:!1),r(!1))}function b(){r(!1)}const $=Qs(i.floating.current);l&&$.addEventListener("keydown",y),u&&$.addEventListener(c,w);let _=[];return h&&(El(i.domReference.current)&&(_=ds(i.domReference.current)),El(i.floating.current)&&(_=_.concat(ds(i.floating.current))),!El(i.reference.current)&&i.reference.current&&i.reference.current.contextElement&&(_=_.concat(ds(i.reference.current.contextElement)))),_=_.filter(E=>{var C;return E!==((C=$.defaultView)==null?void 0:C.visualViewport)}),_.forEach(E=>{E.addEventListener("scroll",b,{passive:!0})}),()=>{l&&$.removeEventListener("keydown",y),u&&$.removeEventListener(c,w),_.forEach(E=>{E.removeEventListener("scroll",b)})}},[l,u,c,o,g,s,n,r,h,a,p,i,v]),S.useEffect(()=>{m.current=!1},[u,c]),S.useMemo(()=>a?{reference:{[Goe[d]]:()=>{f&&(o.emit("dismiss"),r(!1))}},floating:{[Yoe[c]]:()=>{m.current=!0}}}:{},[a,o,f,c,d,r])},Xoe=function(e,t){let{open:n,onOpenChange:r,dataRef:i,refs:o,events:s}=e,{enabled:a=!0,keyboardOnly:l=!0}=t===void 0?{}:t;const u=S.useRef(""),c=S.useRef(!1),f=S.useRef();return S.useEffect(()=>{var d;if(!a)return;const p=(d=Qs(o.floating.current).defaultView)!=null?d:window;function g(){!n&&zoe(o.domReference.current)&&o.domReference.current.blur()}return p.addEventListener("blur",g),()=>{p.removeEventListener("blur",g)}},[o,n,a]),S.useEffect(()=>{if(!a)return;function d(){c.current=!0}return s.on("dismiss",d),()=>{s.off("dismiss",d)}},[s,a]),S.useEffect(()=>()=>{clearTimeout(f.current)},[]),S.useMemo(()=>a?{reference:{onPointerDown(d){let{pointerType:h}=d;u.current=h,c.current=!!(h&&l)},onPointerLeave(){c.current=!1},onFocus(d){var h,p,g;c.current||d.type==="focus"&&((h=i.current.openEvent)==null?void 0:h.type)==="mousedown"&&(p=o.domReference.current)!=null&&p.contains((g=i.current.openEvent)==null?void 0:g.target)||(i.current.openEvent=d.nativeEvent,r(!0))},onBlur(d){const h=d.relatedTarget;f.current=setTimeout(()=>{var p,g;(p=o.floating.current)!=null&&p.contains(h)||(g=o.domReference.current)!=null&&g.contains(h)||(c.current=!1,r(!1))})}}}:{},[a,l,o,i,r])};function HV({opened:e,floating:t,positionDependencies:n}){const[r,i]=S.useState(0);S.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return koe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference,t.refs.floating,e,r]),Bi(()=>{t.update()},n),Bi(()=>{i(o=>o+1)},[e])}function Joe(e){const t=[TV(e.offset)];return e.middlewares.shift&&t.push(hP({limiter:xoe()})),e.middlewares.flip&&t.push(kV()),e.middlewares.inline&&t.push(NV()),t.push(zV({element:e.arrowRef})),t}function Zoe(e){const[t,n]=Oa({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var s;(s=e.onClose)==null||s.call(e),n(!1)},i=()=>{var s,a;t?((s=e.onClose)==null||s.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},o=gP({placement:e.position,middleware:[...Joe(e),...e.width==="target"?[Ooe({apply({rects:s}){var a,l;Object.assign((l=(a=o.refs.floating.current)==null?void 0:a.style)!=null?l:{},{width:`${s.reference.width}px`})}})]:[]]});return HV({opened:e.opened,positionDependencies:e.positionDependencies,floating:o}),Bi(()=>{var s;(s=e.onPositionChange)==null||s.call(e,o.placement)},[o.placement]),{floating:o,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const qV={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"},[ese,WV]=YJ(qV.context);var tse=Object.defineProperty,nse=Object.defineProperties,rse=Object.getOwnPropertyDescriptors,uv=Object.getOwnPropertySymbols,KV=Object.prototype.hasOwnProperty,GV=Object.prototype.propertyIsEnumerable,WN=(e,t,n)=>t in e?tse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jm=(e,t)=>{for(var n in t||(t={}))KV.call(t,n)&&WN(e,n,t[n]);if(uv)for(var n of uv(t))GV.call(t,n)&&WN(e,n,t[n]);return e},ise=(e,t)=>nse(e,rse(t)),ose=(e,t)=>{var n={};for(var r in e)KV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&uv)for(var r of uv(e))t.indexOf(r)<0&&GV.call(e,r)&&(n[r]=e[r]);return n};const YV=S.forwardRef((e,t)=>{var n=e,{children:r,refProp:i="ref",popupType:o="dialog"}=n,s=ose(n,["children","refProp","popupType"]);if(!Aw(r))throw new Error(qV.children);const a=s,l=WV(),u=ks(l.reference,r.ref,t),c=l.withRoles?{"aria-haspopup":o,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return S.cloneElement(r,jm(ise(jm(jm(jm({},a),c),l.targetProps),{className:P3(l.targetProps.className,a.className,r.props.className),[i]:u}),l.controlled?null:{onClick:l.onToggle}))});YV.displayName="@mantine/core/PopoverTarget";var sse=qe((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const ase=sse;var lse=Object.defineProperty,KN=Object.getOwnPropertySymbols,use=Object.prototype.hasOwnProperty,cse=Object.prototype.propertyIsEnumerable,GN=(e,t,n)=>t in e?lse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$u=(e,t)=>{for(var n in t||(t={}))use.call(t,n)&&GN(e,n,t[n]);if(KN)for(var n of KN(t))cse.call(t,n)&&GN(e,n,t[n]);return e};const YN={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function QV({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in Am?$u($u($u({transitionProperty:Am[e].transitionProperty},i),Am[e].common),Am[e][YN[t]]):null:$u($u($u({transitionProperty:e.transitionProperty},i),e.common),e[YN[t]])}function XV({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a}){const l=ui(),u=l4(),c=l.respectReducedMotion?u:!1,[f,d]=S.useState(r?"entered":"exited");let h=c?0:e;const p=S.useRef(-1),g=v=>{const m=v?i:o,y=v?s:a;if(d(v?"pre-entering":"pre-exiting"),window.clearTimeout(p.current),h=c?0:v?e:t,h===0)typeof m=="function"&&m(),typeof y=="function"&&y(),d(v?"entered":"exited");else{const w=window.setTimeout(()=>{typeof m=="function"&&m(),d(v?"entering":"exiting")},10);p.current=window.setTimeout(()=>{window.clearTimeout(w),typeof y=="function"&&y(),d(v?"entered":"exited")},h)}};return Bi(()=>{g(r)},[r]),S.useEffect(()=>()=>window.clearTimeout(p.current),[]),{transitionDuration:h,transitionStatus:f,transitionTimingFunction:n||l.transitionTimingFunction}}function Zw({transition:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:o,onExit:s,onEntered:a,onEnter:l,onExited:u}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=XV({mounted:r,exitDuration:n,duration:t,timingFunction:o,onExit:s,onEntered:a,onEnter:l,onExited:u});return c===0?r?x(tn,{children:i({})}):null:f==="exited"?null:x(tn,{children:i(QV({transition:e,duration:c,state:f,timingFunction:d}))})}Zw.displayName="@mantine/core/Transition";function JV({children:e,active:t=!0,refProp:n="ref"}){const r=s4(t),i=ks(r,e==null?void 0:e.ref);return Aw(e)?S.cloneElement(e,{[n]:i}):e}JV.displayName="@mantine/core/FocusTrap";var fse=Object.defineProperty,dse=Object.defineProperties,hse=Object.getOwnPropertyDescriptors,QN=Object.getOwnPropertySymbols,pse=Object.prototype.hasOwnProperty,mse=Object.prototype.propertyIsEnumerable,XN=(e,t,n)=>t in e?fse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ls=(e,t)=>{for(var n in t||(t={}))pse.call(t,n)&&XN(e,n,t[n]);if(QN)for(var n of QN(t))mse.call(t,n)&&XN(e,n,t[n]);return e},zm=(e,t)=>dse(e,hse(t));function JN(e,t,n){return e==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function ZN(e,t,n,r){return e==="center"?{[r==="ltr"?"left":"right"]:t}:e==="end"?{[r==="ltr"?"right":"left"]:n}:e==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const gse={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function yse({position:e,withBorder:t,arrowSize:n,arrowOffset:r,arrowRadius:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=e.split("-"),c={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[gse[l]]:i},f=t?-n/2-1:-n/2;return l==="left"?zm(Ls(Ls({},c),JN(u,s,r)),{right:f,borderLeft:0,borderBottom:0}):l==="right"?zm(Ls(Ls({},c),JN(u,s,r)),{left:f,borderRight:0,borderTop:0}):l==="top"?zm(Ls(Ls({},c),ZN(u,o,r,a)),{bottom:f,borderTop:0,[a==="ltr"?"borderLeft":"borderRight"]:0}):l==="bottom"?zm(Ls(Ls({},c),ZN(u,o,r,a)),{top:f,borderBottom:0,[a==="ltr"?"borderRight":"borderLeft"]:0}):{}}var vse=Object.defineProperty,wse=Object.defineProperties,_se=Object.getOwnPropertyDescriptors,cv=Object.getOwnPropertySymbols,ZV=Object.prototype.hasOwnProperty,e6=Object.prototype.propertyIsEnumerable,eR=(e,t,n)=>t in e?vse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bse=(e,t)=>{for(var n in t||(t={}))ZV.call(t,n)&&eR(e,n,t[n]);if(cv)for(var n of cv(t))e6.call(t,n)&&eR(e,n,t[n]);return e},Sse=(e,t)=>wse(e,_se(t)),$se=(e,t)=>{var n={};for(var r in e)ZV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cv)for(var r of cv(e))t.indexOf(r)<0&&e6.call(e,r)&&(n[r]=e[r]);return n};const yP=S.forwardRef((e,t)=>{var n=e,{withBorder:r,position:i,arrowSize:o,arrowOffset:s,arrowRadius:a,visible:l,arrowX:u,arrowY:c}=n,f=$se(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","visible","arrowX","arrowY"]);const d=ui();return l?x("div",{...Sse(bse({},f),{ref:t,style:yse({withBorder:r,position:i,arrowSize:o,arrowOffset:s,arrowRadius:a,dir:d.dir,arrowX:u,arrowY:c})})}):null});yP.displayName="@mantine/core/FloatingArrow";var Ese=Object.defineProperty,xse=Object.defineProperties,Ose=Object.getOwnPropertyDescriptors,fv=Object.getOwnPropertySymbols,t6=Object.prototype.hasOwnProperty,n6=Object.prototype.propertyIsEnumerable,tR=(e,t,n)=>t in e?Ese(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fm=(e,t)=>{for(var n in t||(t={}))t6.call(t,n)&&tR(e,n,t[n]);if(fv)for(var n of fv(t))n6.call(t,n)&&tR(e,n,t[n]);return e},nR=(e,t)=>xse(e,Ose(t)),Pse=(e,t)=>{var n={};for(var r in e)t6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fv)for(var r of fv(e))t.indexOf(r)<0&&n6.call(e,r)&&(n[r]=e[r]);return n};function r6(e){var t=e,{style:n,className:r,children:i,onKeyDownCapture:o}=t,s=Pse(t,["style","className","children","onKeyDownCapture"]);const{classNames:a,styles:l,unstyled:u,staticSelector:c}=J3(),f=WV(),{classes:d,cx:h}=ase({radius:f.radius,shadow:f.shadow},{name:c,classNames:a,styles:l,unstyled:u}),p=n4({opened:f.opened,shouldReturnFocus:f.returnFocus}),g=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog"}:{};return f.disabled?null:x(vp,{withinPortal:f.withinPortal,children:x(Zw,{mounted:f.opened,transition:f.transition,duration:f.transitionDuration,exitDuration:typeof f.exitTransitionDuration=="number"?f.exitTransitionDuration:f.transitionDuration,children:v=>{var m,y;return x(JV,{active:f.trapFocus,children:he(We,{...Fm(nR(Fm({},g),{tabIndex:-1,ref:f.floating,style:nR(Fm(Fm({},n),v),{zIndex:f.zIndex,top:(m=f.y)!=null?m:0,left:(y=f.x)!=null?y:0,width:f.width==="target"?void 0:f.width}),className:h(d.dropdown,r),onKeyDownCapture:XJ(f.onClose,{active:f.closeOnEscape,onTrigger:p,onKeyDown:o}),"data-position":f.placement}),s),children:[i,x(yP,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,withBorder:!0,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,className:d.arrow})]})})}})})}r6.displayName="@mantine/core/PopoverDropdown";function i6(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}var rR=Object.getOwnPropertySymbols,Cse=Object.prototype.hasOwnProperty,Ise=Object.prototype.propertyIsEnumerable,kse=(e,t)=>{var n={};for(var r in e)Cse.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rR)for(var r of rR(e))t.indexOf(r)<0&&Ise.call(e,r)&&(n[r]=e[r]);return n};const Tse={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ii("popover"),__staticSelector:"Popover",width:"max-content"};function ff(e){var t,n,r,i,o,s;const a=S.useRef(null),l=Ke("Popover",Tse,e),{children:u,position:c,offset:f,onPositionChange:d,positionDependencies:h,opened:p,transition:g,transitionDuration:v,width:m,middlewares:y,withArrow:w,arrowSize:b,arrowOffset:$,arrowRadius:_,unstyled:E,classNames:C,styles:N,closeOnClickOutside:L,withinPortal:M,closeOnEscape:B,clickOutsideEvents:F,trapFocus:R,onClose:J,onOpen:re,onChange:ie,zIndex:G,radius:Q,shadow:q,id:O,defaultOpened:P,exitTransitionDuration:z,__staticSelector:I,withRoles:k,disabled:V,returnFocus:Z}=l,oe=kse(l,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[be,ce]=S.useState(null),[xe,Ue]=S.useState(null),_t=Ba(O),Ft=ui(),Qe=Zoe({middlewares:y,width:m,position:i6(Ft.dir,c),offset:f+(w?b/2:0),arrowRef:a,onPositionChange:d,positionDependencies:h,opened:p,defaultOpened:P,onChange:ie,onOpen:re,onClose:J});Yee(()=>L&&Qe.onClose(),F,[be,xe]);const Le=S.useCallback(Xe=>{ce(Xe),Qe.floating.reference(Xe)},[Qe.floating.reference]),rt=S.useCallback(Xe=>{Ue(Xe),Qe.floating.floating(Xe)},[Qe.floating.floating]);return x(X3,{classNames:C,styles:N,unstyled:E,staticSelector:I,children:x(ese,{value:{returnFocus:Z,disabled:V,controlled:Qe.controlled,reference:Le,floating:rt,x:Qe.floating.x,y:Qe.floating.y,arrowX:(r=(n=(t=Qe.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(s=(o=(i=Qe.floating)==null?void 0:i.middlewareData)==null?void 0:o.arrow)==null?void 0:s.y,opened:Qe.opened,arrowRef:a,transition:g,transitionDuration:v,exitTransitionDuration:z,width:m,withArrow:w,arrowSize:b,arrowOffset:$,arrowRadius:_,placement:Qe.floating.placement,trapFocus:R,withinPortal:M,zIndex:G,radius:Q,shadow:q,closeOnEscape:B,onClose:Qe.onClose,onToggle:Qe.onToggle,getTargetId:()=>`${_t}-target`,getDropdownId:()=>`${_t}-dropdown`,withRoles:k,targetProps:oe},children:u})})}ff.Target=YV;ff.Dropdown=r6;ff.displayName="@mantine/core/Popover";var Ase=Object.defineProperty,dv=Object.getOwnPropertySymbols,o6=Object.prototype.hasOwnProperty,s6=Object.prototype.propertyIsEnumerable,iR=(e,t,n)=>t in e?Ase(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nse=(e,t)=>{for(var n in t||(t={}))o6.call(t,n)&&iR(e,n,t[n]);if(dv)for(var n of dv(t))s6.call(t,n)&&iR(e,n,t[n]);return e},Rse=(e,t)=>{var n={};for(var r in e)o6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dv)for(var r of dv(e))t.indexOf(r)<0&&s6.call(e,r)&&(n[r]=e[r]);return n};function Dse(e){var t=e,{children:n,component:r="div",maxHeight:i=220,direction:o="column",id:s,innerRef:a,__staticSelector:l,styles:u,classNames:c,unstyled:f}=t,d=Rse(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:h}=woe(null,{name:l,styles:u,classNames:c,unstyled:f});return x(ff.Dropdown,{...Nse({p:0,onMouseDown:p=>p.preventDefault()},d),children:x("div",{style:{maxHeight:i,display:"flex"},children:x(We,{component:r||"div",id:`${s}-items`,"aria-labelledby":`${s}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:r!==Qw?"auto":void 0},"data-combobox-popover":!0,ref:a,children:x("div",{className:h.itemsWrapper,style:{flexDirection:o},children:n})})})})}function va({opened:e,transition:t="fade",transitionDuration:n=0,shadow:r,withinPortal:i,children:o,__staticSelector:s,onDirectionChange:a,switchDirectionOnFlip:l,zIndex:u,dropdownPosition:c,positionDependencies:f=[],classNames:d,styles:h,unstyled:p,readOnly:g}){return x(ff,{unstyled:p,classNames:d,styles:h,width:"target",withRoles:!1,opened:e,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:f,zIndex:u,__staticSelector:s,withinPortal:i,transition:t,transitionDuration:n,shadow:r,disabled:g,onPositionChange:v=>l&&(a==null?void 0:a(v==="top"?"column-reverse":"column")),children:o})}va.Target=ff.Target;va.Dropdown=Dse;var Mse=Object.defineProperty,Lse=Object.defineProperties,jse=Object.getOwnPropertyDescriptors,hv=Object.getOwnPropertySymbols,a6=Object.prototype.hasOwnProperty,l6=Object.prototype.propertyIsEnumerable,oR=(e,t,n)=>t in e?Mse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$1=(e,t)=>{for(var n in t||(t={}))a6.call(t,n)&&oR(e,n,t[n]);if(hv)for(var n of hv(t))l6.call(t,n)&&oR(e,n,t[n]);return e},zse=(e,t)=>Lse(e,jse(t)),Fse=(e,t)=>{var n={};for(var r in e)a6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hv)for(var r of hv(e))t.indexOf(r)<0&&l6.call(e,r)&&(n[r]=e[r]);return n};function u6(e,t,n){const r=Ke(e,t,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:f,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:v,wrapperProps:m,id:y,size:w,style:b,inputContainer:$,inputWrapperOrder:_,withAsterisk:E}=r,C=Fse(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),N=Ba(y),{systemStyles:L,rest:M}=hu(C);return zse($1({},M),{classNames:l,styles:u,unstyled:f,wrapperProps:$1($1({label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:d,sx:h,errorProps:p,labelProps:g,descriptionProps:v,unstyled:f,styles:u,id:N,size:w,style:b,inputContainer:$,inputWrapperOrder:_,withAsterisk:E},m),L),inputProps:{required:a,classNames:l,styles:u,unstyled:f,id:N,size:w,__staticSelector:d,invalid:!!s}})}var Vse=qe((e,{size:t})=>({label:{display:"inline-block",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const Bse=Vse;var Use=Object.defineProperty,pv=Object.getOwnPropertySymbols,c6=Object.prototype.hasOwnProperty,f6=Object.prototype.propertyIsEnumerable,sR=(e,t,n)=>t in e?Use(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hse=(e,t)=>{for(var n in t||(t={}))c6.call(t,n)&&sR(e,n,t[n]);if(pv)for(var n of pv(t))f6.call(t,n)&&sR(e,n,t[n]);return e},qse=(e,t)=>{var n={};for(var r in e)c6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pv)for(var r of pv(e))t.indexOf(r)<0&&f6.call(e,r)&&(n[r]=e[r]);return n};const vP=S.forwardRef((e,t)=>{var n=e,{labelElement:r="label",children:i,required:o,size:s="sm",classNames:a,styles:l,unstyled:u,className:c,htmlFor:f,__staticSelector:d}=n,h=qse(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]);const{classes:p,cx:g}=Bse({size:s},{name:["InputWrapper",d],classNames:a,styles:l,unstyled:u});return he(We,{...Hse({component:r,ref:t,className:g(p.label,c),htmlFor:r==="label"?f:void 0},h),children:[i,o&&x("span",{className:p.required,"aria-hidden":!0,children:" *"})]})});vP.displayName="@mantine/core/InputLabel";var Wse=qe((e,{size:t})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const Kse=Wse;var Gse=Object.defineProperty,mv=Object.getOwnPropertySymbols,d6=Object.prototype.hasOwnProperty,h6=Object.prototype.propertyIsEnumerable,aR=(e,t,n)=>t in e?Gse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yse=(e,t)=>{for(var n in t||(t={}))d6.call(t,n)&&aR(e,n,t[n]);if(mv)for(var n of mv(t))h6.call(t,n)&&aR(e,n,t[n]);return e},Qse=(e,t)=>{var n={};for(var r in e)d6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mv)for(var r of mv(e))t.indexOf(r)<0&&h6.call(e,r)&&(n[r]=e[r]);return n};const wP=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:o,styles:s,unstyled:a,size:l="sm",__staticSelector:u}=n,c=Qse(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=Kse({size:l},{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a});return x(wt,{...Yse({className:d(f.error,i),ref:t,role:"alert"},c),children:r})});wP.displayName="@mantine/core/InputError";var Xse=qe((e,{size:t})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:t,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}));const Jse=Xse;var Zse=Object.defineProperty,gv=Object.getOwnPropertySymbols,p6=Object.prototype.hasOwnProperty,m6=Object.prototype.propertyIsEnumerable,lR=(e,t,n)=>t in e?Zse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eae=(e,t)=>{for(var n in t||(t={}))p6.call(t,n)&&lR(e,n,t[n]);if(gv)for(var n of gv(t))m6.call(t,n)&&lR(e,n,t[n]);return e},tae=(e,t)=>{var n={};for(var r in e)p6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gv)for(var r of gv(e))t.indexOf(r)<0&&m6.call(e,r)&&(n[r]=e[r]);return n};const _P=S.forwardRef((e,t)=>{var n=e,{children:r,className:i,classNames:o,styles:s,unstyled:a,size:l="sm",__staticSelector:u}=n,c=tae(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]);const{classes:f,cx:d}=Jse({size:l},{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a});return x(wt,{...eae({color:"dimmed",className:d(f.description,i),ref:t,unstyled:a},c),children:r})});_P.displayName="@mantine/core/InputDescription";const g6=S.createContext({offsetBottom:!1,offsetTop:!1}),nae=g6.Provider,rae=()=>S.useContext(g6);function iae(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e[r-1],o=e[r+1];return{offsetBottom:t&&o==="description"||n&&o==="error",offsetTop:t&&i==="description"||n&&i==="error"}}var oae=Object.defineProperty,sae=Object.defineProperties,aae=Object.getOwnPropertyDescriptors,uR=Object.getOwnPropertySymbols,lae=Object.prototype.hasOwnProperty,uae=Object.prototype.propertyIsEnumerable,cR=(e,t,n)=>t in e?oae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cae=(e,t)=>{for(var n in t||(t={}))lae.call(t,n)&&cR(e,n,t[n]);if(uR)for(var n of uR(t))uae.call(t,n)&&cR(e,n,t[n]);return e},fae=(e,t)=>sae(e,aae(t)),dae=qe(e=>({root:fae(cae({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const hae=dae;var pae=Object.defineProperty,mae=Object.defineProperties,gae=Object.getOwnPropertyDescriptors,yv=Object.getOwnPropertySymbols,y6=Object.prototype.hasOwnProperty,v6=Object.prototype.propertyIsEnumerable,fR=(e,t,n)=>t in e?pae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ja=(e,t)=>{for(var n in t||(t={}))y6.call(t,n)&&fR(e,n,t[n]);if(yv)for(var n of yv(t))v6.call(t,n)&&fR(e,n,t[n]);return e},dR=(e,t)=>mae(e,gae(t)),yae=(e,t)=>{var n={};for(var r in e)y6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yv)for(var r of yv(e))t.indexOf(r)<0&&v6.call(e,r)&&(n[r]=e[r]);return n};const vae={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},w6=S.forwardRef((e,t)=>{const n=Ke("InputWrapper",vae,e),{className:r,label:i,children:o,required:s,id:a,error:l,description:u,labelElement:c,labelProps:f,descriptionProps:d,errorProps:h,classNames:p,styles:g,size:v,inputContainer:m,__staticSelector:y,unstyled:w,inputWrapperOrder:b,withAsterisk:$}=n,_=yae(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:E,cx:C}=hae(null,{classNames:p,styles:g,name:["InputWrapper",y],unstyled:w}),N={classNames:p,styles:g,unstyled:w,size:v,__staticSelector:y},L=typeof $=="boolean"?$:s,M=i&&x(vP,{...Ja(Ja({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:L},N),f),children:i}),B=u&&x(_P,{...dR(Ja(Ja({key:"description"},d),N),{size:(d==null?void 0:d.size)||N.size}),children:u}),F=x(S.Fragment,{children:m(o)},"input"),R=typeof l!="boolean"&&l&&x(wP,{...dR(Ja(Ja({},h),N),{size:(h==null?void 0:h.size)||N.size,key:"error"}),children:l}),J=b.map(re=>{switch(re){case"label":return M;case"input":return F;case"description":return B;case"error":return R;default:return null}});return x(nae,{value:iae(b,{hasDescription:!!B,hasError:!!R}),children:x(We,{...Ja({className:C(E.root,r),ref:t},_),children:J})})});w6.displayName="@mantine/core/InputWrapper";var wae=Object.defineProperty,_ae=Object.defineProperties,bae=Object.getOwnPropertyDescriptors,hR=Object.getOwnPropertySymbols,Sae=Object.prototype.hasOwnProperty,$ae=Object.prototype.propertyIsEnumerable,pR=(e,t,n)=>t in e?wae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E1=(e,t)=>{for(var n in t||(t={}))Sae.call(t,n)&&pR(e,n,t[n]);if(hR)for(var n of hR(t))$ae.call(t,n)&&pR(e,n,t[n]);return e},mR=(e,t)=>_ae(e,bae(t));const Gr={xs:30,sm:36,md:42,lg:50,xl:60};function Eae({theme:e,variant:t}){return t==="default"?{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:"1px solid transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var xae=qe((e,{size:t,multiline:n,radius:r,variant:i,invalid:o,rightSectionWidth:s,withRightSection:a,iconWidth:l,offsetBottom:u,offsetTop:c,pointer:f})=>{const d=e.fn.variant({variant:"filled",color:"red"}).background,h=i==="default"||i==="filled"?{minHeight:e.fn.size({size:t,sizes:Gr}),paddingLeft:e.fn.size({size:t,sizes:Gr})/3,paddingRight:a?s:e.fn.size({size:t,sizes:Gr})/3,borderRadius:e.fn.radius(r)}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:u?`calc(${e.spacing.xs}px / 2)`:void 0},input:E1(mR(E1(mR(E1({},e.fn.fontStyles()),{height:n?i==="unstyled"?void 0:"auto":e.fn.size({size:t,sizes:Gr}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:`${e.fn.size({size:t,sizes:Gr})-2}px`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:t,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:f?"pointer":void 0}),h),{"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),Eae({theme:e,variant:i})),withIcon:{paddingLeft:typeof l=="number"?l:e.fn.size({size:t,sizes:Gr})},invalid:{color:d,borderColor:d,"&::placeholder":{opacity:1,color:d}},disabled:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:typeof l=="number"?l:e.fn.size({size:t,sizes:Gr}),color:o?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:s}}});const Oae=xae;var Pae=Object.defineProperty,Cae=Object.defineProperties,Iae=Object.getOwnPropertyDescriptors,vv=Object.getOwnPropertySymbols,_6=Object.prototype.hasOwnProperty,b6=Object.prototype.propertyIsEnumerable,gR=(e,t,n)=>t in e?Pae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vm=(e,t)=>{for(var n in t||(t={}))_6.call(t,n)&&gR(e,n,t[n]);if(vv)for(var n of vv(t))b6.call(t,n)&&gR(e,n,t[n]);return e},yR=(e,t)=>Cae(e,Iae(t)),kae=(e,t)=>{var n={};for(var r in e)_6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vv)for(var r of vv(e))t.indexOf(r)<0&&b6.call(e,r)&&(n[r]=e[r]);return n};const Tae={rightSectionWidth:36,size:"sm",variant:"default"},df=S.forwardRef((e,t)=>{const n=Ke("Input",Tae,e),{className:r,invalid:i,required:o,disabled:s,variant:a,icon:l,style:u,rightSectionWidth:c,iconWidth:f,rightSection:d,rightSectionProps:h,radius:p,size:g,wrapperProps:v,classNames:m,styles:y,__staticSelector:w,multiline:b,sx:$,unstyled:_,pointer:E}=n,C=kae(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:N,offsetTop:L}=rae(),{classes:M,cx:B}=Oae({radius:p,size:g,multiline:b,variant:a,invalid:i,rightSectionWidth:c,iconWidth:f,withRightSection:!!d,offsetBottom:N,offsetTop:L,pointer:E},{classNames:m,styles:y,name:["Input",w],unstyled:_}),{systemStyles:F,rest:R}=hu(C);return he(We,{...Vm(Vm({className:B(M.wrapper,r),sx:$,style:u},F),v),children:[l&&x("div",{className:M.icon,children:l}),x(We,{...yR(Vm({component:"input"},R),{ref:t,required:o,"aria-invalid":i,disabled:s,className:B(M[`${a}Variant`],M.input,{[M.withIcon]:l,[M.invalid]:i,[M.disabled]:s})})}),d&&x("div",{...yR(Vm({},h),{className:M.rightSection}),children:d})]})});df.displayName="@mantine/core/Input";df.Wrapper=w6;df.Label=vP;df.Description=_P;df.Error=wP;const vi=df;var Aae=Object.defineProperty,Nae=Object.defineProperties,Rae=Object.getOwnPropertyDescriptors,vR=Object.getOwnPropertySymbols,Dae=Object.prototype.hasOwnProperty,Mae=Object.prototype.propertyIsEnumerable,wR=(e,t,n)=>t in e?Aae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x1=(e,t)=>{for(var n in t||(t={}))Dae.call(t,n)&&wR(e,n,t[n]);if(vR)for(var n of vR(t))Mae.call(t,n)&&wR(e,n,t[n]);return e},Lae=(e,t)=>Nae(e,Rae(t));const O1={xs:{fontSize:9,height:16},sm:{fontSize:10,height:18},md:{fontSize:11,height:20},lg:{fontSize:13,height:26},xl:{fontSize:16,height:32}},jae={xs:4,sm:4,md:6,lg:8,xl:10};function zae({theme:e,variant:t,color:n,size:r,gradient:i}){if(t==="dot"){const s=e.fn.size({size:r,sizes:jae});return{backgroundColor:"transparent",color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[3]}`,paddingLeft:e.fn.size({size:r,sizes:e.spacing})/1.5-s/2,"&::before":{content:'""',display:"block",width:s,height:s,borderRadius:s,backgroundColor:e.fn.themeColor(n,e.colorScheme==="dark"?4:e.fn.primaryShade("light"),!0),marginRight:s}}}const o=e.fn.variant({color:n,variant:t,gradient:i});return{background:o.background,color:o.color,border:`${t==="gradient"?0:1}px solid ${o.border}`}}var Fae=qe((e,{color:t,size:n,radius:r,gradient:i,fullWidth:o,variant:s})=>{const{fontSize:a,height:l}=n in O1?O1[n]:O1.md;return{leftSection:{marginRight:`calc(${e.spacing.xs}px / 2)`},rightSection:{marginLeft:`calc(${e.spacing.xs}px / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:x1(Lae(x1(x1({},e.fn.focusStyles()),e.fn.fontStyles()),{fontSize:a,height:l,WebkitTapHighlightColor:"transparent",lineHeight:`${l-2}px`,textDecoration:"none",padding:`0 ${e.fn.size({size:n,sizes:e.spacing})/1.5}px`,boxSizing:"border-box",display:o?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:o?"100%":"auto",textTransform:"uppercase",borderRadius:e.fn.radius(r),fontWeight:700,letterSpacing:.25,cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),zae({theme:e,variant:s,color:t,size:n,gradient:i}))}});const Vae=Fae;var Bae=Object.defineProperty,wv=Object.getOwnPropertySymbols,S6=Object.prototype.hasOwnProperty,$6=Object.prototype.propertyIsEnumerable,_R=(e,t,n)=>t in e?Bae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uae=(e,t)=>{for(var n in t||(t={}))S6.call(t,n)&&_R(e,n,t[n]);if(wv)for(var n of wv(t))$6.call(t,n)&&_R(e,n,t[n]);return e},Hae=(e,t)=>{var n={};for(var r in e)S6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wv)for(var r of wv(e))t.indexOf(r)<0&&$6.call(e,r)&&(n[r]=e[r]);return n};const qae={variant:"light",size:"md",radius:"xl"},E6=S.forwardRef((e,t)=>{const n=Ke("Badge",qae,e),{className:r,color:i,variant:o,fullWidth:s,children:a,size:l,leftSection:u,rightSection:c,radius:f,gradient:d,classNames:h,styles:p,unstyled:g}=n,v=Hae(n,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:y}=Vae({size:l,fullWidth:s,color:i,radius:f,variant:o,gradient:d},{classNames:h,styles:p,name:"Badge",unstyled:g});return he(We,{...Uae({className:y(m.root,r),ref:t},v),children:[u&&x("span",{className:m.leftSection,children:u}),x("span",{className:m.inner,children:a}),c&&x("span",{className:m.rightSection,children:c})]})});E6.displayName="@mantine/core/Badge";const Wae=E6;var Kae=qe((e,{orientation:t,buttonBorderWidth:n})=>({root:{display:"flex",flexDirection:t==="vertical"?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,[t==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"&:last-of-type":{borderTopLeftRadius:0,[t==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[t==="vertical"?"borderTopWidth":"borderLeftWidth"]:n/2,[t==="vertical"?"borderBottomWidth":"borderRightWidth"]:n/2},"& + [data-button]":{[t==="vertical"?"marginTop":"marginLeft"]:-n,"@media (min-resolution: 192dpi)":{[t==="vertical"?"marginTop":"marginLeft"]:0}}}}}));const Gae=Kae;var Yae=Object.defineProperty,_v=Object.getOwnPropertySymbols,x6=Object.prototype.hasOwnProperty,O6=Object.prototype.propertyIsEnumerable,bR=(e,t,n)=>t in e?Yae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qae=(e,t)=>{for(var n in t||(t={}))x6.call(t,n)&&bR(e,n,t[n]);if(_v)for(var n of _v(t))O6.call(t,n)&&bR(e,n,t[n]);return e},Xae=(e,t)=>{var n={};for(var r in e)x6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_v)for(var r of _v(e))t.indexOf(r)<0&&O6.call(e,r)&&(n[r]=e[r]);return n};const Jae={orientation:"horizontal",buttonBorderWidth:1},P6=S.forwardRef((e,t)=>{const n=Ke("ButtonGroup",Jae,e),{className:r,orientation:i,buttonBorderWidth:o,unstyled:s}=n,a=Xae(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:l,cx:u}=Gae({orientation:i,buttonBorderWidth:o},{name:"ButtonGroup",unstyled:s});return x(We,{...Qae({className:u(l.root,r),ref:t},a)})});P6.displayName="@mantine/core/ButtonGroup";var Zae=Object.defineProperty,ele=Object.defineProperties,tle=Object.getOwnPropertyDescriptors,SR=Object.getOwnPropertySymbols,nle=Object.prototype.hasOwnProperty,rle=Object.prototype.propertyIsEnumerable,$R=(e,t,n)=>t in e?Zae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dl=(e,t)=>{for(var n in t||(t={}))nle.call(t,n)&&$R(e,n,t[n]);if(SR)for(var n of SR(t))rle.call(t,n)&&$R(e,n,t[n]);return e},J$=(e,t)=>ele(e,tle(t));const Z$={xs:{height:Gr.xs,paddingLeft:14,paddingRight:14},sm:{height:Gr.sm,paddingLeft:18,paddingRight:18},md:{height:Gr.md,paddingLeft:22,paddingRight:22},lg:{height:Gr.lg,paddingLeft:26,paddingRight:26},xl:{height:Gr.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function ile({compact:e,size:t,withLeftIcon:n,withRightIcon:r}){if(e)return Z$[`compact-${t}`];const i=Z$[t];return J$(dl({},i),{paddingLeft:n?i.paddingLeft/1.5:i.paddingLeft,paddingRight:r?i.paddingRight/1.5:i.paddingRight})}const ole=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function sle({variant:e,theme:t,color:n,gradient:r}){const i=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:dl({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var ale=qe((e,{color:t,size:n,radius:r,fullWidth:i,compact:o,gradient:s,variant:a,withLeftIcon:l,withRightIcon:u})=>({root:J$(dl(J$(dl(dl(dl(dl({},ile({compact:o,size:n,withLeftIcon:l,withRightIcon:u})),e.fn.fontStyles()),e.fn.focusStyles()),ole(i)),{borderRadius:e.fn.radius(r),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),sle({variant:a,theme:e,color:t,gradient:s})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(r),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}));const lle=ale;var ule=Object.defineProperty,bv=Object.getOwnPropertySymbols,C6=Object.prototype.hasOwnProperty,I6=Object.prototype.propertyIsEnumerable,ER=(e,t,n)=>t in e?ule(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xR=(e,t)=>{for(var n in t||(t={}))C6.call(t,n)&&ER(e,n,t[n]);if(bv)for(var n of bv(t))I6.call(t,n)&&ER(e,n,t[n]);return e},cle=(e,t)=>{var n={};for(var r in e)C6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bv)for(var r of bv(e))t.indexOf(r)<0&&I6.call(e,r)&&(n[r]=e[r]);return n};const fle={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},bP=S.forwardRef((e,t)=>{const n=Ke("Button",fle,e),{className:r,size:i,color:o,type:s,disabled:a,children:l,leftIcon:u,rightIcon:c,fullWidth:f,variant:d,radius:h,uppercase:p,compact:g,loading:v,loaderPosition:m,loaderProps:y,gradient:w,classNames:b,styles:$,unstyled:_}=n,E=cle(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:C,cx:N,theme:L}=lle({radius:h,color:o,size:i,fullWidth:f,compact:g,gradient:w,variant:d,withLeftIcon:!!u,withRightIcon:!!c},{name:"Button",unstyled:_,classNames:b,styles:$}),M=L.fn.variant({color:o,variant:d}),B=x(iP,{...xR({color:M.color,size:L.fn.size({size:i,sizes:Z$}).height/2},y)});return x(rP,{...xR({className:N(C.root,r),type:s,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":v||void 0,ref:t,unstyled:_},E),children:he("div",{className:C.inner,children:[(u||v&&m==="left")&&x("span",{className:N(C.icon,C.leftIcon),children:v&&m==="left"?B:u}),v&&m==="center"&&x("span",{className:C.centerLoader,children:B}),x("span",{className:C.label,style:{textTransform:p?"uppercase":void 0},children:l}),(c||v&&m==="right")&&x("span",{className:N(C.icon,C.rightIcon),children:v&&m==="right"?B:c})]})})});bP.displayName="@mantine/core/Button";bP.Group=P6;const jo=bP;var dle=qe((e,{radius:t,shadow:n,withBorder:r})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(t),boxShadow:e.shadows[n]||n||"none",border:r?`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}));const hle=dle;var ple=Object.defineProperty,Sv=Object.getOwnPropertySymbols,k6=Object.prototype.hasOwnProperty,T6=Object.prototype.propertyIsEnumerable,OR=(e,t,n)=>t in e?ple(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mle=(e,t)=>{for(var n in t||(t={}))k6.call(t,n)&&OR(e,n,t[n]);if(Sv)for(var n of Sv(t))T6.call(t,n)&&OR(e,n,t[n]);return e},gle=(e,t)=>{var n={};for(var r in e)k6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Sv)for(var r of Sv(e))t.indexOf(r)<0&&T6.call(e,r)&&(n[r]=e[r]);return n};const yle={},A6=S.forwardRef((e,t)=>{const n=Ke("Paper",yle,e),{className:r,children:i,radius:o,withBorder:s,shadow:a,unstyled:l}=n,u=gle(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:c,cx:f}=hle({radius:o,shadow:a,withBorder:s},{name:"Paper",unstyled:l});return x(We,{...mle({className:f(c.root,r),ref:t},u),children:i})});A6.displayName="@mantine/core/Paper";const zd=A6,N6=S.createContext({padding:0}),vle=N6.Provider,wle=()=>S.useContext(N6).padding;var _le=qe((e,{padding:t,withBorder:n,inheritPadding:r})=>{const i=e.fn.size({size:t,sizes:e.spacing}),o=-1*i,s=e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:o,marginRight:o,paddingLeft:r?i:void 0,paddingRight:r?i:void 0,borderTop:n&&`1px solid ${s}`,borderBottom:n&&`1px solid ${s}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:o,borderTop:0,borderBottom:n&&`1px solid ${s}`},"&[data-last]":{marginBottom:o,borderBottom:0}}}});const ble=_le;var Sle=Object.defineProperty,$v=Object.getOwnPropertySymbols,R6=Object.prototype.hasOwnProperty,D6=Object.prototype.propertyIsEnumerable,PR=(e,t,n)=>t in e?Sle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$le=(e,t)=>{for(var n in t||(t={}))R6.call(t,n)&&PR(e,n,t[n]);if($v)for(var n of $v(t))D6.call(t,n)&&PR(e,n,t[n]);return e},Ele=(e,t)=>{var n={};for(var r in e)R6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&$v)for(var r of $v(e))t.indexOf(r)<0&&D6.call(e,r)&&(n[r]=e[r]);return n};const M6=S.forwardRef((e,t)=>{var n=e,{className:r,withBorder:i=!1,inheritPadding:o=!1,unstyled:s}=n,a=Ele(n,["className","withBorder","inheritPadding","unstyled"]);const{classes:l,cx:u}=ble({padding:wle(),withBorder:i,inheritPadding:o},{name:"Card",unstyled:s});return x(We,{...$le({className:u(l.cardSection,r),ref:t},a)})});M6.displayName="@mantine/core/CardSection";const L6=M6;var xle=qe(e=>({root:{position:"relative",overflow:"hidden",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white}}));const Ole=xle;var Ple=Object.defineProperty,Ev=Object.getOwnPropertySymbols,j6=Object.prototype.hasOwnProperty,z6=Object.prototype.propertyIsEnumerable,CR=(e,t,n)=>t in e?Ple(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cle=(e,t)=>{for(var n in t||(t={}))j6.call(t,n)&&CR(e,n,t[n]);if(Ev)for(var n of Ev(t))z6.call(t,n)&&CR(e,n,t[n]);return e},Ile=(e,t)=>{var n={};for(var r in e)j6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ev)for(var r of Ev(e))t.indexOf(r)<0&&z6.call(e,r)&&(n[r]=e[r]);return n};const kle={p:"md"},SP=S.forwardRef((e,t)=>{const n=Ke("Card",kle,e),{className:r,p:i,radius:o,children:s,unstyled:a}=n,l=Ile(n,["className","p","radius","children","unstyled"]),{classes:u,cx:c}=Ole(null,{name:"Card",unstyled:a}),f=S.Children.toArray(s),d=f.map((h,p)=>typeof h=="object"&&h&&"type"in h&&h.type===L6?S.cloneElement(h,{padding:i,"data-first":p===0||void 0,"data-last":p===f.length-1||void 0}):h);return x(vle,{value:{padding:i},children:x(zd,{...Cle({className:c(u.root,r),radius:o,p:i,ref:t},l),children:d})})});SP.Section=L6;SP.displayName="@mantine/core/Card";const Tle=SP;var Ale=Object.defineProperty,xv=Object.getOwnPropertySymbols,F6=Object.prototype.hasOwnProperty,V6=Object.prototype.propertyIsEnumerable,IR=(e,t,n)=>t in e?Ale(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nle=(e,t)=>{for(var n in t||(t={}))F6.call(t,n)&&IR(e,n,t[n]);if(xv)for(var n of xv(t))V6.call(t,n)&&IR(e,n,t[n]);return e},Rle=(e,t)=>{var n={};for(var r in e)F6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xv)for(var r of xv(e))t.indexOf(r)<0&&V6.call(e,r)&&(n[r]=e[r]);return n};const B6=S.forwardRef((e,t)=>{const n=Ke("Center",{},e),{inline:r,sx:i}=n,o=Rle(n,["inline","sx"]);return x(We,{...Nle({ref:t,sx:[{display:r?"inline-flex":"flex",alignItems:"center",justifyContent:"center"},...ql(i)]},o)})});B6.displayName="@mantine/core/Center";const kR=B6,U6=S.createContext(null),Dle=U6.Provider,Mle=()=>S.useContext(U6);function Lle(e){return S.Children.toArray(e).filter(Boolean)}const jle={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var zle=qe((e,{spacing:t,position:n,noWrap:r,grow:i,align:o,count:s})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:o||"center",flexWrap:r?"nowrap":"wrap",justifyContent:jle[n],gap:e.fn.size({size:t,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/s}% - ${e.fn.size({size:t,sizes:e.spacing})-e.fn.size({size:t,sizes:e.spacing})/s}px)`:void 0,flexGrow:i?1:0}}}));const Fle=zle;var Vle=Object.defineProperty,Ov=Object.getOwnPropertySymbols,H6=Object.prototype.hasOwnProperty,q6=Object.prototype.propertyIsEnumerable,TR=(e,t,n)=>t in e?Vle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ble=(e,t)=>{for(var n in t||(t={}))H6.call(t,n)&&TR(e,n,t[n]);if(Ov)for(var n of Ov(t))q6.call(t,n)&&TR(e,n,t[n]);return e},Ule=(e,t)=>{var n={};for(var r in e)H6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ov)for(var r of Ov(e))t.indexOf(r)<0&&q6.call(e,r)&&(n[r]=e[r]);return n};const Hle={position:"left",spacing:"md"},Ia=S.forwardRef((e,t)=>{const n=Ke("Group",Hle,e),{className:r,position:i,align:o,children:s,noWrap:a,grow:l,spacing:u,unstyled:c}=n,f=Ule(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),d=Lle(s),{classes:h,cx:p}=Fle({align:o,grow:l,noWrap:a,spacing:u,position:i,count:d.length},{unstyled:c,name:"Group"});return x(We,{...Ble({className:p(h.root,r),ref:t},f),children:d})});Ia.displayName="@mantine/core/Group";var qle=qe((e,{spacing:t,align:n,justify:r})=>({root:{display:"flex",flexDirection:"column",alignItems:n,justifyContent:r,gap:e.fn.size({size:t,sizes:e.spacing})}}));const Wle=qle;var Kle=Object.defineProperty,Pv=Object.getOwnPropertySymbols,W6=Object.prototype.hasOwnProperty,K6=Object.prototype.propertyIsEnumerable,AR=(e,t,n)=>t in e?Kle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gle=(e,t)=>{for(var n in t||(t={}))W6.call(t,n)&&AR(e,n,t[n]);if(Pv)for(var n of Pv(t))K6.call(t,n)&&AR(e,n,t[n]);return e},Yle=(e,t)=>{var n={};for(var r in e)W6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pv)for(var r of Pv(e))t.indexOf(r)<0&&K6.call(e,r)&&(n[r]=e[r]);return n};const Qle={spacing:"md",align:"stretch",justify:"top"},Al=S.forwardRef((e,t)=>{const n=Ke("Stack",Qle,e),{spacing:r,className:i,align:o,justify:s,unstyled:a}=n,l=Yle(n,["spacing","className","align","justify","unstyled"]),{classes:u,cx:c}=Wle({spacing:r,align:o,justify:s},{name:"Stack",unstyled:a});return x(We,{...Gle({className:c(u.root,i),ref:t},l)})});Al.displayName="@mantine/core/Stack";function G6({spacing:e,offset:t,orientation:n,children:r,role:i,unstyled:o}){return n==="horizontal"?x(Ia,{pt:t,spacing:e,role:i,unstyled:o,children:r}):x(Al,{pt:t,spacing:e,role:i,unstyled:o,children:r})}var Xle=Object.defineProperty,Cv=Object.getOwnPropertySymbols,Y6=Object.prototype.hasOwnProperty,Q6=Object.prototype.propertyIsEnumerable,NR=(e,t,n)=>t in e?Xle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RR=(e,t)=>{for(var n in t||(t={}))Y6.call(t,n)&&NR(e,n,t[n]);if(Cv)for(var n of Cv(t))Q6.call(t,n)&&NR(e,n,t[n]);return e},Jle=(e,t)=>{var n={};for(var r in e)Y6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cv)for(var r of Cv(e))t.indexOf(r)<0&&Q6.call(e,r)&&(n[r]=e[r]);return n};const Zle={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},X6=S.forwardRef((e,t)=>{const n=Ke("CheckboxGroup",Zle,e),{children:r,value:i,defaultValue:o,onChange:s,orientation:a,spacing:l,size:u,wrapperProps:c,offset:f}=n,d=Jle(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[h,p]=Oa({value:i,defaultValue:o,finalValue:[],onChange:s});return x(Dle,{value:{value:h,onChange:v=>{const m=v.currentTarget.value;p(h.includes(m)?h.filter(y=>y!==m):[...h,m])},size:u},children:x(vi.Wrapper,{...RR(RR({labelElement:"div",size:u,__staticSelector:"CheckboxGroup",ref:t},c),d),children:x(G6,{spacing:l,orientation:a,offset:f,children:r})})})});X6.displayName="@mantine/core/CheckboxGroup";var eue=Object.defineProperty,Iv=Object.getOwnPropertySymbols,J6=Object.prototype.hasOwnProperty,Z6=Object.prototype.propertyIsEnumerable,DR=(e,t,n)=>t in e?eue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eE=(e,t)=>{for(var n in t||(t={}))J6.call(t,n)&&DR(e,n,t[n]);if(Iv)for(var n of Iv(t))Z6.call(t,n)&&DR(e,n,t[n]);return e},tue=(e,t)=>{var n={};for(var r in e)J6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Iv)for(var r of Iv(e))t.indexOf(r)<0&&Z6.call(e,r)&&(n[r]=e[r]);return n};function nue(e){return x("svg",{...eE({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),children:x("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function rue(e){var t=e,{indeterminate:n}=t,r=tue(t,["indeterminate"]);return n?x("svg",{...eE({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},r),children:x("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):x(nue,{...eE({},r)})}var iue=Object.defineProperty,oue=Object.defineProperties,sue=Object.getOwnPropertyDescriptors,MR=Object.getOwnPropertySymbols,aue=Object.prototype.hasOwnProperty,lue=Object.prototype.propertyIsEnumerable,LR=(e,t,n)=>t in e?iue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uue=(e,t)=>{for(var n in t||(t={}))aue.call(t,n)&&LR(e,n,t[n]);if(MR)for(var n of MR(t))lue.call(t,n)&&LR(e,n,t[n]);return e},cue=(e,t)=>oue(e,sue(t));const fue={xs:16,sm:20,md:24,lg:30,xl:36},due={xs:8,sm:10,md:14,lg:16,xl:20};var hue=qe((e,{size:t,radius:n,color:r,transitionDuration:i,labelPosition:o,error:s,indeterminate:a},l)=>{const u=e.fn.size({size:t,sizes:fue}),c=e.fn.variant({variant:"filled",color:r}),f=e.fn.variant({variant:"filled",color:"red"}).background;return{icon:{ref:l("icon"),color:a?"inherit":e.white,transform:a?"none":"translateY(5px) scale(0.5)",opacity:a?1:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:`${i}ms`,pointerEvents:"none",width:e.fn.size({size:t,sizes:due}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},inner:{position:"relative",width:u,height:u,order:o==="left"?2:1},input:cue(uue({},e.fn.focusStyles()),{appearance:"none",backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${s?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,width:u,height:u,borderRadius:e.fn.radius(n),padding:0,display:"block",margin:0,transition:`border-color ${i}ms ease, background-color ${i}ms ease`,cursor:e.cursorType,"&:checked":{backgroundColor:c.background,borderColor:c.background,[`& + .${l("icon")}`]:{opacity:1,color:e.white,transform:"translateY(0) scale(1)"}},"&:disabled":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed",[`& + .${l("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[5]}}})}});const pue=hue;var mue=Object.defineProperty,gue=Object.defineProperties,yue=Object.getOwnPropertyDescriptors,jR=Object.getOwnPropertySymbols,vue=Object.prototype.hasOwnProperty,wue=Object.prototype.propertyIsEnumerable,zR=(e,t,n)=>t in e?mue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_ue=(e,t)=>{for(var n in t||(t={}))vue.call(t,n)&&zR(e,n,t[n]);if(jR)for(var n of jR(t))wue.call(t,n)&&zR(e,n,t[n]);return e},bue=(e,t)=>gue(e,yue(t));const Sue={xs:16,sm:20,md:24,lg:30,xl:36};var $ue=qe((e,{labelPosition:t,size:n})=>({root:{},body:{display:"inline-flex"},labelWrapper:bue(_ue({},e.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:`${e.fn.size({size:n,sizes:Sue})}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,cursor:e.cursorType,order:t==="left"?1:2}),description:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},error:{marginTop:`calc(${e.spacing.xs}px / 2)`,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm},label:{cursor:e.cursorType,[t==="left"?"paddingRight":"paddingLeft"]:e.spacing.sm,"&[data-disabled]":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}}));const Eue=$ue;var xue=Object.defineProperty,kv=Object.getOwnPropertySymbols,eB=Object.prototype.hasOwnProperty,tB=Object.prototype.propertyIsEnumerable,FR=(e,t,n)=>t in e?xue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oue=(e,t)=>{for(var n in t||(t={}))eB.call(t,n)&&FR(e,n,t[n]);if(kv)for(var n of kv(t))tB.call(t,n)&&FR(e,n,t[n]);return e},Pue=(e,t)=>{var n={};for(var r in e)eB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kv)for(var r of kv(e))t.indexOf(r)<0&&tB.call(e,r)&&(n[r]=e[r]);return n};function $P(e){var t=e,{__staticSelector:n,className:r,classNames:i,styles:o,unstyled:s,children:a,label:l,description:u,id:c,disabled:f,error:d,size:h,labelPosition:p}=t,g=Pue(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition"]);const{classes:v,cx:m}=Eue({size:h,labelPosition:p},{name:n,styles:o,classNames:i,unstyled:s});return x(We,{...Oue({className:m(v.root,r)},g),children:he("div",{className:m(v.body),children:[a,he("div",{className:v.labelWrapper,children:[l&&x("label",{className:v.label,"data-disabled":f||void 0,htmlFor:c,children:l}),u&&x(vi.Description,{className:v.description,children:u}),d&&d!=="boolean"&&x(vi.Error,{className:v.error,children:d})]})]})})}$P.displayName="@mantine/core/InlineInput";var Cue=Object.defineProperty,Tv=Object.getOwnPropertySymbols,nB=Object.prototype.hasOwnProperty,rB=Object.prototype.propertyIsEnumerable,VR=(e,t,n)=>t in e?Cue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bm=(e,t)=>{for(var n in t||(t={}))nB.call(t,n)&&VR(e,n,t[n]);if(Tv)for(var n of Tv(t))rB.call(t,n)&&VR(e,n,t[n]);return e},Iue=(e,t)=>{var n={};for(var r in e)nB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Tv)for(var r of Tv(e))t.indexOf(r)<0&&rB.call(e,r)&&(n[r]=e[r]);return n};const kue={size:"sm",transitionDuration:100,icon:rue,labelPosition:"right"},Av=S.forwardRef((e,t)=>{const n=Ke("Checkbox",kue,e),{className:r,style:i,sx:o,checked:s,disabled:a,color:l,label:u,indeterminate:c,id:f,size:d,radius:h,wrapperProps:p,children:g,classNames:v,styles:m,transitionDuration:y,icon:w,unstyled:b,labelPosition:$,description:_,error:E}=n,C=Iue(n,["className","style","sx","checked","disabled","color","label","indeterminate","id","size","radius","wrapperProps","children","classNames","styles","transitionDuration","icon","unstyled","labelPosition","description","error"]),N=Mle(),L=Ba(f),{systemStyles:M,rest:B}=hu(C),{classes:F}=pue({size:(N==null?void 0:N.size)||d,radius:h,color:l,transitionDuration:y,labelPosition:$,error:!!E,indeterminate:c},{name:"Checkbox",classNames:v,styles:m,unstyled:b}),R=N?{checked:N.value.includes(B.value),onChange:N.onChange}:{};return x($P,{...Bm(Bm({className:r,sx:o,style:i,id:L,size:(N==null?void 0:N.size)||d,labelPosition:$,label:u,description:_,error:E,disabled:a,__staticSelector:"Checkbox",classNames:v,styles:m,unstyled:b,"data-checked":R.checked||void 0},M),p),children:he("div",{className:F.inner,children:[x("input",{...Bm(Bm({id:L,ref:t,type:"checkbox",className:F.input,checked:s,disabled:a},B),R)}),x(w,{indeterminate:c,className:F.icon})]})})});Av.displayName="@mantine/core/Checkbox";Av.Group=X6;var Tue=qe((e,{fluid:t,size:n,sizes:r})=>({root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:t?"100%":e.fn.size({size:n,sizes:r}),marginLeft:"auto",marginRight:"auto"}}));const Aue=Tue;var Nue=Object.defineProperty,Nv=Object.getOwnPropertySymbols,iB=Object.prototype.hasOwnProperty,oB=Object.prototype.propertyIsEnumerable,BR=(e,t,n)=>t in e?Nue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rue=(e,t)=>{for(var n in t||(t={}))iB.call(t,n)&&BR(e,n,t[n]);if(Nv)for(var n of Nv(t))oB.call(t,n)&&BR(e,n,t[n]);return e},Due=(e,t)=>{var n={};for(var r in e)iB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Nv)for(var r of Nv(e))t.indexOf(r)<0&&oB.call(e,r)&&(n[r]=e[r]);return n};const Mue={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},sB=S.forwardRef((e,t)=>{const n=Ke("Container",Mue,e),{className:r,fluid:i,size:o,unstyled:s,sizes:a}=n,l=Due(n,["className","fluid","size","unstyled","sizes"]),{classes:u,cx:c}=Aue({fluid:i,size:o,sizes:a},{unstyled:s,name:"Container"});return x(We,{...Rue({className:c(u.root,r),ref:t},l)})});sB.displayName="@mantine/core/Container";function aB({transitions:e,duration:t=250,exitDuration:n=t,mounted:r,children:i,timingFunction:o,onExit:s,onEntered:a,onEnter:l,onExited:u}){const{transitionDuration:c,transitionStatus:f,transitionTimingFunction:d}=XV({mounted:r,duration:t,exitDuration:n,timingFunction:o,onExit:s,onEntered:a,onEnter:l,onExited:u});if(c===0)return r?x(tn,{children:i({})}):null;if(f==="exited")return null;const h=Object.keys(e).reduce((p,g)=>(p[g]=QV({duration:e[g].duration,transition:e[g].transition,timingFunction:e[g].timingFunction||d,state:f}),p),{});return x(tn,{children:i(h)})}aB.displayName="@mantine/core/GroupedTransition";var Lue=qe((e,{zIndex:t})=>({root:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:t}}));const jue=Lue;var zue=Object.defineProperty,Fue=Object.defineProperties,Vue=Object.getOwnPropertyDescriptors,Rv=Object.getOwnPropertySymbols,lB=Object.prototype.hasOwnProperty,uB=Object.prototype.propertyIsEnumerable,UR=(e,t,n)=>t in e?zue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P1=(e,t)=>{for(var n in t||(t={}))lB.call(t,n)&&UR(e,n,t[n]);if(Rv)for(var n of Rv(t))uB.call(t,n)&&UR(e,n,t[n]);return e},Bue=(e,t)=>Fue(e,Vue(t)),Uue=(e,t)=>{var n={};for(var r in e)lB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Rv)for(var r of Rv(e))t.indexOf(r)<0&&uB.call(e,r)&&(n[r]=e[r]);return n};const Hue={opacity:.6,color:"#fff",zIndex:Ii("modal"),radius:0,blur:0},cB=S.forwardRef((e,t)=>{const n=Ke("Overlay",Hue,e),{opacity:r,blur:i,color:o,gradient:s,zIndex:a,radius:l,sx:u,unstyled:c,className:f}=n,d=Uue(n,["opacity","blur","color","gradient","zIndex","radius","sx","unstyled","className"]),{classes:h,cx:p}=jue({zIndex:a},{name:"Overlay",unstyled:c}),g=s?{backgroundImage:s}:{backgroundColor:o},v=m=>x(We,{...P1({ref:t,className:p(h.root,f),sx:[y=>Bue(P1({},g),{opacity:r,borderRadius:y.fn.size({size:l,sizes:y.radius})}),...ql(u)]},m)});return i?x(We,{...P1({className:p(h.root,f),sx:[{backdropFilter:`blur(${i}px)`},...ql(u)]},d),children:v()}):v(d)});cB.displayName="@mantine/core/Overlay";const que=cB,Wue={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"default",property:"alignItems"},justify:{type:"default",property:"justifyContent"},wrap:{type:"default",property:"flexWrap"},direction:{type:"default",property:"flexDirection"}};var Kue=Object.defineProperty,Gue=Object.defineProperties,Yue=Object.getOwnPropertyDescriptors,Dv=Object.getOwnPropertySymbols,fB=Object.prototype.hasOwnProperty,dB=Object.prototype.propertyIsEnumerable,HR=(e,t,n)=>t in e?Kue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Que=(e,t)=>{for(var n in t||(t={}))fB.call(t,n)&&HR(e,n,t[n]);if(Dv)for(var n of Dv(t))dB.call(t,n)&&HR(e,n,t[n]);return e},Xue=(e,t)=>Gue(e,Yue(t)),Jue=(e,t)=>{var n={};for(var r in e)fB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Dv)for(var r of Dv(e))t.indexOf(r)<0&&dB.call(e,r)&&(n[r]=e[r]);return n};const Zue={},Rc=S.forwardRef((e,t)=>{const n=Ke("Flex",Zue,e),{gap:r,rowGap:i,columnGap:o,align:s,justify:a,wrap:l,direction:u,sx:c}=n,f=Jue(n,["gap","rowGap","columnGap","align","justify","wrap","direction","sx"]);return x(We,{...Xue(Que({},f),{sx:[{display:"flex"},d=>H$({gap:r,rowGap:i,columnGap:o,align:s,justify:a,wrap:l,direction:u},d,Wue),...ql(c)],ref:t})})});Rc.displayName="@mantine/core/Flex";const hB=S.createContext(null),ece=hB.Provider,tce=()=>S.useContext(hB);var nce=Object.defineProperty,qR=Object.getOwnPropertySymbols,rce=Object.prototype.hasOwnProperty,ice=Object.prototype.propertyIsEnumerable,WR=(e,t,n)=>t in e?nce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oce=(e,t)=>{for(var n in t||(t={}))rce.call(t,n)&&WR(e,n,t[n]);if(qR)for(var n of qR(t))ice.call(t,n)&&WR(e,n,t[n]);return e};const EP=(e,t)=>e==="content"?"auto":e==="auto"?"0px":e?`${100/(t/e)}%`:void 0,pB=(e,t,n)=>n||e==="auto"||e==="content"?"unset":EP(e,t),mB=(e,t)=>{if(e)return e==="auto"||t?1:0},gB=(e,t)=>e===0?0:e?`${100/(t/e)}%`:void 0;function sce({sizes:e,offsets:t,orders:n,theme:r,columns:i,grow:o}){return PZ.reduce((s,a)=>(s[`@media (min-width: ${r.breakpoints[a]}px)`]={order:n[a],flexBasis:EP(e[a],i),flexShrink:0,width:e[a]==="content"?"auto":void 0,maxWidth:pB(e[a],i,o),marginLeft:gB(t[a],i),flexGrow:mB(e[a],o)},s),{})}var ace=qe((e,{gutter:t,grow:n,offset:r,offsetXs:i,offsetSm:o,offsetMd:s,offsetLg:a,offsetXl:l,columns:u,span:c,xs:f,sm:d,md:h,lg:p,xl:g,order:v,orderXs:m,orderSm:y,orderMd:w,orderLg:b,orderXl:$})=>({root:oce({boxSizing:"border-box",flexGrow:mB(c,n),order:v,padding:e.fn.size({size:t,sizes:e.spacing})/2,marginLeft:gB(r,u),flexBasis:EP(c,u),flexShrink:0,width:c==="content"?"auto":void 0,maxWidth:pB(c,u,n)},sce({sizes:{xs:f,sm:d,md:h,lg:p,xl:g},offsets:{xs:i,sm:o,md:s,lg:a,xl:l},orders:{xs:m,sm:y,md:w,lg:b,xl:$},theme:e,columns:u,grow:n}))}));const lce=ace;var uce=Object.defineProperty,Mv=Object.getOwnPropertySymbols,yB=Object.prototype.hasOwnProperty,vB=Object.prototype.propertyIsEnumerable,KR=(e,t,n)=>t in e?uce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cce=(e,t)=>{for(var n in t||(t={}))yB.call(t,n)&&KR(e,n,t[n]);if(Mv)for(var n of Mv(t))vB.call(t,n)&&KR(e,n,t[n]);return e},fce=(e,t)=>{var n={};for(var r in e)yB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Mv)for(var r of Mv(e))t.indexOf(r)<0&&vB.call(e,r)&&(n[r]=e[r]);return n};const dce={};function hce(e){return e==="auto"||e==="content"?!0:typeof e=="number"&&e>0&&e%1===0}const wB=S.forwardRef((e,t)=>{const n=Ke("Grid.Col",dce,e),{children:r,span:i,offset:o,offsetXs:s,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:v,orderXs:m,orderSm:y,orderMd:w,orderLg:b,orderXl:$,className:_,id:E,unstyled:C}=n,N=fce(n,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","id","unstyled"]),L=tce();if(!L)throw new Error("[@mantine/core] Grid.Col was used outside of Grid context");const M=i||L.columns,{classes:B,cx:F}=lce({gutter:L.gutter,offset:o,offsetXs:s,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:f,sm:d,md:h,lg:p,xl:g,order:v,orderXs:m,orderSm:y,orderMd:w,orderLg:b,orderXl:$,grow:L.grow,columns:L.columns,span:M},{unstyled:C,name:"Col"});return!hce(M)||M>L.columns?null:x(We,{...cce({className:F(B.root,_),ref:t},N),children:r})});wB.displayName="@mantine/core/Col";var pce=qe((e,{justify:t,align:n,gutter:r})=>({root:{margin:-e.fn.size({size:r,sizes:e.spacing})/2,display:"flex",flexWrap:"wrap",justifyContent:t,alignItems:n}}));const mce=pce;var gce=Object.defineProperty,Lv=Object.getOwnPropertySymbols,_B=Object.prototype.hasOwnProperty,bB=Object.prototype.propertyIsEnumerable,GR=(e,t,n)=>t in e?gce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yce=(e,t)=>{for(var n in t||(t={}))_B.call(t,n)&&GR(e,n,t[n]);if(Lv)for(var n of Lv(t))bB.call(t,n)&&GR(e,n,t[n]);return e},vce=(e,t)=>{var n={};for(var r in e)_B.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Lv)for(var r of Lv(e))t.indexOf(r)<0&&bB.call(e,r)&&(n[r]=e[r]);return n};const wce={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Gu=S.forwardRef((e,t)=>{const n=Ke("Grid",wce,e),{gutter:r,children:i,grow:o,justify:s,align:a,columns:l,className:u,id:c,unstyled:f}=n,d=vce(n,["gutter","children","grow","justify","align","columns","className","id","unstyled"]),{classes:h,cx:p}=mce({gutter:r,justify:s,align:a},{unstyled:f,name:"Grid"});return x(ece,{value:{gutter:r,grow:o,columns:l},children:x(We,{...yce({className:p(h.root,u),ref:t},d),children:i})})});Gu.Col=wB;Gu.displayName="@mantine/core/Grid";var _ce=Object.defineProperty,YR=Object.getOwnPropertySymbols,bce=Object.prototype.hasOwnProperty,Sce=Object.prototype.propertyIsEnumerable,QR=(e,t,n)=>t in e?_ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$ce=(e,t)=>{for(var n in t||(t={}))bce.call(t,n)&&QR(e,n,t[n]);if(YR)for(var n of YR(t))Sce.call(t,n)&&QR(e,n,t[n]);return e};function Ece(e){return x("svg",{...$ce({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),children:x("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var xce=Object.defineProperty,Oce=Object.defineProperties,Pce=Object.getOwnPropertyDescriptors,XR=Object.getOwnPropertySymbols,Cce=Object.prototype.hasOwnProperty,Ice=Object.prototype.propertyIsEnumerable,JR=(e,t,n)=>t in e?xce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZR=(e,t)=>{for(var n in t||(t={}))Cce.call(t,n)&&JR(e,n,t[n]);if(XR)for(var n of XR(t))Ice.call(t,n)&&JR(e,n,t[n]);return e},eD=(e,t)=>Oce(e,Pce(t)),kce=qe((e,{radius:t})=>({root:{},imageWrapper:{position:"relative"},figure:{margin:0},image:eD(ZR({},e.fn.fontStyles()),{display:"block",width:"100%",height:"100%",border:0,borderRadius:e.fn.size({size:t,sizes:e.radius})}),caption:{color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],marginTop:e.spacing.xs},placeholder:eD(ZR({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],borderRadius:e.fn.size({size:t,sizes:e.radius})})}));const Tce=kce;var Ace=Object.defineProperty,jv=Object.getOwnPropertySymbols,SB=Object.prototype.hasOwnProperty,$B=Object.prototype.propertyIsEnumerable,tD=(e,t,n)=>t in e?Ace(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C1=(e,t)=>{for(var n in t||(t={}))SB.call(t,n)&&tD(e,n,t[n]);if(jv)for(var n of jv(t))$B.call(t,n)&&tD(e,n,t[n]);return e},Nce=(e,t)=>{var n={};for(var r in e)SB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jv)for(var r of jv(e))t.indexOf(r)<0&&$B.call(e,r)&&(n[r]=e[r]);return n};const Rce={fit:"cover",width:"100%",height:"auto",radius:0},Sp=S.forwardRef((e,t)=>{const n=Ke("Image",Rce,e),{className:r,alt:i,src:o,fit:s,width:a,height:l,radius:u,imageProps:c,withPlaceholder:f,placeholder:d,imageRef:h,classNames:p,styles:g,caption:v,unstyled:m,style:y}=n,w=Nce(n,["className","alt","src","fit","width","height","radius","imageProps","withPlaceholder","placeholder","imageRef","classNames","styles","caption","unstyled","style"]),{classes:b,cx:$}=Tce({radius:u},{classNames:p,styles:g,unstyled:m,name:"Image"}),[_,E]=S.useState(!o),C=f&&_;return Bi(()=>{E(!1)},[o]),x(We,{...C1({className:$(b.root,r),ref:t,style:C1({width:a},y)},w),children:he("figure",{className:b.figure,children:[he("div",{className:b.imageWrapper,children:[x("img",{...C1({className:b.image,src:o,alt:i,style:{objectFit:s,width:a,height:l},ref:h,onError:N=>{E(!0),typeof(c==null?void 0:c.onError)=="function"&&c.onError(N)}},c)}),C&&x("div",{className:b.placeholder,title:i,children:d||x("div",{children:x(Ece,{style:{width:40,height:40}})})})]}),!!v&&x(wt,{component:"figcaption",size:"sm",align:"center",className:b.caption,children:v})]})})});Sp.displayName="@mantine/core/Image";function Dce(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Mce=S.useLayoutEffect,Lce=function(t){var n=S.useRef(t);return Mce(function(){n.current=t}),n},nD=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},jce=function(t,n){var r=S.useRef();return S.useCallback(function(i){t.current=i,r.current&&nD(r.current,null),r.current=n,n&&nD(n,i)},[n])},rD={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},iD=function(t){Object.keys(rD).forEach(function(n){t.style.setProperty(n,rD[n],"important")})},ci=null,zce=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Fce(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),ci||(ci=document.createElement("textarea"),ci.setAttribute("tabindex","-1"),ci.setAttribute("aria-hidden","true"),iD(ci)),ci.parentNode===null&&document.body.appendChild(ci);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(d){var h=d;ci.style[h]=s[h]}),iD(ci),ci.value=t;var l=zce(ci,e);ci.value="x";var u=ci.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var f=u*r;return a==="border-box"&&(f=f+i+o),l=Math.min(f,l),[l,u]}var oD=function(){},Vce=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},Bce=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Uce=!!document.documentElement.currentStyle,Hce=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Vce(Bce,n),i=r.boxSizing;if(i==="")return null;Uce&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},qce=function(t){var n=Lce(t);S.useLayoutEffect(function(){var r=function(o){n.current(o)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}},[])},Wce=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?oD:s,l=t.onHeightChange,u=l===void 0?oD:l,c=Dce(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),f=c.value!==void 0,d=S.useRef(null),h=jce(d,n),p=S.useRef(0),g=S.useRef(),v=function(){var w=d.current,b=r&&g.current?g.current:Hce(w);if(b){g.current=b;var $=Fce(b,w.value||w.placeholder||"x",o,i),_=$[0],E=$[1];p.current!==_&&(p.current=_,w.style.setProperty("height",_+"px","important"),u(_,{rowHeight:E}))}},m=function(w){f||v(),a(w)};return S.useLayoutEffect(v),qce(v),S.createElement("textarea",an({},c,{onChange:m,ref:h}))},Kce=S.forwardRef(Wce);const Gce=Kce;var Yce=qe(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}}));const Qce=Yce;var Xce=Object.defineProperty,Jce=Object.defineProperties,Zce=Object.getOwnPropertyDescriptors,zv=Object.getOwnPropertySymbols,EB=Object.prototype.hasOwnProperty,xB=Object.prototype.propertyIsEnumerable,sD=(e,t,n)=>t in e?Xce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eu=(e,t)=>{for(var n in t||(t={}))EB.call(t,n)&&sD(e,n,t[n]);if(zv)for(var n of zv(t))xB.call(t,n)&&sD(e,n,t[n]);return e},I1=(e,t)=>Jce(e,Zce(t)),efe=(e,t)=>{var n={};for(var r in e)EB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zv)for(var r of zv(e))t.indexOf(r)<0&&xB.call(e,r)&&(n[r]=e[r]);return n};const tfe={autosize:!1,size:"sm",__staticSelector:"Textarea"},OB=S.forwardRef((e,t)=>{const n=Ke("Textarea",tfe,e),{autosize:r,maxRows:i,minRows:o,label:s,error:a,description:l,id:u,className:c,required:f,style:d,wrapperProps:h,classNames:p,styles:g,size:v,__staticSelector:m,sx:y,errorProps:w,descriptionProps:b,labelProps:$,inputWrapperOrder:_,inputContainer:E,unstyled:C,withAsterisk:N}=n,L=efe(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),M=Ba(u),{classes:B,cx:F}=Qce(),{systemStyles:R,rest:J}=hu(L),re=Eu({required:f,ref:t,invalid:!!a,id:M,classNames:I1(Eu({},p),{input:F(B.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:v,multiline:!0,unstyled:C},J);return x(vi.Wrapper,{...Eu(Eu({label:s,error:a,id:M,description:l,required:f,style:d,className:c,classNames:p,styles:g,size:v,__staticSelector:m,sx:y,errorProps:w,labelProps:$,descriptionProps:b,inputContainer:E,inputWrapperOrder:_,unstyled:C,withAsterisk:N},R),h),children:r?x(vi,{...I1(Eu({},re),{component:Gce,maxRows:i,minRows:o})}):x(vi,{...I1(Eu({},re),{component:"textarea",rows:o})})})});OB.displayName="@mantine/core/Textarea";const PB=S.createContext(null);function nfe(){return S.useContext(PB)||{}}var rfe=qe((e,{spacing:t,center:n},r)=>({itemWrapper:{ref:r("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:n?1:e.lineHeight,"&:not(:first-of-type)":{marginTop:e.fn.size({size:t,sizes:e.spacing})}},withIcon:{listStyle:"none",[`& .${r("itemWrapper")}`]:{display:"inline-flex",alignItems:n?"center":"flex-start",flexDirection:"row"}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:e.spacing.sm}}));const ife=rfe;var ofe=Object.defineProperty,Fv=Object.getOwnPropertySymbols,CB=Object.prototype.hasOwnProperty,IB=Object.prototype.propertyIsEnumerable,aD=(e,t,n)=>t in e?ofe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sfe=(e,t)=>{for(var n in t||(t={}))CB.call(t,n)&&aD(e,n,t[n]);if(Fv)for(var n of Fv(t))IB.call(t,n)&&aD(e,n,t[n]);return e},afe=(e,t)=>{var n={};for(var r in e)CB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fv)for(var r of Fv(e))t.indexOf(r)<0&&IB.call(e,r)&&(n[r]=e[r]);return n};function kB(e){var t=e,{className:n,children:r,icon:i}=t,o=afe(t,["className","children","icon"]);const{icon:s,spacing:a,center:l,listStyleType:u,size:c,withPadding:f}=nfe(),{classNames:d,styles:h,unstyled:p}=J3(),g=i||s,{classes:v,cx:m}=ife({withPadding:f,size:c,listStyleType:u,center:l,spacing:a},{classNames:d,styles:h,unstyled:p,name:"List"});return x(We,{...sfe({component:"li",className:m(v.item,{[v.withIcon]:g},n)},o),children:he("div",{className:v.itemWrapper,children:[g&&x("span",{className:v.itemIcon,children:g}),x("span",{children:r})]})})}kB.displayName="@mantine/core/ListItem";var lfe=Object.defineProperty,ufe=Object.defineProperties,cfe=Object.getOwnPropertyDescriptors,lD=Object.getOwnPropertySymbols,ffe=Object.prototype.hasOwnProperty,dfe=Object.prototype.propertyIsEnumerable,uD=(e,t,n)=>t in e?lfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hfe=(e,t)=>{for(var n in t||(t={}))ffe.call(t,n)&&uD(e,n,t[n]);if(lD)for(var n of lD(t))dfe.call(t,n)&&uD(e,n,t[n]);return e},pfe=(e,t)=>ufe(e,cfe(t)),mfe=qe((e,{withPadding:t,size:n,listStyleType:r})=>({root:pfe(hfe({},e.fn.fontStyles()),{listStyleType:r,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:e.lineHeight,margin:0,paddingLeft:t?e.spacing.xl:0,listStylePosition:"inside"})}));const gfe=mfe;var yfe=Object.defineProperty,Vv=Object.getOwnPropertySymbols,TB=Object.prototype.hasOwnProperty,AB=Object.prototype.propertyIsEnumerable,cD=(e,t,n)=>t in e?yfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vfe=(e,t)=>{for(var n in t||(t={}))TB.call(t,n)&&cD(e,n,t[n]);if(Vv)for(var n of Vv(t))AB.call(t,n)&&cD(e,n,t[n]);return e},wfe=(e,t)=>{var n={};for(var r in e)TB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Vv)for(var r of Vv(e))t.indexOf(r)<0&&AB.call(e,r)&&(n[r]=e[r]);return n};const _fe={type:"unordered",size:"md",spacing:0},Dc=S.forwardRef((e,t)=>{const n=Ke("List",_fe,e),{children:r,type:i,size:o,listStyleType:s,withPadding:a,center:l,spacing:u,icon:c,className:f,styles:d,classNames:h,unstyled:p}=n,g=wfe(n,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled"]),{classes:v,cx:m}=gfe({withPadding:a,size:o,listStyleType:s,center:l,spacing:u},{classNames:h,styles:d,name:"List",unstyled:p});return x(X3,{classNames:h,styles:d,unstyled:p,children:x(PB.Provider,{value:{spacing:u,center:l,icon:c,listStyleType:s,size:o,withPadding:a},children:x(We,{...vfe({component:i==="unordered"?"ul":"ol",className:m(v.root,f),ref:t},g),children:r})})})});Dc.Item=kB;Dc.displayName="@mantine/core/List";var bfe=Object.defineProperty,fD=Object.getOwnPropertySymbols,Sfe=Object.prototype.hasOwnProperty,$fe=Object.prototype.propertyIsEnumerable,dD=(e,t,n)=>t in e?bfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Efe=(e,t)=>{for(var n in t||(t={}))Sfe.call(t,n)&&dD(e,n,t[n]);if(fD)for(var n of fD(t))$fe.call(t,n)&&dD(e,n,t[n]);return e};const xfe={xs:320,sm:380,md:440,lg:620,xl:780};function Ofe(e){return e?{position:"absolute",top:0,left:0,right:0,bottom:0,maxHeight:"100vh",overflowY:"auto"}:{}}var Pfe=qe((e,{overflow:t,size:n,centered:r,zIndex:i,fullScreen:o})=>({close:{},overlay:{display:o?"none":void 0},root:{position:"fixed",zIndex:i,top:0,left:0,right:0,bottom:0},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",padding:o?0:`${e.spacing.xl*2}px ${e.spacing.md}px`,display:"flex",justifyContent:"center",alignItems:r?"center":"flex-start"},title:{marginRight:e.spacing.md,textOverflow:"ellipsis",display:"block",wordBreak:"break-word"},modal:Efe({position:"relative",width:o?"100vw":e.fn.size({sizes:xfe,size:n}),borderRadius:o?0:void 0,outline:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,marginTop:r?"auto":void 0,marginBottom:r?"auto":void 0,zIndex:1},Ofe(o)),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing.md,marginRight:-9},body:{maxHeight:t==="inside"?"calc(100vh - 185px)":null,overflowY:t==="inside"?"auto":null,wordBreak:"break-word"}}));const Cfe=Pfe;var Ife=Object.defineProperty,Bv=Object.getOwnPropertySymbols,NB=Object.prototype.hasOwnProperty,RB=Object.prototype.propertyIsEnumerable,hD=(e,t,n)=>t in e?Ife(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kfe=(e,t)=>{for(var n in t||(t={}))NB.call(t,n)&&hD(e,n,t[n]);if(Bv)for(var n of Bv(t))RB.call(t,n)&&hD(e,n,t[n]);return e},Tfe=(e,t)=>{var n={};for(var r in e)NB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Bv)for(var r of Bv(e))t.indexOf(r)<0&&RB.call(e,r)&&(n[r]=e[r]);return n};const Afe={size:"md",transitionDuration:250,overflow:"outside",padding:"lg",shadow:"lg",closeOnClickOutside:!0,closeOnEscape:!0,trapFocus:!0,withCloseButton:!0,withinPortal:!0,lockScroll:!0,withFocusReturn:!0,overlayBlur:0,zIndex:Ii("modal"),exitTransitionDuration:0};function e_(e){const t=Ke("Modal",Afe,e),{className:n,opened:r,title:i,onClose:o,children:s,withCloseButton:a,overlayOpacity:l,size:u,transitionDuration:c,exitTransitionDuration:f,closeButtonLabel:d,overlayColor:h,overflow:p,transition:g,padding:v,shadow:m,radius:y,id:w,classNames:b,styles:$,closeOnClickOutside:_,trapFocus:E,closeOnEscape:C,centered:N,target:L,withinPortal:M,zIndex:B,overlayBlur:F,transitionTimingFunction:R,fullScreen:J,unstyled:re,lockScroll:ie,withFocusReturn:G}=t,Q=Tfe(t,["className","opened","title","onClose","children","withCloseButton","overlayOpacity","size","transitionDuration","exitTransitionDuration","closeButtonLabel","overlayColor","overflow","transition","padding","shadow","radius","id","classNames","styles","closeOnClickOutside","trapFocus","closeOnEscape","centered","target","withinPortal","zIndex","overlayBlur","transitionTimingFunction","fullScreen","unstyled","lockScroll","withFocusReturn"]),q=Ba(w),O=`${q}-title`,P=`${q}-body`,{classes:z,cx:I,theme:k}=Cfe({size:u,overflow:p,centered:N,zIndex:B,fullScreen:J},{unstyled:re,classNames:b,styles:$,name:"Modal"}),V=s4(E&&r),Z=S.useRef(null),oe=ks(V,Z),be=typeof l=="number"?l:k.colorScheme==="dark"?.85:.75;_te(ie&&r);const ce=_t=>{!E&&_t.key==="Escape"&&C&&o()};S.useEffect(()=>{if(!E)return window.addEventListener("keydown",ce),()=>window.removeEventListener("keydown",ce)},[E]),n4({opened:r,shouldReturnFocus:E&&G});const xe=S.useRef(null);U$("mousedown",_t=>{xe.current=_t.target});const Ue=()=>{xe.current===Z.current&&_&&o()};return x(vp,{withinPortal:M,target:L,children:x(aB,{mounted:r,duration:c,exitDuration:f,timingFunction:R,transitions:{modal:{duration:c,transition:g||(J?"fade":"pop")},overlay:{duration:c/2,transition:"fade",timingFunction:"ease"}},children:_t=>x(tn,{children:he(We,{...kfe({id:q,className:I(z.root,n)},Q),children:[x("div",{style:_t.overlay,children:x(que,{className:z.overlay,sx:{position:"fixed"},zIndex:0,blur:F,color:h||(k.colorScheme==="dark"?k.colors.dark[9]:k.black),opacity:be,unstyled:re})}),x("div",{role:"presentation",className:z.inner,onClick:Ue,onKeyDown:Ft=>{var Qe;((Qe=Ft.target)==null?void 0:Qe.getAttribute("data-mantine-stop-propagation"))!=="true"&&Ft.key==="Escape"&&C&&o()},ref:oe,children:he(zd,{className:z.modal,shadow:m,p:v,radius:y,role:"dialog","aria-labelledby":O,"aria-describedby":P,"aria-modal":!0,tabIndex:-1,style:_t.modal,unstyled:re,onClick:Ft=>Ft.stopPropagation(),children:[(i||a)&&he("div",{className:z.header,children:[x(wt,{id:O,className:z.title,children:i}),a&&x(oP,{iconSize:16,onClick:o,"aria-label":d,className:z.close})]}),x("div",{id:P,className:z.body,children:s})]})})]})})})})}e_.displayName="@mantine/core/Modal";const Nfe={xs:16,sm:22,md:26,lg:30,xl:36},Rfe={xs:10,sm:12,md:14,lg:16,xl:18};var Dfe=qe((e,{size:t,disabled:n,radius:r,readOnly:i,variant:o})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:n?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:o==="filled"?e.white:e.colors.gray[1],color:n?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:e.fn.size({size:t,sizes:Nfe}),paddingLeft:e.fn.size({size:t,sizes:e.spacing}),paddingRight:n||i?e.fn.size({size:t,sizes:e.spacing}):0,fontWeight:500,fontSize:e.fn.size({size:t,sizes:Rfe}),borderRadius:e.fn.size({size:r,sizes:e.radius}),cursor:n?"not-allowed":"default",userSelect:"none",maxWidth:"calc(100% - 20px)"},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:e.fn.size({size:t,sizes:e.spacing})/6},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const Mfe=Dfe;var Lfe=Object.defineProperty,Uv=Object.getOwnPropertySymbols,DB=Object.prototype.hasOwnProperty,MB=Object.prototype.propertyIsEnumerable,pD=(e,t,n)=>t in e?Lfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jfe=(e,t)=>{for(var n in t||(t={}))DB.call(t,n)&&pD(e,n,t[n]);if(Uv)for(var n of Uv(t))MB.call(t,n)&&pD(e,n,t[n]);return e},zfe=(e,t)=>{var n={};for(var r in e)DB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Uv)for(var r of Uv(e))t.indexOf(r)<0&&MB.call(e,r)&&(n[r]=e[r]);return n};const mD={xs:16,sm:22,md:24,lg:26,xl:30};function LB(e){var t=e,{label:n,classNames:r,styles:i,className:o,onRemove:s,disabled:a,readOnly:l,size:u,radius:c="sm",variant:f}=t,d=zfe(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant"]);const{classes:h,cx:p}=Mfe({size:u,disabled:a,readOnly:l,radius:c,variant:f},{classNames:r,styles:i,name:"MultiSelect"});return he("div",{...jfe({className:p(h.defaultValue,o)},d),children:[x("span",{className:h.defaultValueLabel,children:n}),!a&&!l&&x(oP,{"aria-hidden":!0,onMouseDown:s,size:mD[u],radius:2,color:"blue",variant:"transparent",iconSize:mD[u]/2,className:h.defaultValueRemove,tabIndex:-1})]})}LB.displayName="@mantine/core/MultiSelect/DefaultValue";function Ffe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:o}){if(!t&&o.length===0)return e;if(!t){const a=[];for(let l=0;l<e.length;l+=1)o.some(u=>u===e[l].value&&!e[l].disabled)||a.push(e[l]);return a}const s=[];for(let a=0;a<e.length&&(i(r,o.some(l=>l===e[a].value&&!e[a].disabled),e[a])&&s.push(e[a]),!(s.length>=n));a+=1);return s}var Vfe=Object.defineProperty,Hv=Object.getOwnPropertySymbols,jB=Object.prototype.hasOwnProperty,zB=Object.prototype.propertyIsEnumerable,gD=(e,t,n)=>t in e?Vfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yD=(e,t)=>{for(var n in t||(t={}))jB.call(t,n)&&gD(e,n,t[n]);if(Hv)for(var n of Hv(t))zB.call(t,n)&&gD(e,n,t[n]);return e},Bfe=(e,t)=>{var n={};for(var r in e)jB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hv)for(var r of Hv(e))t.indexOf(r)<0&&zB.call(e,r)&&(n[r]=e[r]);return n};const Ufe={xs:14,sm:18,md:20,lg:24,xl:28};function Hfe(e){var t=e,{size:n,error:r,style:i}=t,o=Bfe(t,["size","error","style"]);const s=ui(),a=s.fn.size({size:n,sizes:Ufe});return x("svg",{...yD({width:a,height:a,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:yD({color:r?s.colors.red[6]:s.colors.gray[6]},i),"data-chevron":!0},o),children:x("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function FB({shouldClear:e,clearButtonLabel:t,onClear:n,size:r,error:i,clearButtonTabIndex:o}){return e?x(oP,{variant:"transparent","aria-label":t,onClick:n,size:r,tabIndex:o,onMouseDown:s=>s.preventDefault()}):x(Hfe,{error:i,size:r})}FB.displayName="@mantine/core/SelectRightSection";var qfe=Object.defineProperty,Wfe=Object.defineProperties,Kfe=Object.getOwnPropertyDescriptors,qv=Object.getOwnPropertySymbols,VB=Object.prototype.hasOwnProperty,BB=Object.prototype.propertyIsEnumerable,vD=(e,t,n)=>t in e?qfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k1=(e,t)=>{for(var n in t||(t={}))VB.call(t,n)&&vD(e,n,t[n]);if(qv)for(var n of qv(t))BB.call(t,n)&&vD(e,n,t[n]);return e},wD=(e,t)=>Wfe(e,Kfe(t)),Gfe=(e,t)=>{var n={};for(var r in e)VB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qv)for(var r of qv(e))t.indexOf(r)<0&&BB.call(e,r)&&(n[r]=e[r]);return n};const Yfe={xs:24,sm:30,md:34,lg:44,xl:54};function UB(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:i,theme:o}=t,s=Gfe(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:i,styles:n};const a=typeof n=="function"?n(o):n;return{rightSectionWidth:o.fn.size({size:s.size,sizes:Yfe}),rightSection:!s.readOnly&&!(s.disabled&&s.shouldClear)&&x(FB,{...k1({},s)}),styles:wD(k1({},a),{rightSection:wD(k1({},a==null?void 0:a.rightSection),{pointerEvents:s.shouldClear?void 0:"none"})})}}var Qfe=Object.defineProperty,Xfe=Object.defineProperties,Jfe=Object.getOwnPropertyDescriptors,_D=Object.getOwnPropertySymbols,Zfe=Object.prototype.hasOwnProperty,ede=Object.prototype.propertyIsEnumerable,bD=(e,t,n)=>t in e?Qfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tde=(e,t)=>{for(var n in t||(t={}))Zfe.call(t,n)&&bD(e,n,t[n]);if(_D)for(var n of _D(t))ede.call(t,n)&&bD(e,n,t[n]);return e},nde=(e,t)=>Xfe(e,Jfe(t)),rde=qe((e,{size:t,invalid:n})=>({wrapper:{position:"relative"},values:{minHeight:e.fn.size({size:t,sizes:Gr})-2,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(${-e.spacing.xs}px / 2)`,boxSizing:"border-box"},value:{margin:`calc(${e.spacing.xs}px / 2 - 2px) calc(${e.spacing.xs}px / 2)`},searchInput:nde(tde({},e.fn.fontStyles()),{flex:1,minWidth:60,backgroundColor:"transparent",border:0,outline:0,fontSize:e.fn.size({size:t,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs}px / 2)`,appearance:"none",color:"inherit",lineHeight:`${e.fn.size({size:t,sizes:Gr})-2}px`,"&::placeholder":{opacity:1,color:n?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{width:0,height:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed"}}}));const ide=rde;var ode=Object.defineProperty,sde=Object.defineProperties,ade=Object.getOwnPropertyDescriptors,Wv=Object.getOwnPropertySymbols,HB=Object.prototype.hasOwnProperty,qB=Object.prototype.propertyIsEnumerable,SD=(e,t,n)=>t in e?ode(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xu=(e,t)=>{for(var n in t||(t={}))HB.call(t,n)&&SD(e,n,t[n]);if(Wv)for(var n of Wv(t))qB.call(t,n)&&SD(e,n,t[n]);return e},$D=(e,t)=>sde(e,ade(t)),lde=(e,t)=>{var n={};for(var r in e)HB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Wv)for(var r of Wv(e))t.indexOf(r)<0&&qB.call(e,r)&&(n[r]=e[r]);return n};function ude(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function cde(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function ED(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=typeof t[0]=="object"?t.map(r=>r.value):t;return e.filter(r=>n.includes(r))}const fde={size:"sm",valueComponent:LB,itemComponent:lP,transition:"pop-top-left",transitionDuration:0,maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:ude,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:cde,switchDirectionOnFlip:!1,zIndex:Ii("popover"),selectOnBlur:!1,clearButtonTabIndex:0,positionDependencies:[]},WB=S.forwardRef((e,t)=>{const n=Ke("MultiSelect",fde,e),{className:r,style:i,required:o,label:s,description:a,size:l,error:u,classNames:c,styles:f,wrapperProps:d,value:h,defaultValue:p,data:g,onChange:v,valueComponent:m,itemComponent:y,id:w,transition:b,transitionDuration:$,transitionTimingFunction:_,maxDropdownHeight:E,shadow:C,nothingFound:N,onFocus:L,onBlur:M,searchable:B,placeholder:F,filter:R,limit:J,clearSearchOnChange:re,clearable:ie,clearSearchOnBlur:G,clearButtonLabel:Q,variant:q,onSearchChange:O,searchValue:P,disabled:z,initiallyOpened:I,radius:k,icon:V,rightSection:Z,rightSectionWidth:oe,creatable:be,getCreateLabel:ce,shouldCreate:xe,onCreate:Ue,sx:_t,dropdownComponent:Ft,onDropdownClose:Qe,onDropdownOpen:Le,maxSelectedValues:rt,withinPortal:Xe,switchDirectionOnFlip:nn,zIndex:Kt,selectOnBlur:yt,name:bt,dropdownPosition:Ge,errorProps:at,labelProps:Ct,descriptionProps:Pt,clearButtonTabIndex:ln,form:X,positionDependencies:ue,onKeyDown:$e,unstyled:ze,inputContainer:_e,inputWrapperOrder:Fe,readOnly:Ee,withAsterisk:Me}=n,un=lde(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transition","transitionDuration","transitionTimingFunction","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","clearButtonLabel","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","clearButtonTabIndex","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk"]),{classes:St,cx:it,theme:rn}=ide({size:l,invalid:!!u},{classNames:c,styles:f,unstyled:ze,name:"MultiSelect"}),{systemStyles:Rt,rest:Ds}=hu(un),nr=S.useRef(),Vr=S.useRef(),Br=S.useRef({}),Hn=Ba(w),[Sn,Gt]=S.useState(I),[$t,mr]=S.useState(-1),[ki,qn]=S.useState("column"),[kr,Ti]=Oa({value:P,defaultValue:"",finalValue:void 0,onChange:O}),[U,D]=S.useState(!1),{scrollIntoView:H,targetRef:ne,scrollableRef:te}=u4({duration:0,offset:5,cancelable:!1,isList:!0}),Ce=be&&typeof ce=="function";let le=null;const Pe=g.map(ke=>typeof ke=="string"?{label:ke,value:ke}:ke),Je=x3({data:Pe}),[Re,Ze]=Oa({value:ED(h,g),defaultValue:ED(p,g),finalValue:[],onChange:v}),lt=S.useRef(!!rt&&rt<Re.length),qt=ke=>{if(!Ee){const pt=Re.filter(cn=>cn!==ke);Ze(pt),rt&&pt.length<rt&&(lt.current=!1)}},He=ke=>{Ti(ke.currentTarget.value),!z&&!lt.current&&B&&Gt(!0)},Vt=ke=>{typeof L=="function"&&L(ke),!z&&!lt.current&&B&&Gt(!0)},st=Ffe({data:Je,searchable:B,searchValue:kr,limit:J,filter:R,value:Re}),kt=(ke,pt,cn)=>{let gr=ke;for(;cn(gr);)if(gr=pt(gr),!st[gr].disabled)return gr;return ke};Bi(()=>{mr(-1)},[kr]),Bi(()=>{!z&&Re.length>g.length&&Gt(!1),rt&&Re.length<rt&&(lt.current=!1),rt&&Re.length>=rt&&(lt.current=!0,Gt(!1))},[Re]);const Mn=ke=>{if(!Ee)if(re&&Ti(""),Re.includes(ke.value))qt(ke.value);else{if(ke.creatable&&typeof Ue=="function"){const pt=Ue(ke.value);typeof pt<"u"&&pt!==null&&Ze(typeof pt=="string"?[...Re,pt]:[...Re,pt.value])}else Ze([...Re,ke.value]);Re.length===rt-1&&(lt.current=!0,Gt(!1)),$t===st.length-1&&mr(st.length-2),st.length===1&&Gt(!1)}},Tr=ke=>{typeof M=="function"&&M(ke),yt&&st[$t]&&Sn&&Mn(st[$t]),G&&Ti(""),Gt(!1)},Ln=ke=>{if(U||($e==null||$e(ke),Ee)||ke.key!=="Backspace"&&rt&&lt.current)return;const pt=ki==="column",cn=()=>{mr(Ai=>{var T;const j=kt(Ai,A=>A+1,A=>A<st.length-1);return Sn&&(ne.current=Br.current[(T=st[j])==null?void 0:T.value],H({alignment:pt?"end":"start"})),j})},gr=()=>{mr(Ai=>{var T;const j=kt(Ai,A=>A-1,A=>A>0);return Sn&&(ne.current=Br.current[(T=st[j])==null?void 0:T.value],H({alignment:pt?"start":"end"})),j})};switch(ke.key){case"ArrowUp":{ke.preventDefault(),Gt(!0),pt?gr():cn();break}case"ArrowDown":{ke.preventDefault(),Gt(!0),pt?cn():gr();break}case"Enter":{ke.preventDefault(),st[$t]&&Sn?Mn(st[$t]):Gt(!0);break}case" ":{B||(ke.preventDefault(),st[$t]&&Sn?Mn(st[$t]):Gt(!0));break}case"Backspace":{Re.length>0&&kr.length===0&&(Ze(Re.slice(0,-1)),Gt(!0),rt&&(lt.current=!1));break}case"Home":{if(!B){ke.preventDefault(),Sn||Gt(!0);const Ai=st.findIndex(T=>!T.disabled);mr(Ai),H({alignment:pt?"end":"start"})}break}case"End":{if(!B){ke.preventDefault(),Sn||Gt(!0);const Ai=st.map(T=>!!T.disabled).lastIndexOf(!1);mr(Ai),H({alignment:pt?"end":"start"})}break}case"Escape":Gt(!1)}},bo=Re.map(ke=>{let pt=Je.find(cn=>cn.value===ke&&!cn.disabled);return!pt&&Ce&&(pt={value:ke,label:ke}),pt}).filter(ke=>!!ke).map(ke=>x(m,{...$D(xu({},ke),{variant:q,disabled:z,className:St.value,readOnly:Ee,onRemove:pt=>{pt.preventDefault(),pt.stopPropagation(),qt(ke.value)},key:ke.value,size:l,styles:f,classNames:c,radius:k})})),Ur=()=>{var ke;Ti(""),Ze([]),(ke=nr.current)==null||ke.focus(),rt&&(lt.current=!1)};Ce&&xe(kr,Je)&&(le=ce(kr),st.push({label:kr,value:kr,creatable:!0}));const $n=!Ee&&(st.length>0?Sn:Sn&&!!N);return Bi(()=>{const ke=$n?Le:Qe;typeof ke=="function"&&ke()},[$n]),x(vi.Wrapper,{...xu(xu({required:o,id:Hn,label:s,error:u,description:a,size:l,className:r,style:i,classNames:c,styles:f,__staticSelector:"MultiSelect",sx:_t,errorProps:at,descriptionProps:Pt,labelProps:Ct,inputContainer:_e,inputWrapperOrder:Fe,unstyled:ze,withAsterisk:Me},Rt),d),children:he(va,{opened:$n,transition:b,transitionDuration:$,shadow:"sm",withinPortal:Xe,__staticSelector:"MultiSelect",onDirectionChange:qn,switchDirectionOnFlip:nn,zIndex:Kt,dropdownPosition:Ge,positionDependencies:ue,classNames:c,styles:f,unstyled:ze,children:[x(va.Target,{children:he("div",{className:St.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":Sn&&$n?`${Hn}-items`:null,"aria-controls":Hn,"aria-expanded":Sn,onMouseLeave:()=>mr(-1),tabIndex:-1,ref:Vr,children:[x("input",{type:"hidden",name:bt,value:Re.join(","),form:X,disabled:z}),x(vi,{...xu({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:l,variant:q,disabled:z,invalid:!!u,required:o,radius:k,icon:V,unstyled:ze,onMouseDown:ke=>{var pt;ke.preventDefault(),!z&&!lt.current&&Gt(!Sn),(pt=nr.current)==null||pt.focus()},classNames:$D(xu({},c),{input:it({[St.input]:!B},c==null?void 0:c.input)})},UB({theme:rn,rightSection:Z,rightSectionWidth:oe,styles:f,size:l,shouldClear:ie&&Re.length>0,clearButtonLabel:Q,onClear:Ur,error:u,disabled:z,clearButtonTabIndex:ln,readOnly:Ee})),children:he("div",{className:St.values,children:[bo,x("input",{...xu({ref:ks(t,nr),type:"search",id:Hn,className:it(St.searchInput,{[St.searchInputPointer]:!B,[St.searchInputInputHidden]:!Sn&&Re.length>0||!B&&Re.length>0,[St.searchInputEmpty]:Re.length===0}),onKeyDown:Ln,value:kr,onChange:He,onFocus:Vt,onBlur:Tr,readOnly:!B||lt.current||Ee,placeholder:Re.length===0?F:void 0,disabled:z,"data-mantine-stop-propagation":Sn,autoComplete:"off",onCompositionStart:()=>D(!0),onCompositionEnd:()=>D(!1)},Ds)})]})})]})}),x(va.Dropdown,{component:Ft||Qw,maxHeight:E,direction:ki,id:Hn,innerRef:te,__staticSelector:"MultiSelect",classNames:c,styles:f,children:x(aP,{data:st,hovered:$t,classNames:c,styles:f,uuid:Hn,__staticSelector:"MultiSelect",onItemHover:mr,onItemSelect:Mn,itemsRefs:Br,itemComponent:y,size:l,nothingFound:N,creatable:be&&!!le,createLabel:le,unstyled:ze})})]})})});WB.displayName="@mantine/core/MultiSelect";const dde=(e,t,n)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?n==="ios"?"text":"decimal":"numeric";function xD({direction:e,size:t}){return x("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:t,height:t,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const KB={xs:20,sm:24,md:30,lg:34,xl:36};var hde=qe((e,{radius:t,size:n})=>({rightSection:{display:"flex",flexDirection:"column",height:"calc(100% - 2px)",margin:1,marginRight:1,overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:e.fn.size({size:n,sizes:KB}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:1,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const pde=hde;var mde=Object.defineProperty,gde=Object.defineProperties,yde=Object.getOwnPropertyDescriptors,Kv=Object.getOwnPropertySymbols,GB=Object.prototype.hasOwnProperty,YB=Object.prototype.propertyIsEnumerable,OD=(e,t,n)=>t in e?mde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T1=(e,t)=>{for(var n in t||(t={}))GB.call(t,n)&&OD(e,n,t[n]);if(Kv)for(var n of Kv(t))YB.call(t,n)&&OD(e,n,t[n]);return e},vde=(e,t)=>gde(e,yde(t)),wde=(e,t)=>{var n={};for(var r in e)GB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Kv)for(var r of Kv(e))t.indexOf(r)<0&&YB.call(e,r)&&(n[r]=e[r]);return n};const _de={type:"text",size:"sm",__staticSelector:"TextInput"},xP=S.forwardRef((e,t)=>{const n=u6("TextInput",_de,e),{inputProps:r,wrapperProps:i}=n,o=wde(n,["inputProps","wrapperProps"]);return x(vi.Wrapper,{...T1({},i),children:x(vi,{...vde(T1(T1({},r),o),{ref:t})})})});xP.displayName="@mantine/core/TextInput";var bde=Object.defineProperty,Sde=Object.defineProperties,$de=Object.getOwnPropertyDescriptors,Gv=Object.getOwnPropertySymbols,QB=Object.prototype.hasOwnProperty,XB=Object.prototype.propertyIsEnumerable,PD=(e,t,n)=>t in e?bde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ede=(e,t)=>{for(var n in t||(t={}))QB.call(t,n)&&PD(e,n,t[n]);if(Gv)for(var n of Gv(t))XB.call(t,n)&&PD(e,n,t[n]);return e},xde=(e,t)=>Sde(e,$de(t)),Ode=(e,t)=>{var n={};for(var r in e)QB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gv)for(var r of Gv(e))t.indexOf(r)<0&&XB.call(e,r)&&(n[r]=e[r]);return n};const Pde=e=>e||"",Cde=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const n=parseFloat(t);if(!Number.isNaN(n))return e},CD={xs:10,sm:14,md:16,lg:18,xl:20},Ide={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:Pde,parser:Cde,type:"text"},JB=S.forwardRef((e,t)=>{const n=Ke("NumberInput",Ide,e),{disabled:r,value:i,onChange:o,decimalSeparator:s,min:a,max:l,startValue:u,step:c,stepHoldInterval:f,stepHoldDelay:d,onBlur:h,onFocus:p,onKeyDown:g,onKeyUp:v,hideControls:m,radius:y,variant:w,precision:b,removeTrailingZeros:$,defaultValue:_,noClampOnBlur:E,handlersRef:C,classNames:N,styles:L,size:M,rightSection:B,rightSectionWidth:F,formatter:R,parser:J,inputMode:re,unstyled:ie,type:G}=n,Q=Ode(n,["disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onFocus","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:q,cx:O,theme:P}=pde({radius:y,size:M},{classNames:N,styles:L,unstyled:ie,name:"NumberInput"}),z=_e=>{if(_e===void 0)return;let Fe=_e.toFixed(b);return $&&b>0&&(Fe=Fe.replace(new RegExp(`[0]{0,${b}}$`),""),(Fe.endsWith(".")||Fe.endsWith(s))&&(Fe=Fe.slice(0,-1))),Fe},[I,k]=S.useState(!1),[V,Z]=S.useState(typeof i=="number"?i:typeof _=="number"?_:void 0),oe=typeof i=="number"?i:V,[be,ce]=S.useState(typeof oe=="number"?z(oe):""),xe=S.useRef(),Ue=_e=>{_e!==V&&!Number.isNaN(_e)&&(typeof o=="function"&&o(_e),Z(_e))},_t=(_e="")=>{let Fe=typeof _e=="number"?String(_e):_e;return s&&(Fe=Fe.replace(/\./g,s)),R(Fe)},Ft=_e=>{let Fe=_e;return s&&(Fe=Fe.replace(new RegExp(`\\${s}`,"g"),".")),J(Fe)},Qe=typeof a=="number"?a:-1/0,Le=typeof l=="number"?l:1/0,rt=S.useRef();rt.current=()=>{var _e,Fe,Ee;if(V===void 0)Ue((_e=u??a)!=null?_e:0),ce((Ee=(Fe=z(u))!=null?Fe:z(a))!=null?Ee:"0");else{const Me=z(ga(V+c,Qe,Le));Ue(parseFloat(Me)),ce(Me)}};const Xe=S.useRef();Xe.current=()=>{var _e,Fe,Ee;if(V===void 0)Ue((_e=u??a)!=null?_e:0),ce((Ee=(Fe=z(u))!=null?Fe:z(a))!=null?Ee:"0");else{const Me=z(ga(V-c,Qe,Le));Ue(parseFloat(Me)),ce(Me)}},a4(C,{increment:rt.current,decrement:Xe.current}),S.useEffect(()=>{typeof i=="number"&&!I&&(Z(i),ce(z(i))),_===void 0&&i===void 0&&!I&&(Z(i),ce(""))},[i]);const nn=d!==void 0&&f!==void 0,Kt=S.useRef(null),yt=S.useRef(0),bt=()=>{Kt.current&&window.clearTimeout(Kt.current),Kt.current=null,yt.current=0},Ge=_e=>{_e?rt.current():Xe.current(),yt.current+=1},at=_e=>{if(Ge(_e),nn){const Fe=typeof f=="number"?f:f(yt.current);Kt.current=window.setTimeout(()=>at(_e),Fe)}},Ct=(_e,Fe)=>{_e.preventDefault(),xe.current.focus(),Ge(Fe),nn&&(Kt.current=window.setTimeout(()=>at(Fe),d))};S.useEffect(()=>(bt(),bt),[]);const Pt=he("div",{className:q.rightSection,children:[x("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:oe>=l,className:O(q.control,q.controlUp),onPointerDown:_e=>{Ct(_e,!0)},onPointerUp:bt,onPointerLeave:bt,children:x(xD,{size:P.fn.size({size:M,sizes:CD}),direction:"up"})}),x("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:oe<=a,className:O(q.control,q.controlDown),onPointerDown:_e=>{Ct(_e,!1)},onPointerUp:bt,onPointerLeave:bt,children:x(xD,{size:P.fn.size({size:M,sizes:CD}),direction:"down"})})]}),ln=_e=>{if(_e.nativeEvent.isComposing)return;const Ee=_e.target.value,Me=Ft(Ee);ce(Me),Ee===""||Ee==="-"?Ue(void 0):Ee.trim()!==""&&!Number.isNaN(Me)&&Ue(parseFloat(Me))},X=_e=>{var Fe;if(_e.target.value==="")ce(""),Ue(void 0);else{let Ee=_e.target.value;(Ee[0]===`${s}`||Ee[0]===".")&&(Ee=`0${Ee}`);const Me=Ft(Ee),un=ga(parseFloat(Me),Qe,Le);Number.isNaN(un)?ce((Fe=z(oe))!=null?Fe:""):E||(ce(z(un)),Ue(parseFloat(z(un))))}k(!1),typeof h=="function"&&h(_e)},ue=_e=>{k(!0),typeof p=="function"&&p(_e)},$e=_e=>{if(typeof g=="function"&&g(_e),_e.repeat&&nn&&(_e.key==="ArrowUp"||_e.key==="ArrowDown")){_e.preventDefault();return}_e.key==="ArrowUp"?Ct(_e,!0):_e.key==="ArrowDown"&&Ct(_e,!1)},ze=_e=>{typeof v=="function"&&v(_e),(_e.key==="ArrowUp"||_e.key==="ArrowDown")&&bt()};return x(xP,{...xde(Ede({},Q),{type:G,variant:w,value:_t(be),disabled:r,ref:ks(xe,t),onChange:ln,onBlur:X,onFocus:ue,onKeyDown:$e,onKeyUp:ze,rightSection:B||(r||m||w==="unstyled"?null:Pt),rightSectionWidth:F||P.fn.size({size:M,sizes:KB})+1,radius:y,max:l,min:a,step:c,size:M,styles:L,classNames:N,inputMode:re||dde(c,b,Ste()),__staticSelector:"NumberInput",unstyled:ie})})});JB.displayName="@mantine/core/NumberInput";const ID={xs:3,sm:5,md:8,lg:12,xl:16},kde=Eee({from:{backgroundPosition:"0 0"},to:{backgroundPosition:"40px 0"}});var Tde=qe((e,{color:t,radius:n,size:r,striped:i,animate:o})=>({root:{position:"relative",height:e.fn.size({size:r,sizes:ID}),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderRadius:e.fn.size({size:n,sizes:e.radius}),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fn.variant({variant:"filled",primaryFallback:!1,color:t||e.primaryColor}).background,transition:"width 100ms linear",animation:o?`${kde} 1000ms linear infinite`:"none",backgroundSize:"20px 20px",backgroundImage:i?"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)":"none","&:last-of-type":{borderTopRightRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomRightRadius:e.fn.size({size:n,sizes:e.radius})},"&:first-of-type":{borderTopLeftRadius:e.fn.size({size:n,sizes:e.radius}),borderBottomLeftRadius:e.fn.size({size:n,sizes:e.radius})},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},label:{color:e.white,fontSize:e.fn.size({size:r,sizes:ID})*.65,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const Ade=Tde,ZB=S.createContext(!1),Nde=ZB.Provider,Rde=()=>S.useContext(ZB);function eU({children:e,openDelay:t=0,closeDelay:n=0}){return x(Nde,{value:!0,children:x(qoe,{delay:{open:t,close:n},children:e})})}eU.displayName="@mantine/core/TooltipGroup";var Dde=Object.defineProperty,Mde=Object.defineProperties,Lde=Object.getOwnPropertyDescriptors,kD=Object.getOwnPropertySymbols,jde=Object.prototype.hasOwnProperty,zde=Object.prototype.propertyIsEnumerable,TD=(e,t,n)=>t in e?Dde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AD=(e,t)=>{for(var n in t||(t={}))jde.call(t,n)&&TD(e,n,t[n]);if(kD)for(var n of kD(t))zde.call(t,n)&&TD(e,n,t[n]);return e},Fde=(e,t)=>Mde(e,Lde(t));function Vde(e,t){if(!t)return{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[9],color:e.white};const n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}var Bde=qe((e,{color:t,radius:n,width:r,multiline:i})=>({tooltip:Fde(AD(AD({},e.fn.fontStyles()),Vde(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs}px / 2) ${e.spacing.xs}px`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const tU=Bde,nU={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function Ude({offset:e,position:t}){const[n,r]=S.useState(!1),i=S.useRef(),{x:o,y:s,reference:a,floating:l,refs:u,update:c,placement:f}=gP({placement:t,middleware:[hP({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=f.includes("right")?e:t.includes("left")?e*-1:0,h=f.includes("bottom")?e:t.includes("top")?e*-1:0,p=S.useCallback(({clientX:g,clientY:v})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y:v,left:g+d,top:v+h,right:g,bottom:v}}})},[a]);return S.useEffect(()=>{if(u.floating.current){const g=i.current;g.addEventListener("mousemove",p);const v=ds(u.floating.current);return v.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),v.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,u.floating,c,p,n]),{handleMouseMove:p,x:o,y:s,opened:n,setOpened:r,boundaryRef:i,floating:l}}var Hde=Object.defineProperty,qde=Object.defineProperties,Wde=Object.getOwnPropertyDescriptors,Yv=Object.getOwnPropertySymbols,rU=Object.prototype.hasOwnProperty,iU=Object.prototype.propertyIsEnumerable,ND=(e,t,n)=>t in e?Hde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A1=(e,t)=>{for(var n in t||(t={}))rU.call(t,n)&&ND(e,n,t[n]);if(Yv)for(var n of Yv(t))iU.call(t,n)&&ND(e,n,t[n]);return e},N1=(e,t)=>qde(e,Wde(t)),Kde=(e,t)=>{var n={};for(var r in e)rU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yv)for(var r of Yv(e))t.indexOf(r)<0&&iU.call(e,r)&&(n[r]=e[r]);return n};const Gde={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Ii("popover")};function oU(e){var t;const n=Ke("TooltipFloating",Gde,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:l,styles:u,unstyled:c,radius:f,color:d,label:h,offset:p,position:g,multiline:v,width:m,zIndex:y,disabled:w}=n,b=Kde(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled"]),{handleMouseMove:$,x:_,y:E,opened:C,boundaryRef:N,floating:L,setOpened:M}=Ude({offset:p,position:g}),{classes:B,cx:F}=tU({radius:f,color:d,multiline:v,width:m},{name:"Tooltip",classNames:l,styles:u,unstyled:c});if(!Aw(r))throw new Error(nU.children);const R=ks(N,r.ref),J=ie=>{var G,Q;(Q=(G=r.props).onMouseEnter)==null||Q.call(G,ie),$(ie),M(!0)},re=ie=>{var G,Q;(Q=(G=r.props).onMouseLeave)==null||Q.call(G,ie),M(!1)};return w?x(tn,{children:r}):he(tn,{children:[x(vp,{withinPortal:o,children:x(We,{...N1(A1({},b),{ref:L,className:F(B.tooltip,a),style:N1(A1({},s),{zIndex:y,display:C?"block":"none",top:E??"",left:(t=Math.round(_))!=null?t:""})}),children:h})}),S.cloneElement(r,N1(A1({},r.props),{[i]:R,onMouseEnter:J,onMouseLeave:re}))]})}oU.displayName="@mantine/core/TooltipFloating";function Yde(e){const[t,n]=S.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,o=Rde(),s=Ba(),{delay:a,currentId:l,setCurrentId:u}=UV(),c=S.useCallback(C=>{n(C),C&&u(s)},[u,s]),{x:f,y:d,reference:h,floating:p,context:g,refs:v,update:m,placement:y,middlewareData:{arrow:{x:w,y:b}={}}}=gP({placement:e.position,open:i,onOpenChange:c,middleware:[TV(e.offset),hP({padding:8}),kV(),zV({element:e.arrowRef}),...e.inline?[NV()]:[]]}),{getReferenceProps:$,getFloatingProps:_}=Voe([Hoe(g,{enabled:e.events.hover,delay:o?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),Xoe(g,{enabled:e.events.focus,keyboardOnly:!0}),Koe(g,{role:"tooltip"}),Qoe(g,{enabled:typeof e.opened===void 0}),Woe(g,{id:s})]);return HV({opened:i,positionDependencies:e.positionDependencies,floating:{refs:v,update:m}}),Bi(()=>{var C;(C=e.onPositionChange)==null||C.call(e,y)},[y]),{x:f,y:d,arrowX:w,arrowY:b,reference:h,floating:p,getFloatingProps:_,getReferenceProps:$,isGroupPhase:i&&l&&l!==s,opened:i,placement:y}}var Qde=Object.defineProperty,Xde=Object.defineProperties,Jde=Object.getOwnPropertyDescriptors,Qv=Object.getOwnPropertySymbols,sU=Object.prototype.hasOwnProperty,aU=Object.prototype.propertyIsEnumerable,RD=(e,t,n)=>t in e?Qde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qf=(e,t)=>{for(var n in t||(t={}))sU.call(t,n)&&RD(e,n,t[n]);if(Qv)for(var n of Qv(t))aU.call(t,n)&&RD(e,n,t[n]);return e},Zde=(e,t)=>Xde(e,Jde(t)),ehe=(e,t)=>{var n={};for(var r in e)sU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qv)for(var r of Qv(e))t.indexOf(r)<0&&aU.call(e,r)&&(n[r]=e[r]);return n};const the={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,offset:5,transition:"fade",transitionDuration:100,width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Ii("popover"),positionDependencies:[]},t_=S.forwardRef((e,t)=>{const n=S.useRef(null),r=Ke("Tooltip",the,e),{children:i,position:o,refProp:s,label:a,openDelay:l,closeDelay:u,onPositionChange:c,opened:f,withinPortal:d,radius:h,color:p,classNames:g,styles:v,unstyled:m,style:y,className:w,withArrow:b,arrowSize:$,arrowOffset:_,arrowRadius:E,offset:C,transition:N,transitionDuration:L,multiline:M,width:B,events:F,zIndex:R,disabled:J,positionDependencies:re,onClick:ie,onMouseEnter:G,onMouseLeave:Q,inline:q}=r,O=ehe(r,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","offset","transition","transitionDuration","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline"]),{classes:P,cx:z,theme:I}=tU({radius:h,color:p,width:B,multiline:M},{name:"Tooltip",classNames:g,styles:v,unstyled:m}),k=Yde({position:i6(I.dir,o),closeDelay:u,openDelay:l,onPositionChange:c,opened:f,events:F,arrowRef:n,offset:C+(b?$/2:0),positionDependencies:[...re,i],inline:q});if(!Aw(i))throw new Error(nU.children);const V=ks(k.reference,i.ref,t);return he(tn,{children:[x(vp,{withinPortal:d,children:x(Zw,{mounted:!J&&k.opened,transition:N,duration:k.isGroupPhase?10:L,children:Z=>{var oe,be;return he(We,{...Qf(Qf({},O),k.getFloatingProps({ref:k.floating,className:P.tooltip,style:Zde(Qf(Qf({},y),Z),{zIndex:R,top:(oe=k.y)!=null?oe:0,left:(be=k.x)!=null?be:0})})),children:[a,x(yP,{ref:n,arrowX:k.arrowX,arrowY:k.arrowY,visible:b,withBorder:!1,position:k.placement,arrowSize:$,arrowOffset:_,arrowRadius:E,className:P.arrow})]})}})}),S.cloneElement(i,k.getReferenceProps(Qf({onClick:ie,onMouseEnter:G,onMouseLeave:Q,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[s]:V,className:z(w,i.props.className)},i.props)))]})});t_.Group=eU;t_.Floating=oU;t_.displayName="@mantine/core/Tooltip";const nhe=t_;var rhe=Object.defineProperty,ihe=Object.defineProperties,ohe=Object.getOwnPropertyDescriptors,Xv=Object.getOwnPropertySymbols,lU=Object.prototype.hasOwnProperty,uU=Object.prototype.propertyIsEnumerable,DD=(e,t,n)=>t in e?rhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tE=(e,t)=>{for(var n in t||(t={}))lU.call(t,n)&&DD(e,n,t[n]);if(Xv)for(var n of Xv(t))uU.call(t,n)&&DD(e,n,t[n]);return e},cU=(e,t)=>ihe(e,ohe(t)),MD=(e,t)=>{var n={};for(var r in e)lU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xv)for(var r of Xv(e))t.indexOf(r)<0&&uU.call(e,r)&&(n[r]=e[r]);return n};function she(e){return e.reduce((t,n)=>(t.sections.push(cU(tE({},n),{accumulated:t.accumulated})),t.accumulated+=n.value,t),{accumulated:0,sections:[]}).sections}const ahe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},fU=S.forwardRef((e,t)=>{const n=Ke("Progress",ahe,e),{className:r,value:i,color:o,size:s,radius:a,striped:l,animate:u,label:c,"aria-label":f,classNames:d,styles:h,sections:p,unstyled:g}=n,v=MD(n,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled"]),{classes:m,cx:y,theme:w}=Ade({color:o,size:s,radius:a,striped:l||u,animate:u},{classNames:d,styles:h,unstyled:g,name:"Progress"}),b=Array.isArray(p)?she(p).map(($,_)=>{var E=$,{tooltip:C,accumulated:N,value:L,label:M,color:B}=E,F=MD(E,["tooltip","accumulated","value","label","color"]);return x(nhe.Floating,{label:C,disabled:!C,children:x(We,{...cU(tE({},F),{className:y(m.bar,F.className),sx:{width:`${L}%`,left:`${N}%`,backgroundColor:w.fn.variant({variant:"filled",primaryFallback:!1,color:B||w.primaryColor}).background}}),children:M&&x(wt,{className:m.label,children:M})})},_)}):null;return x(We,{...tE({className:y(m.root,r),ref:t},v),children:b||x("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":f,className:m.bar,style:{width:`${i}%`},children:c?x(wt,{className:m.label,children:c}):""})})});fU.displayName="@mantine/core/Progress";var lhe=Object.defineProperty,LD=Object.getOwnPropertySymbols,uhe=Object.prototype.hasOwnProperty,che=Object.prototype.propertyIsEnumerable,jD=(e,t,n)=>t in e?lhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fhe=(e,t)=>{for(var n in t||(t={}))uhe.call(t,n)&&jD(e,n,t[n]);if(LD)for(var n of LD(t))che.call(t,n)&&jD(e,n,t[n]);return e};function dhe(e){return x("svg",{...fhe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5"},e),children:x("path",{fill:"currentColor",d:"M0 2.5a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z"})})}const dU=S.createContext(null),hhe=dU.Provider,phe=()=>S.useContext(dU);var mhe=Object.defineProperty,Jv=Object.getOwnPropertySymbols,hU=Object.prototype.hasOwnProperty,pU=Object.prototype.propertyIsEnumerable,zD=(e,t,n)=>t in e?mhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FD=(e,t)=>{for(var n in t||(t={}))hU.call(t,n)&&zD(e,n,t[n]);if(Jv)for(var n of Jv(t))pU.call(t,n)&&zD(e,n,t[n]);return e},ghe=(e,t)=>{var n={};for(var r in e)hU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jv)for(var r of Jv(e))t.indexOf(r)<0&&pU.call(e,r)&&(n[r]=e[r]);return n};const yhe={orientation:"horizontal",spacing:"lg",offset:"xs",size:"sm"},mU=S.forwardRef((e,t)=>{const n=Ke("RadioGroup",yhe,e),{children:r,value:i,defaultValue:o,onChange:s,orientation:a,spacing:l,size:u,wrapperProps:c,unstyled:f,offset:d,name:h}=n,p=ghe(n,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","unstyled","offset","name"]),[g,v]=Oa({value:i,defaultValue:o,finalValue:"",onChange:s});return x(hhe,{value:{value:g,onChange:y=>v(y.currentTarget.value),size:u,name:h},children:x(vi.Wrapper,{...FD(FD({labelElement:"div",size:u,__staticSelector:"RadioGroup",ref:t,unstyled:f},c),p),children:x(G6,{spacing:l,orientation:a,unstyled:f,role:"radiogroup",offset:d,children:r})})})});mU.displayName="@mantine/core/RadioGroup";var vhe=Object.defineProperty,whe=Object.defineProperties,_he=Object.getOwnPropertyDescriptors,VD=Object.getOwnPropertySymbols,bhe=Object.prototype.hasOwnProperty,She=Object.prototype.propertyIsEnumerable,BD=(e,t,n)=>t in e?vhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$he=(e,t)=>{for(var n in t||(t={}))bhe.call(t,n)&&BD(e,n,t[n]);if(VD)for(var n of VD(t))She.call(t,n)&&BD(e,n,t[n]);return e},Ehe=(e,t)=>whe(e,_he(t));const R1={xs:16,sm:20,md:24,lg:30,xl:36},Um={xs:6,sm:8,md:10,lg:14,xl:16};var xhe=qe((e,{size:t,color:n,transitionDuration:r,labelPosition:i,error:o},s)=>{const a=e.fn.variant({variant:"filled",color:n}),l=e.fn.variant({variant:"filled",color:"red"}).background;return{inner:{order:i==="left"?2:1,position:"relative",alignSelf:"flex-start"},icon:{ref:s("icon"),color:e.white,opacity:0,transform:"scale(0.75) translateY(2px)",transition:`opacity ${r}ms ${e.transitionTimingFunction}`,pointerEvents:"none",width:e.fn.size({sizes:Um,size:t}),height:e.fn.size({sizes:Um,size:t}),position:"absolute",top:`calc(50% - ${e.fn.size({sizes:Um,size:t})/2}px)`,left:`calc(50% - ${e.fn.size({sizes:Um,size:t})/2}px)`},radio:Ehe($he({},e.fn.focusStyles()),{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${o?l:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,position:"relative",appearance:"none",width:e.fn.size({sizes:R1,size:t}),height:e.fn.size({sizes:R1,size:t}),borderRadius:e.fn.size({sizes:R1,size:t}),margin:0,display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:`${r}ms`,cursor:e.cursorType,"&:checked":{background:a.background,borderColor:a.background,[`& + .${s("icon")}`]:{opacity:1,transform:"scale(1)"}},"&:disabled":{borderColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4],backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],[`& + .${s("icon")}`]:{color:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[4]}}})}});const Ohe=xhe;var Phe=Object.defineProperty,Zv=Object.getOwnPropertySymbols,gU=Object.prototype.hasOwnProperty,yU=Object.prototype.propertyIsEnumerable,UD=(e,t,n)=>t in e?Phe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hm=(e,t)=>{for(var n in t||(t={}))gU.call(t,n)&&UD(e,n,t[n]);if(Zv)for(var n of Zv(t))yU.call(t,n)&&UD(e,n,t[n]);return e},Che=(e,t)=>{var n={};for(var r in e)gU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zv)for(var r of Zv(e))t.indexOf(r)<0&&yU.call(e,r)&&(n[r]=e[r]);return n};const Ihe={icon:dhe,transitionDuration:100,size:"sm",labelPosition:"right"},e0=S.forwardRef((e,t)=>{var n,r;const i=Ke("Radio",Ihe,e),{className:o,style:s,id:a,label:l,size:u,title:c,disabled:f,color:d,classNames:h,styles:p,sx:g,icon:v,transitionDuration:m,wrapperProps:y,unstyled:w,labelPosition:b,description:$,error:_}=i,E=Che(i,["className","style","id","label","size","title","disabled","color","classNames","styles","sx","icon","transitionDuration","wrapperProps","unstyled","labelPosition","description","error"]),C=phe(),N=(n=C==null?void 0:C.size)!=null?n:u,L=e.size?u:N,{classes:M}=Ohe({color:d,size:L,transitionDuration:m,labelPosition:b,error:!!_},{classNames:h,styles:p,unstyled:w,name:"Radio"}),{systemStyles:B,rest:F}=hu(E),R=Ba(a),J=C?{checked:C.value===F.value,name:(r=F.name)!=null?r:C.name,onChange:C.onChange}:{};return x($P,{...Hm(Hm({className:o,sx:g,style:s,id:R,size:L,labelPosition:b,label:l,description:$,error:_,disabled:f,__staticSelector:"Radio",classNames:h,styles:p,unstyled:w,"data-checked":J.checked||void 0},B),y),children:he("div",{className:M.inner,children:[x("input",{...Hm(Hm({ref:t,className:M.radio,type:"radio",id:R,disabled:f},F),J)}),x(v,{className:M.icon,"aria-hidden":!0})]})})});e0.displayName="@mantine/core/Radio";e0.Group=mU;function khe({data:e,searchable:t,limit:n,searchValue:r,filter:i,value:o,filterDataOnExactSearchMatch:s}){if(!t)return e;const a=o!=null&&e.find(u=>u.value===o)||null;if(a&&!s&&(a==null?void 0:a.label)===r)return e;const l=[];for(let u=0;u<e.length&&(i(r,e[u])&&l.push(e[u]),!(l.length>=n));u+=1);return l}var The=qe(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const Ahe=The;var Nhe=Object.defineProperty,Rhe=Object.defineProperties,Dhe=Object.getOwnPropertyDescriptors,t0=Object.getOwnPropertySymbols,vU=Object.prototype.hasOwnProperty,wU=Object.prototype.propertyIsEnumerable,HD=(e,t,n)=>t in e?Nhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xf=(e,t)=>{for(var n in t||(t={}))vU.call(t,n)&&HD(e,n,t[n]);if(t0)for(var n of t0(t))wU.call(t,n)&&HD(e,n,t[n]);return e},D1=(e,t)=>Rhe(e,Dhe(t)),Mhe=(e,t)=>{var n={};for(var r in e)vU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&t0)for(var r of t0(e))t.indexOf(r)<0&&wU.call(e,r)&&(n[r]=e[r]);return n};function Lhe(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function jhe(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const zhe={required:!1,size:"sm",shadow:"sm",itemComponent:lP,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:Lhe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:jhe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Ii("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},_U=S.forwardRef((e,t)=>{const n=u6("Select",zhe,e),{inputProps:r,wrapperProps:i,shadow:o,data:s,value:a,defaultValue:l,onChange:u,itemComponent:c,onKeyDown:f,onBlur:d,onFocus:h,transition:p,transitionDuration:g,initiallyOpened:v,transitionTimingFunction:m,unstyled:y,classNames:w,styles:b,filter:$,maxDropdownHeight:_,searchable:E,clearable:C,nothingFound:N,clearButtonLabel:L,limit:M,disabled:B,onSearchChange:F,searchValue:R,rightSection:J,rightSectionWidth:re,creatable:ie,getCreateLabel:G,shouldCreate:Q,selectOnBlur:q,onCreate:O,dropdownComponent:P,onDropdownClose:z,onDropdownOpen:I,withinPortal:k,switchDirectionOnFlip:V,zIndex:Z,name:oe,dropdownPosition:be,allowDeselect:ce,placeholder:xe,filterDataOnExactSearchMatch:Ue,clearButtonTabIndex:_t,form:Ft,positionDependencies:Qe,readOnly:Le}=n,rt=Mhe(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly"]),{classes:Xe,cx:nn,theme:Kt}=Ahe(),[yt,bt]=S.useState(v),[Ge,at]=S.useState(-1),Ct=S.useRef(),Pt=S.useRef({}),[ln,X]=S.useState("column"),ue=ln==="column",{scrollIntoView:$e,targetRef:ze,scrollableRef:_e}=u4({duration:0,offset:5,cancelable:!1,isList:!0}),Fe=ce===void 0?C:ce,Ee=le=>{if(yt!==le){bt(le);const Pe=le?I:z;typeof Pe=="function"&&Pe()}},Me=ie&&typeof G=="function";let un=null;const St=s.map(le=>typeof le=="string"?{label:le,value:le}:le),it=x3({data:St}),[rn,Rt,Ds]=Oa({value:a,defaultValue:l,finalValue:null,onChange:u}),nr=it.find(le=>le.value===rn),[Vr,Br]=Oa({value:R,defaultValue:(nr==null?void 0:nr.label)||"",finalValue:void 0,onChange:F}),Hn=le=>{Br(le),E&&typeof F=="function"&&F(le)},Sn=()=>{var le;Le||(Rt(null),Ds||Hn(""),(le=Ct.current)==null||le.focus())};S.useEffect(()=>{const le=it.find(Pe=>Pe.value===rn);le?Hn(le.label):(!Me||!rn)&&Hn("")},[rn]),S.useEffect(()=>{nr&&(!E||!yt)&&Hn(nr.label)},[nr==null?void 0:nr.label]);const Gt=le=>{if(!Le)if(Fe&&(nr==null?void 0:nr.value)===le.value)Rt(null),Ee(!1);else{if(le.creatable&&typeof O=="function"){const Pe=O(le.value);typeof Pe<"u"&&Pe!==null&&Rt(typeof Pe=="string"?Pe:Pe.value)}else Rt(le.value);Ds||Hn(le.label),at(-1),Ee(!1),Ct.current.focus()}},$t=khe({data:it,searchable:E,limit:M,searchValue:Vr,filter:$,filterDataOnExactSearchMatch:Ue,value:rn});Me&&Q(Vr,$t)&&(un=G(Vr),$t.push({label:Vr,value:Vr,creatable:!0}));const mr=(le,Pe,Je)=>{let Re=le;for(;Je(Re);)if(Re=Pe(Re),!$t[Re].disabled)return Re;return le};Bi(()=>{at(-1)},[Vr]);const ki=rn?$t.findIndex(le=>le.value===rn):0,qn=!Le&&($t.length>0?yt:yt&&!!N),kr=()=>{at(le=>{var Pe;const Je=mr(le,Re=>Re-1,Re=>Re>0);return ze.current=Pt.current[(Pe=$t[Je])==null?void 0:Pe.value],qn&&$e({alignment:ue?"start":"end"}),Je})},Ti=()=>{at(le=>{var Pe;const Je=mr(le,Re=>Re+1,Re=>Re<$t.length-1);return ze.current=Pt.current[(Pe=$t[Je])==null?void 0:Pe.value],qn&&$e({alignment:ue?"end":"start"}),Je})},U=()=>window.setTimeout(()=>{var le;ze.current=Pt.current[(le=$t[ki])==null?void 0:le.value],$e({alignment:ue?"end":"start"})},0);Bi(()=>{qn&&U()},[qn]);const D=le=>{switch(typeof f=="function"&&f(le),le.key){case"ArrowUp":{le.preventDefault(),yt?ue?kr():Ti():(at(ki),Ee(!0),U());break}case"ArrowDown":{le.preventDefault(),yt?ue?Ti():kr():(at(ki),Ee(!0),U());break}case"Home":{if(!E){le.preventDefault(),yt||Ee(!0);const Pe=$t.findIndex(Je=>!Je.disabled);at(Pe),qn&&$e({alignment:ue?"end":"start"})}break}case"End":{if(!E){le.preventDefault(),yt||Ee(!0);const Pe=$t.map(Je=>!!Je.disabled).lastIndexOf(!1);at(Pe),qn&&$e({alignment:ue?"end":"start"})}break}case"Escape":{le.preventDefault(),Ee(!1),at(-1);break}case" ":{E||(le.preventDefault(),$t[Ge]&&yt?Gt($t[Ge]):(Ee(!0),at(ki),U()));break}case"Enter":E||le.preventDefault(),$t[Ge]&&yt&&(le.preventDefault(),Gt($t[Ge]))}},H=le=>{typeof d=="function"&&d(le);const Pe=it.find(Je=>Je.value===rn);q&&$t[Ge]&&yt&&Gt($t[Ge]),Hn((Pe==null?void 0:Pe.label)||""),Ee(!1)},ne=le=>{typeof h=="function"&&h(le),E&&Ee(!0)},te=le=>{Le||(Hn(le.currentTarget.value),C&&le.currentTarget.value===""&&Rt(null),at(-1),Ee(!0))},Ce=()=>{Le||(Ee(!yt),rn&&!yt&&at(ki))};return x(vi.Wrapper,{...D1(Xf({},i),{__staticSelector:"Select"}),children:he(va,{opened:qn,transition:p,transitionDuration:g,shadow:"sm",withinPortal:k,__staticSelector:"Select",onDirectionChange:X,switchDirectionOnFlip:V,zIndex:Z,dropdownPosition:be,positionDependencies:Qe,classNames:w,styles:b,unstyled:y,children:[x(va.Target,{children:he("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":qn?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":qn,onMouseLeave:()=>at(-1),tabIndex:-1,children:[x("input",{type:"hidden",name:oe,value:rn||"",form:Ft,disabled:B}),x(vi,{...Xf(D1(Xf(Xf({autoComplete:"off",type:"search"},r),rt),{ref:ks(t,Ct),onKeyDown:D,__staticSelector:"Select",value:Vr,placeholder:xe,onChange:te,"aria-autocomplete":"list","aria-controls":qn?`${r.id}-items`:null,"aria-activedescendant":Ge>=0?`${r.id}-${Ge}`:null,onMouseDown:Ce,onBlur:H,onFocus:ne,readOnly:!E||Le,disabled:B,"data-mantine-stop-propagation":qn,name:null,classNames:D1(Xf({},w),{input:nn({[Xe.input]:!E},w==null?void 0:w.input)})}),UB({theme:Kt,rightSection:J,rightSectionWidth:re,styles:b,size:r.size,shouldClear:C&&!!nr,clearButtonLabel:L,onClear:Sn,error:i.error,clearButtonTabIndex:_t,disabled:B,readOnly:Le}))})]})}),x(va.Dropdown,{component:P||Qw,maxHeight:_,direction:ln,id:r.id,innerRef:_e,__staticSelector:"Select",classNames:w,styles:b,children:x(aP,{data:$t,hovered:Ge,classNames:w,styles:b,isItemSelected:le=>le===rn,uuid:r.id,__staticSelector:"Select",onItemHover:at,onItemSelect:Gt,itemsRefs:Pt,itemComponent:c,size:r.size,nothingFound:N,creatable:Me&&!!un,createLabel:un,"aria-label":i.label,unstyled:y})})]})})});_U.displayName="@mantine/core/Select";function bU({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function Fhe({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return o!==void 0?Number(u.toFixed(o)):u}var Vhe=Object.defineProperty,Bhe=Object.defineProperties,Uhe=Object.getOwnPropertyDescriptors,qD=Object.getOwnPropertySymbols,Hhe=Object.prototype.hasOwnProperty,qhe=Object.prototype.propertyIsEnumerable,WD=(e,t,n)=>t in e?Vhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Whe=(e,t)=>{for(var n in t||(t={}))Hhe.call(t,n)&&WD(e,n,t[n]);if(qD)for(var n of qD(t))qhe.call(t,n)&&WD(e,n,t[n]);return e},Khe=(e,t)=>Bhe(e,Uhe(t));const Qr={xs:4,sm:6,md:8,lg:10,xl:12};var Ghe=qe((e,{size:t,disabled:n})=>({root:Khe(Whe({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",outline:0,height:e.fn.size({sizes:Qr,size:t})*2,display:"flex",alignItems:"center",cursor:n?"not-allowed":"pointer",touchAction:"none"})}));const Yhe=Ghe;var Qhe=Object.defineProperty,Xhe=Object.defineProperties,Jhe=Object.getOwnPropertyDescriptors,KD=Object.getOwnPropertySymbols,Zhe=Object.prototype.hasOwnProperty,epe=Object.prototype.propertyIsEnumerable,GD=(e,t,n)=>t in e?Qhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tpe=(e,t)=>{for(var n in t||(t={}))Zhe.call(t,n)&&GD(e,n,t[n]);if(KD)for(var n of KD(t))epe.call(t,n)&&GD(e,n,t[n]);return e},npe=(e,t)=>Xhe(e,Jhe(t)),rpe=qe((e,{color:t,size:n,disabled:r,thumbSize:i})=>({label:{position:"absolute",top:-36,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:npe(tpe({},e.fn.focusStyles()),{boxSizing:"border-box",position:"absolute",display:r?"none":"flex",height:i||e.fn.size({sizes:Qr,size:n})*2,width:i||e.fn.size({sizes:Qr,size:n})*2,backgroundColor:e.colorScheme==="dark"?e.fn.themeColor(t,e.fn.primaryShade()):e.white,border:`4px solid ${e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade())}`,color:e.colorScheme==="dark"?e.white:e.fn.themeColor(t,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"}),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}}));const ipe=rpe,SU=S.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,color:a,classNames:l,styles:u,size:c,labelTransition:f,labelTransitionDuration:d,labelTransitionTimingFunction:h,labelAlwaysOn:p,thumbLabel:g,onFocus:v,onBlur:m,showLabelOnHover:y,children:w=null,disabled:b,unstyled:$,thumbSize:_},E)=>{const{classes:C,cx:N,theme:L}=ipe({color:a,size:c,disabled:b,thumbSize:_},{classNames:l,styles:u,unstyled:$,name:"Slider"}),[M,B]=S.useState(!1),F=p||o||M||y;return he(We,{tabIndex:0,role:"slider","aria-label":g,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:E,className:N(C.thumb,{[C.dragging]:o}),onFocus:()=>{B(!0),typeof v=="function"&&v()},onBlur:()=>{B(!1),typeof m=="function"&&m()},onTouchStart:s,onMouseDown:s,onClick:R=>R.stopPropagation(),style:{[L.dir==="rtl"?"right":"left"]:`${r}%`},children:[w,x(Zw,{mounted:i!=null&&F,duration:d,transition:f,timingFunction:h||L.transitionTimingFunction,children:R=>x("div",{style:R,className:C.label,children:i})})]})});SU.displayName="@mantine/core/SliderThumb";function ope({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}var spe=qe((e,{size:t,color:n,disabled:r})=>({markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:t,sizes:Qr})>=8?"2px":"1px"} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Qr,size:t}),width:e.fn.size({sizes:Qr,size:t}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Qr,size:t})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:r?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:n}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}));const ape=spe;function $U({marks:e,color:t,size:n,min:r,max:i,value:o,classNames:s,styles:a,offset:l,onChange:u,disabled:c,unstyled:f,inverted:d}){const{classes:h,cx:p}=ape({size:n,color:t,disabled:c},{classNames:s,styles:a,unstyled:f,name:"Slider"}),g=e.map((v,m)=>he(We,{className:h.markWrapper,sx:{left:`${bU({value:v.value,min:r,max:i})}%`},children:[x("div",{className:p(h.mark,{[h.markFilled]:ope({mark:v,value:o,offset:l,inverted:d})})}),v.label&&x("div",{className:h.markLabel,onMouseDown:y=>{y.stopPropagation(),u(v.value)},onTouchStart:y=>{y.stopPropagation(),u(v.value)},children:v.label})]},m));return x("div",{children:g})}$U.displayName="@mantine/core/SliderMarks";var lpe=qe((e,{radius:t,size:n,color:r,disabled:i,inverted:o})=>({track:{position:"relative",height:e.fn.size({sizes:Qr,size:n}),width:"100%",marginRight:e.fn.size({size:n,sizes:Qr}),marginLeft:e.fn.size({size:n,sizes:Qr}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:t,sizes:e.radius}),right:-e.fn.size({size:n,sizes:Qr}),left:-e.fn.size({size:n,sizes:Qr}),backgroundColor:o?i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:o?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]:i?e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background,borderRadius:e.fn.size({size:t,sizes:e.radius})}}));const upe=lpe;var cpe=Object.defineProperty,fpe=Object.defineProperties,dpe=Object.getOwnPropertyDescriptors,n0=Object.getOwnPropertySymbols,EU=Object.prototype.hasOwnProperty,xU=Object.prototype.propertyIsEnumerable,YD=(e,t,n)=>t in e?cpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hpe=(e,t)=>{for(var n in t||(t={}))EU.call(t,n)&&YD(e,n,t[n]);if(n0)for(var n of n0(t))xU.call(t,n)&&YD(e,n,t[n]);return e},ppe=(e,t)=>fpe(e,dpe(t)),mpe=(e,t)=>{var n={};for(var r in e)EU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&n0)for(var r of n0(e))t.indexOf(r)<0&&xU.call(e,r)&&(n[r]=e[r]);return n};function OU(e){var t=e,{filled:n,size:r,color:i,classNames:o,styles:s,radius:a,children:l,offset:u,onMouseLeave:c,onMouseEnter:f,disabled:d,marksOffset:h,unstyled:p,inverted:g}=t,v=mpe(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:m}=upe({color:i,size:r,radius:a,disabled:d,inverted:g},{classNames:o,styles:s,unstyled:p,name:"Slider"});return he("div",{className:m.track,onMouseLeave:c,onMouseEnter:f,children:[x(We,{className:m.bar,sx:y=>({left:`calc(${u}% - ${y.fn.size({size:r,sizes:Qr})}px)`,width:`calc(${n}% + ${y.fn.size({size:r,sizes:Qr})}px)`})}),l,x($U,{...ppe(hpe({},v),{size:r,color:i,offset:h,classNames:o,styles:s,disabled:d,unstyled:p,inverted:g})})]})}OU.displayName="@mantine/core/SliderTrack";var gpe=Object.defineProperty,ype=Object.defineProperties,vpe=Object.getOwnPropertyDescriptors,r0=Object.getOwnPropertySymbols,PU=Object.prototype.hasOwnProperty,CU=Object.prototype.propertyIsEnumerable,QD=(e,t,n)=>t in e?gpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wpe=(e,t)=>{for(var n in t||(t={}))PU.call(t,n)&&QD(e,n,t[n]);if(r0)for(var n of r0(t))CU.call(t,n)&&QD(e,n,t[n]);return e},_pe=(e,t)=>ype(e,vpe(t)),bpe=(e,t)=>{var n={};for(var r in e)PU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&r0)for(var r of r0(e))t.indexOf(r)<0&&CU.call(e,r)&&(n[r]=e[r]);return n};const IU=S.forwardRef((e,t)=>{var n=e,{className:r,size:i,classNames:o,styles:s,disabled:a,unstyled:l}=n,u=bpe(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:c,cx:f}=Yhe({size:i,disabled:a},{classNames:o,styles:s,unstyled:l,name:"Slider"});return x(We,{..._pe(wpe({},u),{tabIndex:-1,className:f(c.root,r),ref:t})})});IU.displayName="@mantine/core/SliderRoot";var Spe=Object.defineProperty,$pe=Object.defineProperties,Epe=Object.getOwnPropertyDescriptors,i0=Object.getOwnPropertySymbols,kU=Object.prototype.hasOwnProperty,TU=Object.prototype.propertyIsEnumerable,XD=(e,t,n)=>t in e?Spe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xpe=(e,t)=>{for(var n in t||(t={}))kU.call(t,n)&&XD(e,n,t[n]);if(i0)for(var n of i0(t))TU.call(t,n)&&XD(e,n,t[n]);return e},Ope=(e,t)=>$pe(e,Epe(t)),Ppe=(e,t)=>{var n={};for(var r in e)kU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&i0)for(var r of i0(e))t.indexOf(r)<0&&TU.call(e,r)&&(n[r]=e[r]);return n};const Cpe={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},OP=S.forwardRef((e,t)=>{const n=Ke("Slider",Cpe,e),{classNames:r,styles:i,color:o,value:s,onChange:a,onChangeEnd:l,size:u,radius:c,min:f,max:d,step:h,precision:p,defaultValue:g,name:v,marks:m,label:y,labelTransition:w,labelTransitionDuration:b,labelTransitionTimingFunction:$,labelAlwaysOn:_,thumbLabel:E,showLabelOnHover:C,thumbChildren:N,disabled:L,unstyled:M,thumbSize:B,scale:F,inverted:R}=n,J=Ppe(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),re=ui(),[ie,G]=S.useState(!1),[Q,q]=Oa({value:typeof s=="number"?ga(s,f,d):s,defaultValue:typeof g=="number"?ga(g,f,d):g,finalValue:ga(0,f,d),onChange:a}),O=S.useRef(Q),P=S.useRef(),z=bU({value:Q,min:f,max:d}),I=F(Q),k=typeof y=="function"?y(I):y,V=S.useCallback(({x:xe})=>{if(!L){const Ue=Fhe({value:xe,min:f,max:d,step:h,precision:p});q(Ue),O.current=Ue}},[L,f,d,h,p]),{ref:Z,active:oe}=cte(V,{onScrubEnd:()=>l==null?void 0:l(O.current)},re.dir),be=xe=>{xe.stopPropagation()},ce=xe=>{if(!L)switch(xe.key){case"ArrowUp":{xe.preventDefault(),P.current.focus();const Ue=Math.min(Math.max(Q+h,f),d);l==null||l(Ue),q(Ue);break}case"ArrowRight":{xe.preventDefault(),P.current.focus();const Ue=Math.min(Math.max(re.dir==="rtl"?Q-h:Q+h,f),d);l==null||l(Ue),q(Ue);break}case"ArrowDown":{xe.preventDefault(),P.current.focus();const Ue=Math.min(Math.max(Q-h,f),d);l==null||l(Ue),q(Ue);break}case"ArrowLeft":{xe.preventDefault(),P.current.focus();const Ue=Math.min(Math.max(re.dir==="rtl"?Q+h:Q-h,f),d);l==null||l(Ue),q(Ue);break}case"Home":{xe.preventDefault(),P.current.focus(),l==null||l(f),q(f);break}case"End":{xe.preventDefault(),P.current.focus(),l==null||l(d),q(d);break}}};return he(IU,{...Ope(xpe({},J),{size:u,ref:ks(Z,t),onKeyDownCapture:ce,onMouseDownCapture:()=>{var xe;return(xe=Z.current)==null?void 0:xe.focus()},classNames:r,styles:i,disabled:L,unstyled:M}),children:[x(OU,{inverted:R,offset:0,filled:z,marks:m,size:u,radius:c,color:o,min:f,max:d,value:I,onChange:q,onMouseEnter:C?()=>G(!0):void 0,onMouseLeave:C?()=>G(!1):void 0,classNames:r,styles:i,disabled:L,unstyled:M,children:x(SU,{max:d,min:f,value:I,position:z,dragging:oe,color:o,size:u,label:k,ref:P,onMouseDown:be,labelTransition:w,labelTransitionDuration:b,labelTransitionTimingFunction:$,labelAlwaysOn:_,classNames:r,styles:i,thumbLabel:E,showLabelOnHover:C&&ie,disabled:L,unstyled:M,thumbSize:B,children:N})}),x("input",{type:"hidden",name:v,value:I})]})});OP.displayName="@mantine/core/Slider";var Ipe=Object.defineProperty,o0=Object.getOwnPropertySymbols,AU=Object.prototype.hasOwnProperty,NU=Object.prototype.propertyIsEnumerable,JD=(e,t,n)=>t in e?Ipe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kpe=(e,t)=>{for(var n in t||(t={}))AU.call(t,n)&&JD(e,n,t[n]);if(o0)for(var n of o0(t))NU.call(t,n)&&JD(e,n,t[n]);return e},Tpe=(e,t)=>{var n={};for(var r in e)AU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&o0)for(var r of o0(e))t.indexOf(r)<0&&NU.call(e,r)&&(n[r]=e[r]);return n};const Ape={w:0,h:0},cc=S.forwardRef((e,t)=>{const n=Ke("Space",Ape,e),{w:r,h:i,sx:o}=n,s=Tpe(n,["w","h","sx"]);return x(We,{...kpe({ref:t,sx:[a=>{const l=a.fn.size({size:r,sizes:a.spacing}),u=a.fn.size({size:i,sizes:a.spacing});return{width:l,height:u,minWidth:l,minHeight:u}},...ql(o)]},s)})});cc.displayName="@mantine/core/Space";var Npe=Object.defineProperty,Rpe=Object.defineProperties,Dpe=Object.getOwnPropertyDescriptors,ZD=Object.getOwnPropertySymbols,Mpe=Object.prototype.hasOwnProperty,Lpe=Object.prototype.propertyIsEnumerable,e2=(e,t,n)=>t in e?Npe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jpe=(e,t)=>{for(var n in t||(t={}))Mpe.call(t,n)&&e2(e,n,t[n]);if(ZD)for(var n of ZD(t))Lpe.call(t,n)&&e2(e,n,t[n]);return e},zpe=(e,t)=>Rpe(e,Dpe(t));function Fpe(e,t,n){return typeof e<"u"?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function Vpe(e,t,n){return typeof e<"u"&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var Bpe=qe((e,{element:t,weight:n,size:r,inline:i})=>({root:zpe(jpe({},e.fn.fontStyles()),{fontFamily:e.headings.fontFamily,fontWeight:n||e.headings.sizes[t].fontWeight||e.headings.fontWeight,fontSize:Fpe(r,t,e),lineHeight:i?1:Vpe(r,t,e),margin:0})}));const Upe=Bpe;var Hpe=Object.defineProperty,s0=Object.getOwnPropertySymbols,RU=Object.prototype.hasOwnProperty,DU=Object.prototype.propertyIsEnumerable,t2=(e,t,n)=>t in e?Hpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qpe=(e,t)=>{for(var n in t||(t={}))RU.call(t,n)&&t2(e,n,t[n]);if(s0)for(var n of s0(t))DU.call(t,n)&&t2(e,n,t[n]);return e},Wpe=(e,t)=>{var n={};for(var r in e)RU.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&s0)for(var r of s0(e))t.indexOf(r)<0&&DU.call(e,r)&&(n[r]=e[r]);return n};const Kpe={order:1},Ks=S.forwardRef((e,t)=>{const n=Ke("Title",Kpe,e),{className:r,order:i,children:o,unstyled:s,size:a,weight:l,inline:u}=n,c=Wpe(n,["className","order","children","unstyled","size","weight","inline"]),{classes:f,cx:d}=Upe({element:`h${i}`,weight:l,size:a,inline:u},{name:"Title",unstyled:s});return[1,2,3,4,5,6].includes(i)?x(wt,{...qpe({component:`h${i}`,ref:t,className:d(f.root,r)},c),children:o}):null});Ks.displayName="@mantine/core/Title";function nE(e){const t=e.split("/")||[];return t[(t==null?void 0:t.length)-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_").toLowerCase()}const Gpe=({globalConfig:e,studyConfigs:t})=>{const{configsList:n}=e,r=Va();return he(sB,{size:"xs",px:"xs",style:{marginTop:100,marginBottom:100},children:[x(Sp,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Qo}assets/revisitLogoSquare.svg`,alt:"reVISit"}),x(wt,{children:"Select an experiment to launch:"}),n.map(i=>{const o=t[i];if(!o)return null;const s=nE(i);return x(rP,{onClick:()=>{r(`/${s}`)},my:"sm",style:{width:"100%"},children:he(Tle,{shadow:"sm",radius:"md",withBorder:!0,children:[x(wt,{fw:"bold",children:o.studyMetadata.title}),x(wt,{c:"dimmed",children:o.studyMetadata.description})]})},i)})]})};var MU={exports:{}},LU={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=S;function Ype(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qpe=typeof Object.is=="function"?Object.is:Ype,Xpe=Mc.useState,Jpe=Mc.useEffect,Zpe=Mc.useLayoutEffect,eme=Mc.useDebugValue;function tme(e,t){var n=t(),r=Xpe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Zpe(function(){i.value=n,i.getSnapshot=t,M1(i)&&o({inst:i})},[e,n,t]),Jpe(function(){return M1(i)&&o({inst:i}),e(function(){M1(i)&&o({inst:i})})},[e]),eme(n),n}function M1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qpe(e,n)}catch{return!0}}function nme(e,t){return t()}var rme=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nme:tme;LU.useSyncExternalStore=Mc.useSyncExternalStore!==void 0?Mc.useSyncExternalStore:rme;MU.exports=LU;var ime=MU.exports,jU={exports:{}},zU={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_=S,ome=ime;function sme(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ame=typeof Object.is=="function"?Object.is:sme,lme=ome.useSyncExternalStore,ume=n_.useRef,cme=n_.useEffect,fme=n_.useMemo,dme=n_.useDebugValue;zU.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=ume(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=fme(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,ame(c,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(c=h,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=lme(e,o[0],o[1]);return cme(function(){s.hasValue=!0,s.value=a},[a]),dme(a),a};jU.exports=zU;var hme=jU.exports;function pme(e){e()}let FU=pme;const mme=e=>FU=e,gme=()=>FU,ka=S.createContext(null);function VU(){return S.useContext(ka)}const yme=()=>{throw new Error("uSES not initialized!")};let BU=yme;const vme=e=>{BU=e},wme=(e,t)=>e===t;function UU(e=ka){const t=e===ka?VU:()=>S.useContext(e);return function(r,i=wme){const{store:o,subscription:s,getServerState:a}=t(),l=BU(s.addNestedSub,o.getState,a||o.getState,r,i);return S.useDebugValue(l),l}}const _me=UU();var Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=Symbol.for("react.element"),CP=Symbol.for("react.portal"),r_=Symbol.for("react.fragment"),i_=Symbol.for("react.strict_mode"),o_=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),bme=Symbol.for("react.server_context"),l_=Symbol.for("react.forward_ref"),u_=Symbol.for("react.suspense"),c_=Symbol.for("react.suspense_list"),f_=Symbol.for("react.memo"),d_=Symbol.for("react.lazy"),Sme=Symbol.for("react.offscreen"),HU;HU=Symbol.for("react.module.reference");function Xi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case PP:switch(e=e.type,e){case r_:case o_:case i_:case u_:case c_:return e;default:switch(e=e&&e.$$typeof,e){case bme:case a_:case l_:case d_:case f_:case s_:return e;default:return t}}case CP:return t}}}Ut.ContextConsumer=a_;Ut.ContextProvider=s_;Ut.Element=PP;Ut.ForwardRef=l_;Ut.Fragment=r_;Ut.Lazy=d_;Ut.Memo=f_;Ut.Portal=CP;Ut.Profiler=o_;Ut.StrictMode=i_;Ut.Suspense=u_;Ut.SuspenseList=c_;Ut.isAsyncMode=function(){return!1};Ut.isConcurrentMode=function(){return!1};Ut.isContextConsumer=function(e){return Xi(e)===a_};Ut.isContextProvider=function(e){return Xi(e)===s_};Ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===PP};Ut.isForwardRef=function(e){return Xi(e)===l_};Ut.isFragment=function(e){return Xi(e)===r_};Ut.isLazy=function(e){return Xi(e)===d_};Ut.isMemo=function(e){return Xi(e)===f_};Ut.isPortal=function(e){return Xi(e)===CP};Ut.isProfiler=function(e){return Xi(e)===o_};Ut.isStrictMode=function(e){return Xi(e)===i_};Ut.isSuspense=function(e){return Xi(e)===u_};Ut.isSuspenseList=function(e){return Xi(e)===c_};Ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===r_||e===o_||e===i_||e===u_||e===c_||e===Sme||typeof e=="object"&&e!==null&&(e.$$typeof===d_||e.$$typeof===f_||e.$$typeof===s_||e.$$typeof===a_||e.$$typeof===l_||e.$$typeof===HU||e.getModuleId!==void 0)};Ut.typeOf=Xi;function $me(){const e=gme();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const n2={notify(){},get:()=>[]};function Eme(e,t){let n,r=n2;function i(f){return l(),r.subscribe(f)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=$me())}function u(){n&&(n(),n=void 0,r.clear(),r=n2)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const xme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ome=xme?S.useLayoutEffect:S.useEffect;function L1({store:e,context:t,children:n,serverState:r}){const i=S.useMemo(()=>{const a=Eme(e);return{store:e,subscription:a,getServerState:r?()=>r:void 0}},[e,r]),o=S.useMemo(()=>e.getState(),[e]);return Ome(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]),x((t||ka).Provider,{value:i,children:n})}function qU(e=ka){const t=e===ka?VU:()=>S.useContext(e);return function(){const{store:r}=t();return r}}const Pme=qU();function WU(e=ka){const t=e===ka?Pme:qU(e);return function(){return t().dispatch}}const KU=WU();vme(hme.useSyncExternalStoreWithSelector);mme(hp.unstable_batchedUpdates);const Cme={},Ime=Object.freeze(Object.defineProperty({__proto__:null,default:Cme},Symbol.toStringTag,{value:"Module"})),kme=Gx(Ime);var Tme=kme;function Ame(e,t){var n,r="",i=0,o=!0,s=0,a;function l(){return a=e.charAt(s),s++,a}for(l(),a==="-"&&(r="-",l());a>="0"&&a<="9";)o&&(a=="0"?i++:o=!1),r+=a,l();if(o&&i--,a===".")for(r+=".";l()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,l(),(a==="-"||a==="+")&&(r+=a,l());a>="0"&&a<="9";)r+=a,l();for(;a&&a<=" ";)l();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[s]==="/"||e[s]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function Nme(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function Rme(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function Dme(e){return e.__COMMENTS__}function Mme(e){if(!e)return"";var t=e.split(`
`),n,r,i,o;for(i=0;i<t.length;i++)for(n=t[i],o=n.length,r=0;r<o;r++){var s=n[r];if(s==="#")break;if(s==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(s>" "){t[i]="# "+n;break}}return t.join(`
`)}var h_={EOL:Tme.EOL||`
`,tryParseNumber:Ame,createComment:Nme,removeComment:Rme,getComment:Dme,forceComment:Mme},Lme="3.2.1";function jme(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return r2}else if(e.length===0)return r2;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var o=i.stringify.apply(null,arguments);if(o!==void 0&&(typeof o!="string"||o.length===0||o[0]==='"'||[].some.call(o,function(s){return Fme(s)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+o);return o}else throw new Error("Invalid type")}catch(s){throw new Error("DSF-"+i.name+" failed; "+s.message)}})}),zme.bind(null,n)}function zme(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function r2(){}function Fme(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function GU(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}GU.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function YU(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}YU.description="parse hexadecimal numbers prefixed with 0x";function QU(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}QU.description="support ISO dates";var IP={loadDsf:jme,std:{math:GU,hex:YU,date:QU}},Vme=function(e,t){var n=h_,r=IP,i,o,s,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){o=0,s=" "}function f(R){return R==="{"||R==="}"||R==="["||R==="]"||R===","||R===":"}function d(R){var J,re=0,ie=1;for(J=o-1;J>0&&i[J]!==`
`;J--,re++);for(;J>0;J--)i[J]===`
`&&ie++;throw new Error(R+" at line "+ie+","+re+" >>>"+i.substr(o-re,20)+" ...")}function h(){return s=i.charAt(o),o++,s}function p(R){return i.charAt(o+R)}function g(R){for(var J="",re=s;h();){if(s===re)return h(),R&&re==="'"&&s==="'"&&J.length===0?(h(),v()):J;if(s==="\\")if(h(),s==="u"){for(var ie=0,G=0;G<4;G++){h();var Q=s.charCodeAt(0),q;s>="0"&&s<="9"?q=Q-48:s>="a"&&s<="f"?q=Q-97+10:s>="A"&&s<="F"?q=Q-65+10:d("Bad \\u char "+s),ie=ie*16+q}J+=String.fromCharCode(ie)}else if(typeof a[s]=="string")J+=a[s];else break;else s===`
`||s==="\r"?d("Bad string containing newline"):J+=s}d("Bad string")}function v(){for(var R="",J=0,re=0;;){var ie=p(-re-5);if(!ie||ie===`
`)break;re++}function G(){for(var Q=re;s&&s<=" "&&s!==`
`&&Q-- >0;)h()}for(;s&&s<=" "&&s!==`
`;)h();for(s===`
`&&(h(),G());;){if(!s)d("Bad multiline string");else if(s==="'"){if(J++,h(),J===3)return R.slice(-1)===`
`&&(R=R.slice(0,-1)),R;continue}else for(;J>0;)R+="'",J--;s===`
`?(R+=`
`,h(),G()):(s!=="\r"&&(R+=s),h())}}function m(){if(s==='"'||s==="'")return g(!1);for(var R="",J=o,re=-1;;){if(s===":")return R?re>=0&&re!==R.length&&(o=J+re,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),R;s<=" "?s?re<0&&(re=R.length):d("Found EOF while looking for a key name (check your syntax)"):f(s)?d("Found '"+s+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):R+=s,h()}}function y(){for(;s;){for(;s&&s<=" ";)h();if(s==="#"||s==="/"&&p(0)==="/")for(;s&&s!==`
`;)h();else if(s==="/"&&p(0)==="*"){for(h(),h();s&&!(s==="*"&&p(0)==="/");)h();s&&(h(),h())}else break}}function w(){var R=s;for(f(s)&&d("Found a punctuator character '"+s+"' when expecting a quoteless string (check your syntax)");;){h();var J=s==="\r"||s===`
`||s==="";if(J||s===","||s==="}"||s==="]"||s==="#"||s==="/"&&(p(0)==="/"||p(0)==="*")){var re=R[0];switch(re){case"f":if(R.trim()==="false")return!1;break;case"n":if(R.trim()==="null")return null;break;case"t":if(R.trim()==="true")return!0;break;default:if(re==="-"||re>="0"&&re<="9"){var ie=n.tryParseNumber(R);if(ie!==void 0)return ie}}if(J){R=R.trim();var G=u(R);return G!==void 0?G:R}}R+=s}}function b(R,J){var re;for(R--,re=o-2;re>R&&i[re]<=" "&&i[re]!==`
`;re--);i[re]===`
`&&re--,i[re]==="\r"&&re--;var ie=i.substr(R,re-R+1);for(re=0;re<ie.length;re++)if(ie[re]>" "){var G=ie.indexOf(`
`);if(G>=0){var Q=[ie.substr(0,G),ie.substr(G+1)];return J&&Q[0].trim().length===0&&Q.shift(),Q}else return[ie]}return[]}function $(R){function J(ie,G){var Q,q,O,P;switch(typeof ie){case"string":ie.indexOf(G)>=0&&(P=ie);break;case"object":if(Object.prototype.toString.apply(ie)==="[object Array]")for(Q=0,O=ie.length;Q<O;Q++)P=J(ie[Q],G)||P;else for(q in ie)Object.prototype.hasOwnProperty.call(ie,q)&&(P=J(ie[q],G)||P)}return P}function re(ie){var G=J(R,ie);return G?"found '"+ie+`' in a string value, your mistake could be with:
  > `+G+`
  (unquoted strings contain everything up to the next line!)`:""}return re("}")||re("]")}function _(){var R=[],J,re,ie;try{if(l&&(J=n.createComment(R,{a:[]})),h(),re=o,y(),J&&(ie=b(re,!0).join(`
`)),s==="]")return h(),J&&(J.e=[ie]),R;for(;s;){if(R.push(C()),re=o,y(),s===","&&(h(),re=o,y()),J){var G=b(re);J.a.push([ie||"",G[0]||""]),ie=G[1]}if(s==="]")return h(),J&&(J.a[J.a.length-1][1]+=ie||""),R;y()}d("End of input while parsing an array (missing ']')")}catch(Q){throw Q.hint=Q.hint||$(R),Q}}function E(R){var J="",re={},ie,G,Q;try{if(l&&(ie=n.createComment(re,{c:{},o:[]})),R?G=1:(h(),G=o),y(),ie&&(Q=b(G,!0).join(`
`)),s==="}"&&!R)return ie&&(ie.e=[Q]),h(),re;for(;s;){if(J=m(),y(),s!==":"&&d("Expected ':' instead of '"+s+"'"),h(),re[J]=C(),G=o,y(),s===","&&(h(),G=o,y()),ie){var q=b(G);ie.c[J]=[Q||"",q[0]||""],Q=q[1],ie.o.push(J)}if(s==="}"&&!R)return h(),ie&&(ie.c[J][1]+=Q||""),re;y()}if(R)return re;d("End of input while parsing an object (missing '}')")}catch(O){throw O.hint=O.hint||$(re),O}}function C(){switch(y(),s){case"{":return E();case"[":return _();case"'":case'"':return g(!0);default:return w()}}function N(R,J){var re=o;if(y(),s&&d("Syntax error, found trailing characters"),l){var ie=J.join(`
`),G=b(re).join(`
`);if(G||ie){var Q=n.createComment(R,n.getComment(R));Q.r=[ie,G]}}return R}function L(){y();var R=l?b(1):null;switch(s){case"{":return N(E(),R);case"[":return N(_(),R);default:return N(C(),R)}}function M(){y();var R=l?b(1):null;switch(s){case"{":return N(E(),R);case"[":return N(_(),R)}try{return N(E(!0),R)}catch(J){c();try{return N(C(),R)}catch{throw J}}}if(typeof e!="string")throw new Error("source is not a string");var B=null,F=!0;return t&&typeof t=="object"&&(l=t.keepWsc,B=t.dsf,F=t.legacyRoot!==!1),u=r.loadDsf(B,"parse"),i=e,c(),F?M():L()},Bme=function(e,t){var n=h_,r=IP,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},o=n.EOL,s="  ",a=!1,l=!1,u=!1,c=!1,f=0,d=1,h="",p=null,g=!1,v=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(o=t.eol),a=t.keepWsc,f=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?v.com[0]:"",p=t.dsf,g=t.sortProps,typeof t.space=="number"?s=new Array(t.space+1).join(" "):typeof t.space=="string"&&(s=t.space),t.colors===!0&&(v={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var m,y=Object.keys(i);for(m=y.length-1;m>=0;m--){var w=y[m];v[w].push(i[w][0].length,i[w][1].length)}}var b,$="-­؀-؄܏឴឵‌-‏\u2028- ⁠-⁯\uFEFF￰-￿",_=new RegExp('[\\\\\\"\0-'+$+"]","g"),E=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+$+"]","g"),C=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+$+"]","g"),N=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),L={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},M=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,B="",F=0;function R(P,z){return F+=P[0].length+P[1].length-P[2]-P[3],P[0]+z+P[1]}function J(P){return P.replace(_,function(z){var I=L[z];return typeof I=="string"?R(v.esc,I):R(v.uni,("0000"+z.charCodeAt(0).toString(16)).slice(-4))})}function re(P,z,I,k){return P?(E.lastIndex=0,N.lastIndex=0,c||I||E.test(P)||n.tryParseNumber(P,!0)!==void 0||N.test(P)?(_.lastIndex=0,C.lastIndex=0,_.test(P)?!C.test(P)&&!k&&d?ie(P,z):R(v.qstr,J(P)):R(v.qstr,P)):R(v.str,P)):R(v.qstr,"")}function ie(P,z){var I,k=P.replace(/\r/g,"").split(`
`);if(z+=s,k.length===1)return R(v.mstr,k[0]);var V=o+z+v.mstr[0];for(I=0;I<k.length;I++)V+=o,k[I]&&(V+=z+k[I]);return V+o+z+v.mstr[1]}function G(P){return P?u||M.test(P)?(_.lastIndex=0,R(v.qkey,_.test(P)?J(P):P)):R(v.key,P):'""'}function Q(P,z,I,k){function V(Me){return Me&&Me[Me[0]==="\r"?1:0]===`
`}function Z(Me){return Me&&!V(Me)}function oe(Me,un,St){if(!Me)return"";Me=n.forceComment(Me);var it,rn=Me.length;for(it=0;it<rn&&Me[it]<=" ";it++);return St&&it>0&&(Me=Me.substr(it)),it<rn?un+R(v.rem,Me):Me}var be=b(P);if(be!==void 0)return R(v.dsf,be);switch(typeof P){case"string":return re(P,B,z,k);case"number":return isFinite(P)?R(v.num,String(P)):R(v.lit,"null");case"boolean":return R(v.lit,String(P));case"object":if(!P)return R(v.lit,"null");var ce;a&&(ce=n.getComment(P));var xe=Object.prototype.toString.apply(P)==="[object Array]",Ue=B;B+=s;var _t=o+Ue,Ft=o+B,Qe=I||l?"":_t,Le=[],rt,Xe=f?[]:null,nn=c,Kt=d,yt=h?"":v.com[0],bt=0,Ge,at,Ct,Pt,ln,X,ue,$e,ze;if(xe){for(Ge=0,at=P.length;Ge<at;Ge++){if(rt=Ge<at-1,ce?(X=ce.a[Ge]||[],ue=Z(X[1]),Le.push(oe(X[0],`
`)+Ft),Xe&&(X[0]||X[1]||ue)&&(Xe=null)):Le.push(Ft),F=0,Pt=P[Ge],Le.push(Q(Pt,ce?ue:!1,!0)+(rt?h:"")),Xe){switch(typeof Pt){case"string":F=0,c=!0,d=0,Xe.push(Q(Pt,!1,!0)+(rt?v.com[0]:"")),c=nn,d=Kt;break;case"object":if(Pt){Xe=null;break}default:Xe.push(Le[Le.length-1]+(rt?yt:""));break}rt&&(F+=v.com[0].length-v.com[2]),bt+=F}ce&&X[1]&&Le.push(oe(X[1],ue?" ":`
`,ue))}at===0?ce&&ce.e&&Le.push(oe(ce.e[0],`
`)+_t):Le.push(_t),Le.length===0?$e=R(v.arr,""):($e=Qe+R(v.arr,Le.join("")),Xe&&(ze=Xe.join(" "),ze.length-bt<=f&&($e=R(v.arr,ze))))}else{var _e=ce?ce.o.slice():[],Fe=[];for(Ct in P)Object.prototype.hasOwnProperty.call(P,Ct)&&_e.indexOf(Ct)<0&&Fe.push(Ct);g&&Fe.sort();var Ee=_e.concat(Fe);for(Ge=0,at=Ee.length;Ge<at;Ge++)if(rt=Ge<at-1,Ct=Ee[Ge],ce?(X=ce.c[Ct]||[],ue=Z(X[1]),Le.push(oe(X[0],`
`)+Ft),Xe&&(X[0]||X[1]||ue)&&(Xe=null)):Le.push(Ft),F=0,Pt=P[Ct],ln=Q(Pt,ce&&ue),Le.push(G(Ct)+v.col[0]+(V(ln)?"":" ")+ln+(rt?h:"")),ce&&X[1]&&Le.push(oe(X[1],ue?" ":`
`,ue)),Xe){switch(typeof Pt){case"string":F=0,c=!0,d=0,ln=Q(Pt,!1),c=nn,d=Kt,Xe.push(G(Ct)+v.col[0]+" "+ln+(rt?v.com[0]:""));break;case"object":if(Pt){Xe=null;break}default:Xe.push(Le[Le.length-1]+(rt?yt:""));break}F+=v.col[0].length-v.col[2],rt&&(F+=v.com[0].length-v.com[2]),bt+=F}at===0?ce&&ce.e&&Le.push(oe(ce.e[0],`
`)+_t):Le.push(_t),Le.length===0?$e=R(v.obj,""):($e=Qe+R(v.obj,Le.join("")),Xe&&(ze=Xe.join(" "),ze.length-bt<=f&&($e=R(v.obj,ze))))}return B=Ue,$e}}b=r.loadDsf(p,"stringify");var q="",O=a?O=(n.getComment(e)||{}).r:null;return O&&O[0]&&(q=O[0]+`
`),q+=Q(e,null,!0,!0),O&&(q+=O[1]||""),q},fc=h_;function Fd(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function rE(e,t){if(!(e===null||typeof e!="object")){var n=fc.getComment(e);n&&fc.removeComment(e);var r,i,o,s;if(Object.prototype.toString.apply(e)==="[object Array]"){for(s={a:{}},r=0,i=e.length;r<i;r++)i2(s.a,r,n.a[r],rE(e[r]))&&(o=!0);!o&&n.e&&(s.e=Fd(n.e[0],n.e[1]),o=!0)}else{s={s:{}};var a,l=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(l).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=l,s.o=a,r=0,i=a.length;r<i;r++){var u=a[r];i2(s.s,u,n.c[u],rE(e[u]))&&(o=!0)}!o&&n.e&&(s.e=Fd(n.e[0],n.e[1]),o=!0)}return t&&n&&n.r&&(s.r=Fd(n.r[0],n.r[1])),o?s:void 0}}function Ume(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function Hme(e,t){var n=[];if(iE(e,t,n,[]),n.length>0){var r=a0(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+Ume(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),a0(t,r,1)}}function i2(e,t,n,r){var i=Fd(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Vd(e,t){var n=Fd(t.b,t.a);return n.path=e,n}function Bd(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var o=n.slice().concat([r]),s=e.a[r];s&&(t.push(Vd(o,s)),Bd(s.x,t,o))}else e.o&&e.o.forEach(function(a){var l=n.slice().concat([a]),u=e.s[a];u&&(t.push(Vd(l,u)),Bd(u.x,t,l))});e.e&&t.push(Vd(n,e.e))}}function iE(e,t,n,r){if(e){if(t===null||typeof t!="object"){Bd(e,n,r);return}var i,o=fc.createComment(t);if(r.length===0&&e.r&&(o.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){o.a=[];var s=e.a||{};for(var a in s)if(s.hasOwnProperty(a)){i=parseInt(a);var l=e.a[a];if(l){var u=r.slice().concat([i]);i<t.length?(o.a[i]=[l.b,l.a],iE(l.x,t[i],n,u)):(n.push(Vd(u,l)),Bd(l.x,n,u))}}i===0&&e.e&&(o.e=[e.e.b,e.e.a])}else o.c={},o.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(o.o.push(c),d&&(o.c[c]=[d.b,d.a],iE(d.x,t[c],n,f))):d&&(n.push(Vd(f,d)),Bd(d.x,n,f))}),e.e&&(o.e=[e.e.b,e.e.a])}}function a0(e,t,n){var r=fc.createComment(e,fc.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=fc.forceComment(t)),r.r[n]||""}var qme={extract:function(e){return rE(e,!0)},merge:Hme,header:function(e,t){return a0(e,t,0)},footer:function(e,t){return a0(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var o2=h_,Wme=Lme,s2=Vme,a2=Bme,Kme=qme,Gme=IP,kP={parse:s2,stringify:a2,endOfLine:function(){return o2.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(o2.EOL=e)},version:Wme,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,s2(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,a2(e,t)}},comments:Kme,dsf:Gme.std},oE={exports:{}},XU={},po={},Lc={},$p={},ht={},Ch={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((w,b)=>`${w}${b}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((w,b)=>(b instanceof n&&(w[b.str]=(w[b.str]||0)+1),w),{})}}e._Code=r,e.nil=new r("");function i(m,...y){const w=[m[0]];let b=0;for(;b<y.length;)a(w,y[b]),w.push(m[++b]);return new r(w)}e._=i;const o=new r("+");function s(m,...y){const w=[h(m[0])];let b=0;for(;b<y.length;)w.push(o),a(w,y[b]),w.push(o,h(m[++b]));return l(w),new r(w)}e.str=s;function a(m,y){y instanceof r?m.push(...y._items):y instanceof n?m.push(y):m.push(f(y))}e.addCodeArg=a;function l(m){let y=1;for(;y<m.length-1;){if(m[y]===o){const w=u(m[y-1],m[y+1]);if(w!==void 0){m.splice(y-1,3,w);continue}m[y++]="+"}y++}}function u(m,y){if(y==='""')return m;if(m==='""')return y;if(typeof m=="string")return y instanceof n||m[m.length-1]!=='"'?void 0:typeof y!="string"?`${m.slice(0,-1)}${y}"`:y[0]==='"'?m.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(m instanceof n))return`"${m}${y.slice(1)}`}function c(m,y){return y.emptyStr()?m:m.emptyStr()?y:s`${m}${y}`}e.strConcat=c;function f(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:h(Array.isArray(m)?m.join(","):m)}function d(m){return new r(h(m))}e.stringify=d;function h(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new r(`.${m}`):i`[${m}]`}e.getProperty=p;function g(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new r(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=g;function v(m){return new r(m.toString())}e.regexpCode=v})(Ch);var sE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Ch;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(u),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let g=this._values[h];if(g){const y=g.get(p);if(y)return y}else g=this._values[h]=new Map;g.set(p,d);const v=this._scope[h]||(this._scope[h]=[]),m=v.length;return v[m]=c.ref,d.setValue(c,{property:h,itemIndex:m}),d}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(u,c,f={},d){let h=t.nil;for(const p in u){const g=u[p];if(!g)continue;const v=f[p]=f[p]||new Map;g.forEach(m=>{if(v.has(m))return;v.set(m,r.Started);let y=c(m);if(y){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${w} ${m} = ${y};${this.opts._n}`}else if(y=d==null?void 0:d(m))h=(0,t._)`${h}${y}${this.opts._n}`;else throw new n(m);v.set(m,r.Completed)})}return h}}e.ValueScope=a})(sE);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Ch,n=sE;var r=Ch;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=sE;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(I,k){return this}}class s extends o{constructor(I,k,V){super(),this.varKind=I,this.name=k,this.rhs=V}render({es5:I,_n:k}){const V=I?n.varKinds.var:this.varKind,Z=this.rhs===void 0?"":` = ${this.rhs}`;return`${V} ${this.name}${Z};`+k}optimizeNames(I,k){if(I[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,I,k)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(I,k,V){super(),this.lhs=I,this.rhs=k,this.sideEffects=V}render({_n:I}){return`${this.lhs} = ${this.rhs};`+I}optimizeNames(I,k){if(!(this.lhs instanceof t.Name&&!I[this.lhs.str]&&!this.sideEffects))return this.rhs=R(this.rhs,I,k),this}get names(){const I=this.lhs instanceof t.Name?{}:{...this.lhs.names};return F(I,this.rhs)}}class l extends a{constructor(I,k,V,Z){super(I,V,Z),this.op=k}render({_n:I}){return`${this.lhs} ${this.op}= ${this.rhs};`+I}}class u extends o{constructor(I){super(),this.label=I,this.names={}}render({_n:I}){return`${this.label}:`+I}}class c extends o{constructor(I){super(),this.label=I,this.names={}}render({_n:I}){return`break${this.label?` ${this.label}`:""};`+I}}class f extends o{constructor(I){super(),this.error=I}render({_n:I}){return`throw ${this.error};`+I}get names(){return this.error.names}}class d extends o{constructor(I){super(),this.code=I}render({_n:I}){return`${this.code};`+I}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(I,k){return this.code=R(this.code,I,k),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends o{constructor(I=[]){super(),this.nodes=I}render(I){return this.nodes.reduce((k,V)=>k+V.render(I),"")}optimizeNodes(){const{nodes:I}=this;let k=I.length;for(;k--;){const V=I[k].optimizeNodes();Array.isArray(V)?I.splice(k,1,...V):V?I[k]=V:I.splice(k,1)}return I.length>0?this:void 0}optimizeNames(I,k){const{nodes:V}=this;let Z=V.length;for(;Z--;){const oe=V[Z];oe.optimizeNames(I,k)||(J(I,oe.names),V.splice(Z,1))}return V.length>0?this:void 0}get names(){return this.nodes.reduce((I,k)=>B(I,k.names),{})}}class p extends h{render(I){return"{"+I._n+super.render(I)+"}"+I._n}}class g extends h{}class v extends p{}v.kind="else";class m extends p{constructor(I,k){super(k),this.condition=I}render(I){let k=`if(${this.condition})`+super.render(I);return this.else&&(k+="else "+this.else.render(I)),k}optimizeNodes(){super.optimizeNodes();const I=this.condition;if(I===!0)return this.nodes;let k=this.else;if(k){const V=k.optimizeNodes();k=this.else=Array.isArray(V)?new v(V):V}if(k)return I===!1?k instanceof m?k:k.nodes:this.nodes.length?this:new m(re(I),k instanceof m?[k]:k.nodes);if(!(I===!1||!this.nodes.length))return this}optimizeNames(I,k){var V;if(this.else=(V=this.else)===null||V===void 0?void 0:V.optimizeNames(I,k),!!(super.optimizeNames(I,k)||this.else))return this.condition=R(this.condition,I,k),this}get names(){const I=super.names;return F(I,this.condition),this.else&&B(I,this.else.names),I}}m.kind="if";class y extends p{}y.kind="for";class w extends y{constructor(I){super(),this.iteration=I}render(I){return`for(${this.iteration})`+super.render(I)}optimizeNames(I,k){if(super.optimizeNames(I,k))return this.iteration=R(this.iteration,I,k),this}get names(){return B(super.names,this.iteration.names)}}class b extends y{constructor(I,k,V,Z){super(),this.varKind=I,this.name=k,this.from=V,this.to=Z}render(I){const k=I.es5?n.varKinds.var:this.varKind,{name:V,from:Z,to:oe}=this;return`for(${k} ${V}=${Z}; ${V}<${oe}; ${V}++)`+super.render(I)}get names(){const I=F(super.names,this.from);return F(I,this.to)}}class $ extends y{constructor(I,k,V,Z){super(),this.loop=I,this.varKind=k,this.name=V,this.iterable=Z}render(I){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(I)}optimizeNames(I,k){if(super.optimizeNames(I,k))return this.iterable=R(this.iterable,I,k),this}get names(){return B(super.names,this.iterable.names)}}class _ extends p{constructor(I,k,V){super(),this.name=I,this.args=k,this.async=V}render(I){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(I)}}_.kind="func";class E extends h{render(I){return"return "+super.render(I)}}E.kind="return";class C extends p{render(I){let k="try"+super.render(I);return this.catch&&(k+=this.catch.render(I)),this.finally&&(k+=this.finally.render(I)),k}optimizeNodes(){var I,k;return super.optimizeNodes(),(I=this.catch)===null||I===void 0||I.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(I,k){var V,Z;return super.optimizeNames(I,k),(V=this.catch)===null||V===void 0||V.optimizeNames(I,k),(Z=this.finally)===null||Z===void 0||Z.optimizeNames(I,k),this}get names(){const I=super.names;return this.catch&&B(I,this.catch.names),this.finally&&B(I,this.finally.names),I}}class N extends p{constructor(I){super(),this.error=I}render(I){return`catch(${this.error})`+super.render(I)}}N.kind="catch";class L extends p{render(I){return"finally"+super.render(I)}}L.kind="finally";class M{constructor(I,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=I,this._scope=new n.Scope({parent:I}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(I){return this._scope.name(I)}scopeName(I){return this._extScope.name(I)}scopeValue(I,k){const V=this._extScope.value(I,k);return(this._values[V.prefix]||(this._values[V.prefix]=new Set)).add(V),V}getScopeValue(I,k){return this._extScope.getValue(I,k)}scopeRefs(I){return this._extScope.scopeRefs(I,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(I,k,V,Z){const oe=this._scope.toName(k);return V!==void 0&&Z&&(this._constants[oe.str]=V),this._leafNode(new s(I,oe,V)),oe}const(I,k,V){return this._def(n.varKinds.const,I,k,V)}let(I,k,V){return this._def(n.varKinds.let,I,k,V)}var(I,k,V){return this._def(n.varKinds.var,I,k,V)}assign(I,k,V){return this._leafNode(new a(I,k,V))}add(I,k){return this._leafNode(new l(I,e.operators.ADD,k))}code(I){return typeof I=="function"?I():I!==t.nil&&this._leafNode(new d(I)),this}object(...I){const k=["{"];for(const[V,Z]of I)k.length>1&&k.push(","),k.push(V),(V!==Z||this.opts.es5)&&(k.push(":"),(0,t.addCodeArg)(k,Z));return k.push("}"),new t._Code(k)}if(I,k,V){if(this._blockNode(new m(I)),k&&V)this.code(k).else().code(V).endIf();else if(k)this.code(k).endIf();else if(V)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(I){return this._elseNode(new m(I))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(m,v)}_for(I,k){return this._blockNode(I),k&&this.code(k).endFor(),this}for(I,k){return this._for(new w(I),k)}forRange(I,k,V,Z,oe=this.opts.es5?n.varKinds.var:n.varKinds.let){const be=this._scope.toName(I);return this._for(new b(oe,be,k,V),()=>Z(be))}forOf(I,k,V,Z=n.varKinds.const){const oe=this._scope.toName(I);if(this.opts.es5){const be=k instanceof t.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,t._)`${be}.length`,ce=>{this.var(oe,(0,t._)`${be}[${ce}]`),V(oe)})}return this._for(new $("of",Z,oe,k),()=>V(oe))}forIn(I,k,V,Z=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(I,(0,t._)`Object.keys(${k})`,V);const oe=this._scope.toName(I);return this._for(new $("in",Z,oe,k),()=>V(oe))}endFor(){return this._endBlockNode(y)}label(I){return this._leafNode(new u(I))}break(I){return this._leafNode(new c(I))}return(I){const k=new E;if(this._blockNode(k),this.code(I),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(I,k,V){if(!k&&!V)throw new Error('CodeGen: "try" without "catch" and "finally"');const Z=new C;if(this._blockNode(Z),this.code(I),k){const oe=this.name("e");this._currNode=Z.catch=new N(oe),k(oe)}return V&&(this._currNode=Z.finally=new L,this.code(V)),this._endBlockNode(N,L)}throw(I){return this._leafNode(new f(I))}block(I,k){return this._blockStarts.push(this._nodes.length),I&&this.code(I).endBlock(k),this}endBlock(I){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const V=this._nodes.length-k;if(V<0||I!==void 0&&V!==I)throw new Error(`CodeGen: wrong number of nodes: ${V} vs ${I} expected`);return this._nodes.length=k,this}func(I,k=t.nil,V,Z){return this._blockNode(new _(I,k,V)),Z&&this.code(Z).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(I=1){for(;I-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(I){return this._currNode.nodes.push(I),this}_blockNode(I){this._currNode.nodes.push(I),this._nodes.push(I)}_endBlockNode(I,k){const V=this._currNode;if(V instanceof I||k&&V instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${I.kind}/${k.kind}`:I.kind}"`)}_elseNode(I){const k=this._currNode;if(!(k instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=I,this}get _root(){return this._nodes[0]}get _currNode(){const I=this._nodes;return I[I.length-1]}set _currNode(I){const k=this._nodes;k[k.length-1]=I}}e.CodeGen=M;function B(z,I){for(const k in I)z[k]=(z[k]||0)+(I[k]||0);return z}function F(z,I){return I instanceof t._CodeOrName?B(z,I.names):z}function R(z,I,k){if(z instanceof t.Name)return V(z);if(!Z(z))return z;return new t._Code(z._items.reduce((oe,be)=>(be instanceof t.Name&&(be=V(be)),be instanceof t._Code?oe.push(...be._items):oe.push(be),oe),[]));function V(oe){const be=k[oe.str];return be===void 0||I[oe.str]!==1?oe:(delete I[oe.str],be)}function Z(oe){return oe instanceof t._Code&&oe._items.some(be=>be instanceof t.Name&&I[be.str]===1&&k[be.str]!==void 0)}}function J(z,I){for(const k in I)z[k]=(z[k]||0)-(I[k]||0)}function re(z){return typeof z=="boolean"||typeof z=="number"||z===null?!z:(0,t._)`!${P(z)}`}e.not=re;const ie=O(e.operators.AND);function G(...z){return z.reduce(ie)}e.and=G;const Q=O(e.operators.OR);function q(...z){return z.reduce(Q)}e.or=q;function O(z){return(I,k)=>I===t.nil?k:k===t.nil?I:(0,t._)`${P(I)} ${z} ${P(k)}`}function P(z){return z instanceof t.Name?z:(0,t._)`(${z})`}})(ht);var Ot={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=ht,n=Ch;function r(_){const E={};for(const C of _)E[C]=!0;return E}e.toHash=r;function i(_,E){return typeof E=="boolean"?E:Object.keys(E).length===0?!0:(o(_,E),!s(E,_.self.RULES.all))}e.alwaysValidSchema=i;function o(_,E=_.schema){const{opts:C,self:N}=_;if(!C.strictSchema||typeof E=="boolean")return;const L=N.RULES.keywords;for(const M in E)L[M]||$(_,`unknown keyword: "${M}"`)}e.checkUnknownRules=o;function s(_,E){if(typeof _=="boolean")return!_;for(const C in _)if(E[C])return!0;return!1}e.schemaHasRules=s;function a(_,E){if(typeof _=="boolean")return!_;for(const C in _)if(C!=="$ref"&&E.all[C])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:_,schemaPath:E},C,N,L){if(!L){if(typeof C=="number"||typeof C=="boolean")return C;if(typeof C=="string")return(0,t._)`${C}`}return(0,t._)`${_}${E}${(0,t.getProperty)(N)}`}e.schemaRefOrVal=l;function u(_){return d(decodeURIComponent(_))}e.unescapeFragment=u;function c(_){return encodeURIComponent(f(_))}e.escapeFragment=c;function f(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=f;function d(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=d;function h(_,E){if(Array.isArray(_))for(const C of _)E(C);else E(_)}e.eachItem=h;function p({mergeNames:_,mergeToName:E,mergeValues:C,resultToName:N}){return(L,M,B,F)=>{const R=B===void 0?M:B instanceof t.Name?(M instanceof t.Name?_(L,M,B):E(L,M,B),B):M instanceof t.Name?(E(L,B,M),M):C(M,B);return F===t.Name&&!(R instanceof t.Name)?N(L,R):R}}e.mergeEvaluated={props:p({mergeNames:(_,E,C)=>_.if((0,t._)`${C} !== true && ${E} !== undefined`,()=>{_.if((0,t._)`${E} === true`,()=>_.assign(C,!0),()=>_.assign(C,(0,t._)`${C} || {}`).code((0,t._)`Object.assign(${C}, ${E})`))}),mergeToName:(_,E,C)=>_.if((0,t._)`${C} !== true`,()=>{E===!0?_.assign(C,!0):(_.assign(C,(0,t._)`${C} || {}`),v(_,C,E))}),mergeValues:(_,E)=>_===!0?!0:{..._,...E},resultToName:g}),items:p({mergeNames:(_,E,C)=>_.if((0,t._)`${C} !== true && ${E} !== undefined`,()=>_.assign(C,(0,t._)`${E} === true ? true : ${C} > ${E} ? ${C} : ${E}`)),mergeToName:(_,E,C)=>_.if((0,t._)`${C} !== true`,()=>_.assign(C,E===!0?!0:(0,t._)`${C} > ${E} ? ${C} : ${E}`)),mergeValues:(_,E)=>_===!0?!0:Math.max(_,E),resultToName:(_,E)=>_.var("items",E)})};function g(_,E){if(E===!0)return _.var("props",!0);const C=_.var("props",(0,t._)`{}`);return E!==void 0&&v(_,C,E),C}e.evaluatedPropsToName=g;function v(_,E,C){Object.keys(C).forEach(N=>_.assign((0,t._)`${E}${(0,t.getProperty)(N)}`,!0))}e.setEvaluated=v;const m={};function y(_,E){return _.scopeValue("func",{ref:E,code:m[E.code]||(m[E.code]=new n._Code(E.code))})}e.useFunc=y;var w;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(w=e.Type||(e.Type={}));function b(_,E,C){if(_ instanceof t.Name){const N=E===w.Num;return C?N?(0,t._)`"[" + ${_} + "]"`:(0,t._)`"['" + ${_} + "']"`:N?(0,t._)`"/" + ${_}`:(0,t._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return C?(0,t.getProperty)(_).toString():"/"+f(_)}e.getErrorPath=b;function $(_,E,C=_.opts.strictSchema){if(C){if(E=`strict mode: ${E}`,C===!0)throw new Error(E);_.self.logger.warn(E)}}e.checkStrictMode=$})(Ot);var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});const wr=ht,Yme={data:new wr.Name("data"),valCxt:new wr.Name("valCxt"),instancePath:new wr.Name("instancePath"),parentData:new wr.Name("parentData"),parentDataProperty:new wr.Name("parentDataProperty"),rootData:new wr.Name("rootData"),dynamicAnchors:new wr.Name("dynamicAnchors"),vErrors:new wr.Name("vErrors"),errors:new wr.Name("errors"),this:new wr.Name("this"),self:new wr.Name("self"),scope:new wr.Name("scope"),json:new wr.Name("json"),jsonPos:new wr.Name("jsonPos"),jsonLen:new wr.Name("jsonLen"),jsonPart:new wr.Name("jsonPart")};Ko.default=Yme;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=ht,n=Ot,r=Ko;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:m})=>m?(0,t.str)`"${v}" keyword must be ${m} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,m=e.keywordError,y,w){const{it:b}=v,{gen:$,compositeRule:_,allErrors:E}=b,C=f(v,m,y);w??(_||E)?l($,C):u(b,(0,t._)`[${C}]`)}e.reportError=i;function o(v,m=e.keywordError,y){const{it:w}=v,{gen:b,compositeRule:$,allErrors:_}=w,E=f(v,m,y);l(b,E),$||_||u(w,r.default.vErrors)}e.reportExtraError=o;function s(v,m){v.assign(r.default.errors,m),v.if((0,t._)`${r.default.vErrors} !== null`,()=>v.if(m,()=>v.assign((0,t._)`${r.default.vErrors}.length`,m),()=>v.assign(r.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:m,schemaValue:y,data:w,errsCount:b,it:$}){if(b===void 0)throw new Error("ajv implementation error");const _=v.name("err");v.forRange("i",b,r.default.errors,E=>{v.const(_,(0,t._)`${r.default.vErrors}[${E}]`),v.if((0,t._)`${_}.instancePath === undefined`,()=>v.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(r.default.instancePath,$.errorPath))),v.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${m}`),$.opts.verbose&&(v.assign((0,t._)`${_}.schema`,y),v.assign((0,t._)`${_}.data`,w))})}e.extendErrors=a;function l(v,m){const y=v.const("err",m);v.if((0,t._)`${r.default.vErrors} === null`,()=>v.assign(r.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${r.default.vErrors}.push(${y})`),v.code((0,t._)`${r.default.errors}++`)}function u(v,m){const{gen:y,validateName:w,schemaEnv:b}=v;b.$async?y.throw((0,t._)`new ${v.ValidationError}(${m})`):(y.assign((0,t._)`${w}.errors`,m),y.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(v,m,y){const{createErrors:w}=v.it;return w===!1?(0,t._)`{}`:d(v,m,y)}function d(v,m,y={}){const{gen:w,it:b}=v,$=[h(b,y),p(v,y)];return g(v,m,$),w.object(...$)}function h({errorPath:v},{instancePath:m}){const y=m?(0,t.str)`${v}${(0,n.getErrorPath)(m,n.Type.Str)}`:v;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,y)]}function p({keyword:v,it:{errSchemaPath:m}},{schemaPath:y,parentSchema:w}){let b=w?m:(0,t.str)`${m}/${v}`;return y&&(b=(0,t.str)`${b}${(0,n.getErrorPath)(y,n.Type.Str)}`),[c.schemaPath,b]}function g(v,{params:m,message:y},w){const{keyword:b,data:$,schemaValue:_,it:E}=v,{opts:C,propertyName:N,topSchemaRef:L,schemaPath:M}=E;w.push([c.keyword,b],[c.params,typeof m=="function"?m(v):m||(0,t._)`{}`]),C.messages&&w.push([c.message,typeof y=="function"?y(v):y]),C.verbose&&w.push([c.schema,_],[c.parentSchema,(0,t._)`${L}${M}`],[r.default.data,$]),N&&w.push([c.propertyName,N])}})($p);Object.defineProperty(Lc,"__esModule",{value:!0});Lc.boolOrEmptySchema=Lc.topBoolOrEmptySchema=void 0;const Qme=$p,Xme=ht,Jme=Ko,Zme={message:"boolean schema is false"};function ege(e){const{gen:t,schema:n,validateName:r}=e;n===!1?JU(e,!1):typeof n=="object"&&n.$async===!0?t.return(Jme.default.data):(t.assign((0,Xme._)`${r}.errors`,null),t.return(!0))}Lc.topBoolOrEmptySchema=ege;function tge(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),JU(e)):n.var(t,!0)}Lc.boolOrEmptySchema=tge;function JU(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Qme.reportError)(i,Zme,void 0,t)}var Ep={},Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.getRules=Wl.isJSONType=void 0;const nge=["string","number","integer","boolean","null","object","array"],rge=new Set(nge);function ige(e){return typeof e=="string"&&rge.has(e)}Wl.isJSONType=ige;function oge(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Wl.getRules=oge;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.shouldUseRule=hs.shouldUseGroup=hs.schemaHasRulesForType=void 0;function sge({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&ZU(e,r)}hs.schemaHasRulesForType=sge;function ZU(e,t){return t.rules.some(n=>e8(e,n))}hs.shouldUseGroup=ZU;function e8(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}hs.shouldUseRule=e8;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Wl,n=hs,r=$p,i=ht,o=Ot;var s;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(w){const b=l(w.type);if(b.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!b.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&b.push("null")}return b}e.getSchemaTypes=a;function l(w){const b=Array.isArray(w)?w:w?[w]:[];if(b.every(t.isJSONType))return b;throw new Error("type must be JSONType or JSONType[]: "+b.join(","))}e.getJSONTypes=l;function u(w,b){const{gen:$,data:_,opts:E}=w,C=f(b,E.coerceTypes),N=b.length>0&&!(C.length===0&&b.length===1&&(0,n.schemaHasRulesForType)(w,b[0]));if(N){const L=g(b,_,E.strictNumbers,s.Wrong);$.if(L,()=>{C.length?d(w,b,C):m(w)})}return N}e.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function f(w,b){return b?w.filter($=>c.has($)||b==="array"&&$==="array"):[]}function d(w,b,$){const{gen:_,data:E,opts:C}=w,N=_.let("dataType",(0,i._)`typeof ${E}`),L=_.let("coerced",(0,i._)`undefined`);C.coerceTypes==="array"&&_.if((0,i._)`${N} == 'object' && Array.isArray(${E}) && ${E}.length == 1`,()=>_.assign(E,(0,i._)`${E}[0]`).assign(N,(0,i._)`typeof ${E}`).if(g(b,E,C.strictNumbers),()=>_.assign(L,E))),_.if((0,i._)`${L} !== undefined`);for(const B of $)(c.has(B)||B==="array"&&C.coerceTypes==="array")&&M(B);_.else(),m(w),_.endIf(),_.if((0,i._)`${L} !== undefined`,()=>{_.assign(E,L),h(w,L)});function M(B){switch(B){case"string":_.elseIf((0,i._)`${N} == "number" || ${N} == "boolean"`).assign(L,(0,i._)`"" + ${E}`).elseIf((0,i._)`${E} === null`).assign(L,(0,i._)`""`);return;case"number":_.elseIf((0,i._)`${N} == "boolean" || ${E} === null
              || (${N} == "string" && ${E} && ${E} == +${E})`).assign(L,(0,i._)`+${E}`);return;case"integer":_.elseIf((0,i._)`${N} === "boolean" || ${E} === null
              || (${N} === "string" && ${E} && ${E} == +${E} && !(${E} % 1))`).assign(L,(0,i._)`+${E}`);return;case"boolean":_.elseIf((0,i._)`${E} === "false" || ${E} === 0 || ${E} === null`).assign(L,!1).elseIf((0,i._)`${E} === "true" || ${E} === 1`).assign(L,!0);return;case"null":_.elseIf((0,i._)`${E} === "" || ${E} === 0 || ${E} === false`),_.assign(L,null);return;case"array":_.elseIf((0,i._)`${N} === "string" || ${N} === "number"
              || ${N} === "boolean" || ${E} === null`).assign(L,(0,i._)`[${E}]`)}}}function h({gen:w,parentData:b,parentDataProperty:$},_){w.if((0,i._)`${b} !== undefined`,()=>w.assign((0,i._)`${b}[${$}]`,_))}function p(w,b,$,_=s.Correct){const E=_===s.Correct?i.operators.EQ:i.operators.NEQ;let C;switch(w){case"null":return(0,i._)`${b} ${E} null`;case"array":C=(0,i._)`Array.isArray(${b})`;break;case"object":C=(0,i._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":C=N((0,i._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":C=N();break;default:return(0,i._)`typeof ${b} ${E} ${w}`}return _===s.Correct?C:(0,i.not)(C);function N(L=i.nil){return(0,i.and)((0,i._)`typeof ${b} == "number"`,L,$?(0,i._)`isFinite(${b})`:i.nil)}}e.checkDataType=p;function g(w,b,$,_){if(w.length===1)return p(w[0],b,$,_);let E;const C=(0,o.toHash)(w);if(C.array&&C.object){const N=(0,i._)`typeof ${b} != "object"`;E=C.null?N:(0,i._)`!${b} || ${N}`,delete C.null,delete C.array,delete C.object}else E=i.nil;C.number&&delete C.integer;for(const N in C)E=(0,i.and)(E,p(N,b,$,_));return E}e.checkDataTypes=g;const v={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:b})=>typeof w=="string"?(0,i._)`{type: ${w}}`:(0,i._)`{type: ${b}}`};function m(w){const b=y(w);(0,r.reportError)(b,v)}e.reportTypeError=m;function y(w){const{gen:b,data:$,schema:_}=w,E=(0,o.schemaRefOrVal)(w,_,"type");return{gen:b,keyword:"type",data:$,schema:_.type,schemaCode:E,schemaValue:E,parentSchema:_,params:{},it:w}}})(Ep);var p_={};Object.defineProperty(p_,"__esModule",{value:!0});p_.assignDefaults=void 0;const Ou=ht,age=Ot;function lge(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)l2(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,o)=>l2(e,o,i.default))}p_.assignDefaults=lge;function l2(e,t,n){const{gen:r,compositeRule:i,data:o,opts:s}=e;if(n===void 0)return;const a=(0,Ou._)`${o}${(0,Ou.getProperty)(t)}`;if(i){(0,age.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,Ou._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,Ou._)`${l} || ${a} === null || ${a} === ""`),r.if(l,(0,Ou._)`${a} = ${(0,Ou.stringify)(n)}`)}var Ao={},dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.validateUnion=dt.validateArray=dt.usePattern=dt.callValidateCode=dt.schemaProperties=dt.allSchemaProperties=dt.noPropertyInData=dt.propertyInData=dt.isOwnProperty=dt.hasPropFunc=dt.reportMissingProp=dt.checkMissingProp=dt.checkReportMissingProp=void 0;const Zt=ht,TP=Ot,js=Ko,uge=Ot;function cge(e,t){const{gen:n,data:r,it:i}=e;n.if(NP(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Zt._)`${t}`},!0),e.error()})}dt.checkReportMissingProp=cge;function fge({gen:e,data:t,it:{opts:n}},r,i){return(0,Zt.or)(...r.map(o=>(0,Zt.and)(NP(e,t,o,n.ownProperties),(0,Zt._)`${i} = ${o}`)))}dt.checkMissingProp=fge;function dge(e,t){e.setParams({missingProperty:t},!0),e.error()}dt.reportMissingProp=dge;function t8(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Zt._)`Object.prototype.hasOwnProperty`})}dt.hasPropFunc=t8;function AP(e,t,n){return(0,Zt._)`${t8(e)}.call(${t}, ${n})`}dt.isOwnProperty=AP;function hge(e,t,n,r){const i=(0,Zt._)`${t}${(0,Zt.getProperty)(n)} !== undefined`;return r?(0,Zt._)`${i} && ${AP(e,t,n)}`:i}dt.propertyInData=hge;function NP(e,t,n,r){const i=(0,Zt._)`${t}${(0,Zt.getProperty)(n)} === undefined`;return r?(0,Zt.or)(i,(0,Zt.not)(AP(e,t,n))):i}dt.noPropertyInData=NP;function n8(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}dt.allSchemaProperties=n8;function pge(e,t){return n8(t).filter(n=>!(0,TP.alwaysValidSchema)(e,t[n]))}dt.schemaProperties=pge;function mge({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:o},it:s},a,l,u){const c=u?(0,Zt._)`${e}, ${t}, ${r}${i}`:t,f=[[js.default.instancePath,(0,Zt.strConcat)(js.default.instancePath,o)],[js.default.parentData,s.parentData],[js.default.parentDataProperty,s.parentDataProperty],[js.default.rootData,js.default.rootData]];s.opts.dynamicRef&&f.push([js.default.dynamicAnchors,js.default.dynamicAnchors]);const d=(0,Zt._)`${c}, ${n.object(...f)}`;return l!==Zt.nil?(0,Zt._)`${a}.call(${l}, ${d})`:(0,Zt._)`${a}(${d})`}dt.callValidateCode=mge;const gge=(0,Zt._)`new RegExp`;function yge({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(n,r);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Zt._)`${i.code==="new RegExp"?gge:(0,uge.useFunc)(e,i)}(${n}, ${r})`})}dt.usePattern=yge;function vge(e){const{gen:t,data:n,keyword:r,it:i}=e,o=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(o,!0),s(()=>t.break()),o;function s(a){const l=t.const("len",(0,Zt._)`${n}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:r,dataProp:u,dataPropType:TP.Type.Num},o),t.if((0,Zt.not)(o),a)})}}dt.validateArray=vge;function wge(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,TP.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const s=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((l,u)=>{const c=e.subschema({keyword:r,schemaProp:u,compositeRule:!0},a);t.assign(s,(0,Zt._)`${s} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Zt.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}dt.validateUnion=wge;Object.defineProperty(Ao,"__esModule",{value:!0});Ao.validateKeywordUsage=Ao.validSchemaType=Ao.funcKeywordCode=Ao.macroKeywordCode=void 0;const Nr=ht,hl=Ko,_ge=dt,bge=$p;function Sge(e,t){const{gen:n,keyword:r,schema:i,parentSchema:o,it:s}=e,a=t.macro.call(s.self,i,o,s),l=r8(n,r,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const u=n.name("valid");e.subschema({schema:a,schemaPath:Nr.nil,errSchemaPath:`${s.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Ao.macroKeywordCode=Sge;function $ge(e,t){var n;const{gen:r,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=e;xge(l,t);const u=!a&&t.compile?t.compile.call(l.self,o,s,l):t.validate,c=r8(r,i,u),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)g(),t.modifying&&u2(e),v(()=>e.error());else{const m=t.async?h():p();t.modifying&&u2(e),v(()=>Ege(e,m))}}function h(){const m=r.let("ruleErrs",null);return r.try(()=>g((0,Nr._)`await `),y=>r.assign(f,!1).if((0,Nr._)`${y} instanceof ${l.ValidationError}`,()=>r.assign(m,(0,Nr._)`${y}.errors`),()=>r.throw(y))),m}function p(){const m=(0,Nr._)`${c}.errors`;return r.assign(m,null),g(Nr.nil),m}function g(m=t.async?(0,Nr._)`await `:Nr.nil){const y=l.opts.passContext?hl.default.this:hl.default.self,w=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,Nr._)`${m}${(0,_ge.callValidateCode)(e,c,y,w)}`,t.modifying)}function v(m){var y;r.if((0,Nr.not)((y=t.valid)!==null&&y!==void 0?y:f),m)}}Ao.funcKeywordCode=$ge;function u2(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,Nr._)`${r.parentData}[${r.parentDataProperty}]`))}function Ege(e,t){const{gen:n}=e;n.if((0,Nr._)`Array.isArray(${t})`,()=>{n.assign(hl.default.vErrors,(0,Nr._)`${hl.default.vErrors} === null ? ${t} : ${hl.default.vErrors}.concat(${t})`).assign(hl.default.errors,(0,Nr._)`${hl.default.vErrors}.length`),(0,bge.extendErrors)(e)},()=>e.error())}function xge({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function r8(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Nr.stringify)(n)})}function Oge(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Ao.validSchemaType=Oge;function Pge({schema:e,opts:t,self:n,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}Ao.validateKeywordUsage=Pge;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.extendSubschemaMode=wa.extendSubschemaData=wa.getSubschema=void 0;const Io=ht,i8=Ot;function Cge(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Io._)`${e.schemaPath}${(0,Io.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Io._)`${e.schemaPath}${(0,Io.getProperty)(t)}${(0,Io.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i8.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}wa.getSubschema=Cge;function Ige(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Io._)`${t.data}${(0,Io.getProperty)(n)}`,!0);l(d),e.errorPath=(0,Io.str)`${u}${(0,i8.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Io._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Io.Name?i:a.let("data",i,!0);l(u),s!==void 0&&(e.propertyName=s)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}wa.extendSubschemaData=Ige;function kge(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:o}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}wa.extendSubschemaMode=kge;var ur={},RP=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const c2=Wo(RP);var o8={exports:{}},sa=o8.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};zg(t,r,i,e,"",e)};sa.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};sa.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};sa.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};sa.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function zg(e,t,n,r,i,o,s,a,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,o,s,a,l,u);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in sa.arrayKeywords)for(var d=0;d<f.length;d++)zg(e,t,n,f[d],i+"/"+c+"/"+d,o,i,c,r,d)}else if(c in sa.propsKeywords){if(f&&typeof f=="object")for(var h in f)zg(e,t,n,f[h],i+"/"+c+"/"+Tge(h),o,i,c,r,h)}else(c in sa.keywords||e.allKeys&&!(c in sa.skipKeywords))&&zg(e,t,n,f,i+"/"+c,o,i,c,r)}n(r,i,o,s,a,l,u)}}function Tge(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Age=o8.exports;Object.defineProperty(ur,"__esModule",{value:!0});ur.getSchemaRefs=ur.resolveUrl=ur.normalizeId=ur._getFullPath=ur.getFullPath=ur.inlineRef=void 0;const Nge=Ot,Rge=RP,Dge=Age,Mge=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Lge(e,t=!0){return typeof e=="boolean"?!0:t===!0?!aE(e):t?s8(e)<=t:!1}ur.inlineRef=Lge;const jge=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function aE(e){for(const t in e){if(jge.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(aE)||typeof n=="object"&&aE(n))return!0}return!1}function s8(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!Mge.has(n)&&(typeof e[n]=="object"&&(0,Nge.eachItem)(e[n],r=>t+=s8(r)),t===1/0))return 1/0}return t}function a8(e,t="",n){n!==!1&&(t=dc(t));const r=e.parse(t);return l8(e,r)}ur.getFullPath=a8;function l8(e,t){return e.serialize(t).split("#")[0]+"#"}ur._getFullPath=l8;const zge=/#\/?$/;function dc(e){return e?e.replace(zge,""):""}ur.normalizeId=dc;function Fge(e,t,n){return n=dc(n),e.resolve(t,n)}ur.resolveUrl=Fge;const Vge=/^[a-z_][-a-z0-9._]*$/i;function Bge(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=dc(e[n]||t),o={"":i},s=a8(r,i,!1),a={},l=new Set;return Dge(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const g=s+d;let v=o[p];typeof f[n]=="string"&&(v=m.call(this,f[n])),y.call(this,f.$anchor),y.call(this,f.$dynamicAnchor),o[d]=v;function m(w){const b=this.opts.uriResolver.resolve;if(w=dc(v?b(v,w):w),l.has(w))throw c(w);l.add(w);let $=this.refs[w];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(f,$.schema,w):w!==dc(g)&&(w[0]==="#"?(u(f,a[w],w),a[w]=f):this.refs[w]=g),w}function y(w){if(typeof w=="string"){if(!Vge.test(w))throw new Error(`invalid anchor "${w}"`);m.call(this,`#${w}`)}}}),a;function u(f,d,h){if(d!==void 0&&!Rge(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}ur.getSchemaRefs=Bge;Object.defineProperty(po,"__esModule",{value:!0});po.getData=po.KeywordCxt=po.validateFunctionCode=void 0;const u8=Lc,f2=Ep,DP=hs,l0=Ep,Uge=p_,Ud=Ao,j1=wa,De=ht,Ye=Ko,Hge=ur,ps=Ot,Jf=$p;function qge(e){if(d8(e)&&(h8(e),f8(e))){Gge(e);return}c8(e,()=>(0,u8.topBoolOrEmptySchema)(e))}po.validateFunctionCode=qge;function c8({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},o){i.code.es5?e.func(t,(0,De._)`${Ye.default.data}, ${Ye.default.valCxt}`,r.$async,()=>{e.code((0,De._)`"use strict"; ${d2(n,i)}`),Kge(e,i),e.code(o)}):e.func(t,(0,De._)`${Ye.default.data}, ${Wge(i)}`,r.$async,()=>e.code(d2(n,i)).code(o))}function Wge(e){return(0,De._)`{${Ye.default.instancePath}="", ${Ye.default.parentData}, ${Ye.default.parentDataProperty}, ${Ye.default.rootData}=${Ye.default.data}${e.dynamicRef?(0,De._)`, ${Ye.default.dynamicAnchors}={}`:De.nil}}={}`}function Kge(e,t){e.if(Ye.default.valCxt,()=>{e.var(Ye.default.instancePath,(0,De._)`${Ye.default.valCxt}.${Ye.default.instancePath}`),e.var(Ye.default.parentData,(0,De._)`${Ye.default.valCxt}.${Ye.default.parentData}`),e.var(Ye.default.parentDataProperty,(0,De._)`${Ye.default.valCxt}.${Ye.default.parentDataProperty}`),e.var(Ye.default.rootData,(0,De._)`${Ye.default.valCxt}.${Ye.default.rootData}`),t.dynamicRef&&e.var(Ye.default.dynamicAnchors,(0,De._)`${Ye.default.valCxt}.${Ye.default.dynamicAnchors}`)},()=>{e.var(Ye.default.instancePath,(0,De._)`""`),e.var(Ye.default.parentData,(0,De._)`undefined`),e.var(Ye.default.parentDataProperty,(0,De._)`undefined`),e.var(Ye.default.rootData,Ye.default.data),t.dynamicRef&&e.var(Ye.default.dynamicAnchors,(0,De._)`{}`)})}function Gge(e){const{schema:t,opts:n,gen:r}=e;c8(e,()=>{n.$comment&&t.$comment&&m8(e),Zge(e),r.let(Ye.default.vErrors,null),r.let(Ye.default.errors,0),n.unevaluated&&Yge(e),p8(e),nye(e)})}function Yge(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,De._)`${n}.evaluated`),t.if((0,De._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,De._)`${e.evaluated}.props`,(0,De._)`undefined`)),t.if((0,De._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,De._)`${e.evaluated}.items`,(0,De._)`undefined`))}function d2(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,De._)`/*# sourceURL=${n} */`:De.nil}function Qge(e,t){if(d8(e)&&(h8(e),f8(e))){Xge(e,t);return}(0,u8.boolOrEmptySchema)(e,t)}function f8({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function d8(e){return typeof e.schema!="boolean"}function Xge(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&m8(e),eye(e),tye(e);const o=r.const("_errs",Ye.default.errors);p8(e,o),r.var(t,(0,De._)`${o} === ${Ye.default.errors}`)}function h8(e){(0,ps.checkUnknownRules)(e),Jge(e)}function p8(e,t){if(e.opts.jtd)return h2(e,[],!1,t);const n=(0,f2.getSchemaTypes)(e.schema),r=(0,f2.coerceAndCheckDataType)(e,n);h2(e,n,!r,t)}function Jge(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,ps.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function Zge(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,ps.checkStrictMode)(e,"default is ignored in the schema root")}function eye(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Hge.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function tye(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function m8({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const o=n.$comment;if(i.$comment===!0)e.code((0,De._)`${Ye.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,De.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,De._)`${Ye.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function nye(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=e;n.$async?t.if((0,De._)`${Ye.default.errors} === 0`,()=>t.return(Ye.default.data),()=>t.throw((0,De._)`new ${i}(${Ye.default.vErrors})`)):(t.assign((0,De._)`${r}.errors`,Ye.default.vErrors),o.unevaluated&&rye(e),t.return((0,De._)`${Ye.default.errors} === 0`))}function rye({gen:e,evaluated:t,props:n,items:r}){n instanceof De.Name&&e.assign((0,De._)`${t}.props`,n),r instanceof De.Name&&e.assign((0,De._)`${t}.items`,r)}function h2(e,t,n,r){const{gen:i,schema:o,data:s,allErrors:a,opts:l,self:u}=e,{RULES:c}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,ps.schemaHasRulesButRef)(o,c))){i.block(()=>v8(e,"$ref",c.all.$ref.definition));return}l.jtd||iye(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,DP.shouldUseGroup)(o,d)&&(d.type?(i.if((0,l0.checkDataType)(d.type,s,l.strictNumbers)),p2(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,l0.reportTypeError)(e)),i.endIf()):p2(e,d),a||i.if((0,De._)`${Ye.default.errors} === ${r||0}`))}}function p2(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,Uge.assignDefaults)(e,t.type),n.block(()=>{for(const o of t.rules)(0,DP.shouldUseRule)(r,o)&&v8(e,o.keyword,o.definition,t.type)})}function iye(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(oye(e,t),e.opts.allowUnionTypes||sye(e,t),aye(e,e.dataTypes))}function oye(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{g8(e.dataTypes,n)||MP(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),uye(e,t)}}function sye(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&MP(e,"use allowUnionTypes to allow union type keyword")}function aye(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,DP.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>lye(t,s))&&MP(e,`missing type "${o.join(",")}" for keyword "${r}"`)}}}function lye(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function g8(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function uye(e,t){const n=[];for(const r of e.dataTypes)g8(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function MP(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,ps.checkStrictMode)(e,t,e.opts.strictTypes)}class y8{constructor(t,n,r){if((0,Ud.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ps.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",w8(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ud.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Ye.default.errors))}result(t,n,r){this.failResult((0,De.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,De.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,De._)`${n} !== undefined && (${(0,De.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?Jf.reportExtraError:Jf.reportError)(this,this.def.error,n)}$dataError(){(0,Jf.reportError)(this,this.def.$dataError||Jf.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Jf.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=De.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=De.nil,n=De.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:o,def:s}=this;r.if((0,De.or)((0,De._)`${i} === undefined`,n)),t!==De.nil&&r.assign(t,!0),(o.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==De.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:o}=this;return(0,De.or)(s(),a());function s(){if(r.length){if(!(n instanceof De.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,De._)`${(0,l0.checkDataTypes)(l,n,o.opts.strictNumbers,l0.DataType.Wrong)}`}return De.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,De._)`!${l}(${n})`}return De.nil}}subschema(t,n){const r=(0,j1.getSubschema)(this.it,t);(0,j1.extendSubschemaData)(r,this.it,t),(0,j1.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return Qge(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=ps.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=ps.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,De.Name)),!0}}po.KeywordCxt=y8;function v8(e,t,n,r){const i=new y8(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Ud.funcKeywordCode)(i,n):"macro"in n?(0,Ud.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Ud.funcKeywordCode)(i,n)}const cye=/^\/(?:[^~]|~0|~1)*$/,fye=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function w8(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,o;if(e==="")return Ye.default.rootData;if(e[0]==="/"){if(!cye.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=Ye.default.rootData}else{const u=fye.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=t)throw new Error(l("property/index",c));return r[t-c]}if(c>t)throw new Error(l("data",c));if(o=n[t-c],!i)return o}let s=o;const a=i.split("/");for(const u of a)u&&(o=(0,De._)`${o}${(0,De.getProperty)((0,ps.unescapeJsonPointer)(u))}`,s=(0,De._)`${s} && ${o}`);return s;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${t}`}}po.getData=w8;var xp={};Object.defineProperty(xp,"__esModule",{value:!0});class dye extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}xp.default=dye;var Op={};Object.defineProperty(Op,"__esModule",{value:!0});const z1=ur;class hye extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,z1.resolveUrl)(t,n,r),this.missingSchema=(0,z1.normalizeId)((0,z1.getFullPath)(t,this.missingRef))}}Op.default=hye;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.resolveSchema=Xr.getCompilingSchema=Xr.resolveRef=Xr.compileSchema=Xr.SchemaEnv=void 0;const no=ht,pye=xp,Za=Ko,lo=ur,m2=Ot,mye=po;class m_{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,lo.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Xr.SchemaEnv=m_;function LP(e){const t=_8.call(this,e);if(t)return t;const n=(0,lo.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new no.CodeGen(this.scope,{es5:r,lines:i,ownProperties:o});let a;e.$async&&(a=s.scopeValue("Error",{ref:pye.default,code:(0,no._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");e.validateName=l;const u={gen:s,allErrors:this.opts.allErrors,data:Za.default.data,parentData:Za.default.parentData,parentDataProperty:Za.default.parentDataProperty,dataNames:[Za.default.data],dataPathArr:[no.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,no.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:no.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,no._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,mye.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const f=s.toString();c=`${s.scopeRefs(Za.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Za.default.self}`,`${Za.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:l,validateCode:f,scopeValues:s._values}),this.opts.unevaluated){const{props:p,items:g}=u;h.evaluated={props:p instanceof no.Name?void 0:p,items:g instanceof no.Name?void 0:g,dynamicProps:p instanceof no.Name,dynamicItems:g instanceof no.Name},h.source&&(h.source.evaluated=(0,no.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Xr.compileSchema=LP;function gye(e,t,n){var r;n=(0,lo.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let o=wye.call(this,e,n);if(o===void 0){const s=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;s&&(o=new m_({schema:s,schemaId:a,root:e,baseId:t}))}if(o!==void 0)return e.refs[n]=yye.call(this,o)}Xr.resolveRef=gye;function yye(e){return(0,lo.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:LP.call(this,e)}function _8(e){for(const t of this._compilations)if(vye(t,e))return t}Xr.getCompilingSchema=_8;function vye(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function wye(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||g_.call(this,e,t)}function g_(e,t){const n=this.opts.uriResolver.parse(t),r=(0,lo._getFullPath)(this.opts.uriResolver,n);let i=(0,lo.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return F1.call(this,n,e);const o=(0,lo.normalizeId)(r),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=g_.call(this,e,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:F1.call(this,n,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||LP.call(this,s),o===(0,lo.normalizeId)(t)){const{schema:a}=s,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,lo.resolveUrl)(this.opts.uriResolver,i,u)),new m_({schema:a,schemaId:l,root:e,baseId:i})}return F1.call(this,n,s)}}Xr.resolveSchema=g_;const _ye=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function F1(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,m2.unescapeFragment)(a)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!_ye.has(a)&&u&&(t=(0,lo.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof n!="boolean"&&n.$ref&&!(0,m2.schemaHasRulesButRef)(n,this.RULES)){const a=(0,lo.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=g_.call(this,r,a)}const{schemaId:s}=this.opts;if(o=o||new m_({schema:n,schemaId:s,root:r,baseId:t}),o.schema!==o.root.schema)return o}const bye="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Sye="Meta-schema for $data reference (JSON AnySchema extension proposal)",$ye="object",Eye=["$data"],xye={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Oye=!1,Pye={$id:bye,description:Sye,type:$ye,required:Eye,properties:xye,additionalProperties:Oye};var jP={},lE={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(ns,function(n){function r(){for(var U=arguments.length,D=Array(U),H=0;H<U;H++)D[H]=arguments[H];if(D.length>1){D[0]=D[0].slice(0,-1);for(var ne=D.length-1,te=1;te<ne;++te)D[te]=D[te].slice(1,-1);return D[ne]=D[ne].slice(1),D.join("")}else return D[0]}function i(U){return"(?:"+U+")"}function o(U){return U===void 0?"undefined":U===null?"null":Object.prototype.toString.call(U).split(" ").pop().split("]").shift().toLowerCase()}function s(U){return U.toUpperCase()}function a(U){return U!=null?U instanceof Array?U:typeof U.length!="number"||U.split||U.setInterval||U.call?[U]:Array.prototype.slice.call(U):[]}function l(U,D){var H=U;if(D)for(var ne in D)H[ne]=D[ne];return H}function u(U){var D="[A-Za-z]",H="[0-9]",ne=r(H,"[A-Fa-f]"),te=i(i("%[EFef]"+ne+"%"+ne+ne+"%"+ne+ne)+"|"+i("%[89A-Fa-f]"+ne+"%"+ne+ne)+"|"+i("%"+ne+ne)),Ce="[\\:\\/\\?\\#\\[\\]\\@]",le="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Pe=r(Ce,le),Je=U?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Re=U?"[\\uE000-\\uF8FF]":"[]",Ze=r(D,H,"[\\-\\.\\_\\~]",Je);i(D+r(D,H,"[\\+\\-\\.]")+"*"),i(i(te+"|"+r(Ze,le,"[\\:]"))+"*");var lt=i(i("25[0-5]")+"|"+i("2[0-4]"+H)+"|"+i("1"+H+H)+"|"+i("0?[1-9]"+H)+"|0?0?"+H),qt=i(lt+"\\."+lt+"\\."+lt+"\\."+lt),He=i(ne+"{1,4}"),Vt=i(i(He+"\\:"+He)+"|"+qt),st=i(i(He+"\\:")+"{6}"+Vt),kt=i("\\:\\:"+i(He+"\\:")+"{5}"+Vt),Mn=i(i(He)+"?\\:\\:"+i(He+"\\:")+"{4}"+Vt),Tr=i(i(i(He+"\\:")+"{0,1}"+He)+"?\\:\\:"+i(He+"\\:")+"{3}"+Vt),Ln=i(i(i(He+"\\:")+"{0,2}"+He)+"?\\:\\:"+i(He+"\\:")+"{2}"+Vt),bo=i(i(i(He+"\\:")+"{0,3}"+He)+"?\\:\\:"+He+"\\:"+Vt),Ur=i(i(i(He+"\\:")+"{0,4}"+He)+"?\\:\\:"+Vt),$n=i(i(i(He+"\\:")+"{0,5}"+He)+"?\\:\\:"+He),ke=i(i(i(He+"\\:")+"{0,6}"+He)+"?\\:\\:"),pt=i([st,kt,Mn,Tr,Ln,bo,Ur,$n,ke].join("|")),cn=i(i(Ze+"|"+te)+"+");i("[vV]"+ne+"+\\."+r(Ze,le,"[\\:]")+"+"),i(i(te+"|"+r(Ze,le))+"*");var gr=i(te+"|"+r(Ze,le,"[\\:\\@]"));return i(i(te+"|"+r(Ze,le,"[\\@]"))+"+"),i(i(gr+"|"+r("[\\/\\?]",Re))+"*"),{NOT_SCHEME:new RegExp(r("[^]",D,H,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Ze,le),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Ze,le),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Ze,le),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Ze,le),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Ze,le,"[\\:\\@\\/\\?]",Re),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Ze,le,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Ze,le),"g"),UNRESERVED:new RegExp(Ze,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Ze,Pe),"g"),PCT_ENCODED:new RegExp(te,"g"),IPV4ADDRESS:new RegExp("^("+qt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+pt+")"+i(i("\\%25|\\%(?!"+ne+"{2})")+"("+cn+")")+"?\\]?$")}}var c=u(!1),f=u(!0),d=function(){function U(D,H){var ne=[],te=!0,Ce=!1,le=void 0;try{for(var Pe=D[Symbol.iterator](),Je;!(te=(Je=Pe.next()).done)&&(ne.push(Je.value),!(H&&ne.length===H));te=!0);}catch(Re){Ce=!0,le=Re}finally{try{!te&&Pe.return&&Pe.return()}finally{if(Ce)throw le}}return ne}return function(D,H){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return U(D,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(U){if(Array.isArray(U)){for(var D=0,H=Array(U.length);D<U.length;D++)H[D]=U[D];return H}else return Array.from(U)},p=2147483647,g=36,v=1,m=26,y=38,w=700,b=72,$=128,_="-",E=/^xn--/,C=/[^\0-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=g-v,B=Math.floor,F=String.fromCharCode;function R(U){throw new RangeError(L[U])}function J(U,D){for(var H=[],ne=U.length;ne--;)H[ne]=D(U[ne]);return H}function re(U,D){var H=U.split("@"),ne="";H.length>1&&(ne=H[0]+"@",U=H[1]),U=U.replace(N,".");var te=U.split("."),Ce=J(te,D).join(".");return ne+Ce}function ie(U){for(var D=[],H=0,ne=U.length;H<ne;){var te=U.charCodeAt(H++);if(te>=55296&&te<=56319&&H<ne){var Ce=U.charCodeAt(H++);(Ce&64512)==56320?D.push(((te&1023)<<10)+(Ce&1023)+65536):(D.push(te),H--)}else D.push(te)}return D}var G=function(D){return String.fromCodePoint.apply(String,h(D))},Q=function(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:g},q=function(D,H){return D+22+75*(D<26)-((H!=0)<<5)},O=function(D,H,ne){var te=0;for(D=ne?B(D/w):D>>1,D+=B(D/H);D>M*m>>1;te+=g)D=B(D/M);return B(te+(M+1)*D/(D+y))},P=function(D){var H=[],ne=D.length,te=0,Ce=$,le=b,Pe=D.lastIndexOf(_);Pe<0&&(Pe=0);for(var Je=0;Je<Pe;++Je)D.charCodeAt(Je)>=128&&R("not-basic"),H.push(D.charCodeAt(Je));for(var Re=Pe>0?Pe+1:0;Re<ne;){for(var Ze=te,lt=1,qt=g;;qt+=g){Re>=ne&&R("invalid-input");var He=Q(D.charCodeAt(Re++));(He>=g||He>B((p-te)/lt))&&R("overflow"),te+=He*lt;var Vt=qt<=le?v:qt>=le+m?m:qt-le;if(He<Vt)break;var st=g-Vt;lt>B(p/st)&&R("overflow"),lt*=st}var kt=H.length+1;le=O(te-Ze,kt,Ze==0),B(te/kt)>p-Ce&&R("overflow"),Ce+=B(te/kt),te%=kt,H.splice(te++,0,Ce)}return String.fromCodePoint.apply(String,H)},z=function(D){var H=[];D=ie(D);var ne=D.length,te=$,Ce=0,le=b,Pe=!0,Je=!1,Re=void 0;try{for(var Ze=D[Symbol.iterator](),lt;!(Pe=(lt=Ze.next()).done);Pe=!0){var qt=lt.value;qt<128&&H.push(F(qt))}}catch(se){Je=!0,Re=se}finally{try{!Pe&&Ze.return&&Ze.return()}finally{if(Je)throw Re}}var He=H.length,Vt=He;for(He&&H.push(_);Vt<ne;){var st=p,kt=!0,Mn=!1,Tr=void 0;try{for(var Ln=D[Symbol.iterator](),bo;!(kt=(bo=Ln.next()).done);kt=!0){var Ur=bo.value;Ur>=te&&Ur<st&&(st=Ur)}}catch(se){Mn=!0,Tr=se}finally{try{!kt&&Ln.return&&Ln.return()}finally{if(Mn)throw Tr}}var $n=Vt+1;st-te>B((p-Ce)/$n)&&R("overflow"),Ce+=(st-te)*$n,te=st;var ke=!0,pt=!1,cn=void 0;try{for(var gr=D[Symbol.iterator](),Ai;!(ke=(Ai=gr.next()).done);ke=!0){var T=Ai.value;if(T<te&&++Ce>p&&R("overflow"),T==te){for(var j=Ce,A=g;;A+=g){var K=A<=le?v:A>=le+m?m:A-le;if(j<K)break;var Y=j-K,W=g-K;H.push(F(q(K+Y%W,0))),j=B(Y/W)}H.push(F(q(j,0))),le=O(Ce,$n,Vt==He),Ce=0,++Vt}}}catch(se){pt=!0,cn=se}finally{try{!ke&&gr.return&&gr.return()}finally{if(pt)throw cn}}++Ce,++te}return H.join("")},I=function(D){return re(D,function(H){return E.test(H)?P(H.slice(4).toLowerCase()):H})},k=function(D){return re(D,function(H){return C.test(H)?"xn--"+z(H):H})},V={version:"2.1.0",ucs2:{decode:ie,encode:G},decode:P,encode:z,toASCII:k,toUnicode:I},Z={};function oe(U){var D=U.charCodeAt(0),H=void 0;return D<16?H="%0"+D.toString(16).toUpperCase():D<128?H="%"+D.toString(16).toUpperCase():D<2048?H="%"+(D>>6|192).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase():H="%"+(D>>12|224).toString(16).toUpperCase()+"%"+(D>>6&63|128).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase(),H}function be(U){for(var D="",H=0,ne=U.length;H<ne;){var te=parseInt(U.substr(H+1,2),16);if(te<128)D+=String.fromCharCode(te),H+=3;else if(te>=194&&te<224){if(ne-H>=6){var Ce=parseInt(U.substr(H+4,2),16);D+=String.fromCharCode((te&31)<<6|Ce&63)}else D+=U.substr(H,6);H+=6}else if(te>=224){if(ne-H>=9){var le=parseInt(U.substr(H+4,2),16),Pe=parseInt(U.substr(H+7,2),16);D+=String.fromCharCode((te&15)<<12|(le&63)<<6|Pe&63)}else D+=U.substr(H,9);H+=9}else D+=U.substr(H,3),H+=3}return D}function ce(U,D){function H(ne){var te=be(ne);return te.match(D.UNRESERVED)?te:ne}return U.scheme&&(U.scheme=String(U.scheme).replace(D.PCT_ENCODED,H).toLowerCase().replace(D.NOT_SCHEME,"")),U.userinfo!==void 0&&(U.userinfo=String(U.userinfo).replace(D.PCT_ENCODED,H).replace(D.NOT_USERINFO,oe).replace(D.PCT_ENCODED,s)),U.host!==void 0&&(U.host=String(U.host).replace(D.PCT_ENCODED,H).toLowerCase().replace(D.NOT_HOST,oe).replace(D.PCT_ENCODED,s)),U.path!==void 0&&(U.path=String(U.path).replace(D.PCT_ENCODED,H).replace(U.scheme?D.NOT_PATH:D.NOT_PATH_NOSCHEME,oe).replace(D.PCT_ENCODED,s)),U.query!==void 0&&(U.query=String(U.query).replace(D.PCT_ENCODED,H).replace(D.NOT_QUERY,oe).replace(D.PCT_ENCODED,s)),U.fragment!==void 0&&(U.fragment=String(U.fragment).replace(D.PCT_ENCODED,H).replace(D.NOT_FRAGMENT,oe).replace(D.PCT_ENCODED,s)),U}function xe(U){return U.replace(/^0*(.*)/,"$1")||"0"}function Ue(U,D){var H=U.match(D.IPV4ADDRESS)||[],ne=d(H,2),te=ne[1];return te?te.split(".").map(xe).join("."):U}function _t(U,D){var H=U.match(D.IPV6ADDRESS)||[],ne=d(H,3),te=ne[1],Ce=ne[2];if(te){for(var le=te.toLowerCase().split("::").reverse(),Pe=d(le,2),Je=Pe[0],Re=Pe[1],Ze=Re?Re.split(":").map(xe):[],lt=Je.split(":").map(xe),qt=D.IPV4ADDRESS.test(lt[lt.length-1]),He=qt?7:8,Vt=lt.length-He,st=Array(He),kt=0;kt<He;++kt)st[kt]=Ze[kt]||lt[Vt+kt]||"";qt&&(st[He-1]=Ue(st[He-1],D));var Mn=st.reduce(function($n,ke,pt){if(!ke||ke==="0"){var cn=$n[$n.length-1];cn&&cn.index+cn.length===pt?cn.length++:$n.push({index:pt,length:1})}return $n},[]),Tr=Mn.sort(function($n,ke){return ke.length-$n.length})[0],Ln=void 0;if(Tr&&Tr.length>1){var bo=st.slice(0,Tr.index),Ur=st.slice(Tr.index+Tr.length);Ln=bo.join(":")+"::"+Ur.join(":")}else Ln=st.join(":");return Ce&&(Ln+="%"+Ce),Ln}else return U}var Ft=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Qe="".match(/(){0}/)[1]===void 0;function Le(U){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H={},ne=D.iri!==!1?f:c;D.reference==="suffix"&&(U=(D.scheme?D.scheme+":":"")+"//"+U);var te=U.match(Ft);if(te){Qe?(H.scheme=te[1],H.userinfo=te[3],H.host=te[4],H.port=parseInt(te[5],10),H.path=te[6]||"",H.query=te[7],H.fragment=te[8],isNaN(H.port)&&(H.port=te[5])):(H.scheme=te[1]||void 0,H.userinfo=U.indexOf("@")!==-1?te[3]:void 0,H.host=U.indexOf("//")!==-1?te[4]:void 0,H.port=parseInt(te[5],10),H.path=te[6]||"",H.query=U.indexOf("?")!==-1?te[7]:void 0,H.fragment=U.indexOf("#")!==-1?te[8]:void 0,isNaN(H.port)&&(H.port=U.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?te[4]:void 0)),H.host&&(H.host=_t(Ue(H.host,ne),ne)),H.scheme===void 0&&H.userinfo===void 0&&H.host===void 0&&H.port===void 0&&!H.path&&H.query===void 0?H.reference="same-document":H.scheme===void 0?H.reference="relative":H.fragment===void 0?H.reference="absolute":H.reference="uri",D.reference&&D.reference!=="suffix"&&D.reference!==H.reference&&(H.error=H.error||"URI is not a "+D.reference+" reference.");var Ce=Z[(D.scheme||H.scheme||"").toLowerCase()];if(!D.unicodeSupport&&(!Ce||!Ce.unicodeSupport)){if(H.host&&(D.domainHost||Ce&&Ce.domainHost))try{H.host=V.toASCII(H.host.replace(ne.PCT_ENCODED,be).toLowerCase())}catch(le){H.error=H.error||"Host's domain name can not be converted to ASCII via punycode: "+le}ce(H,c)}else ce(H,ne);Ce&&Ce.parse&&Ce.parse(H,D)}else H.error=H.error||"URI can not be parsed.";return H}function rt(U,D){var H=D.iri!==!1?f:c,ne=[];return U.userinfo!==void 0&&(ne.push(U.userinfo),ne.push("@")),U.host!==void 0&&ne.push(_t(Ue(String(U.host),H),H).replace(H.IPV6ADDRESS,function(te,Ce,le){return"["+Ce+(le?"%25"+le:"")+"]"})),(typeof U.port=="number"||typeof U.port=="string")&&(ne.push(":"),ne.push(String(U.port))),ne.length?ne.join(""):void 0}var Xe=/^\.\.?\//,nn=/^\/\.(\/|$)/,Kt=/^\/\.\.(\/|$)/,yt=/^\/?(?:.|\n)*?(?=\/|$)/;function bt(U){for(var D=[];U.length;)if(U.match(Xe))U=U.replace(Xe,"");else if(U.match(nn))U=U.replace(nn,"/");else if(U.match(Kt))U=U.replace(Kt,"/"),D.pop();else if(U==="."||U==="..")U="";else{var H=U.match(yt);if(H){var ne=H[0];U=U.slice(ne.length),D.push(ne)}else throw new Error("Unexpected dot segment condition")}return D.join("")}function Ge(U){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=D.iri?f:c,ne=[],te=Z[(D.scheme||U.scheme||"").toLowerCase()];if(te&&te.serialize&&te.serialize(U,D),U.host&&!H.IPV6ADDRESS.test(U.host)){if(D.domainHost||te&&te.domainHost)try{U.host=D.iri?V.toUnicode(U.host):V.toASCII(U.host.replace(H.PCT_ENCODED,be).toLowerCase())}catch(Pe){U.error=U.error||"Host's domain name can not be converted to "+(D.iri?"Unicode":"ASCII")+" via punycode: "+Pe}}ce(U,H),D.reference!=="suffix"&&U.scheme&&(ne.push(U.scheme),ne.push(":"));var Ce=rt(U,D);if(Ce!==void 0&&(D.reference!=="suffix"&&ne.push("//"),ne.push(Ce),U.path&&U.path.charAt(0)!=="/"&&ne.push("/")),U.path!==void 0){var le=U.path;!D.absolutePath&&(!te||!te.absolutePath)&&(le=bt(le)),Ce===void 0&&(le=le.replace(/^\/\//,"/%2F")),ne.push(le)}return U.query!==void 0&&(ne.push("?"),ne.push(U.query)),U.fragment!==void 0&&(ne.push("#"),ne.push(U.fragment)),ne.join("")}function at(U,D){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ne=arguments[3],te={};return ne||(U=Le(Ge(U,H),H),D=Le(Ge(D,H),H)),H=H||{},!H.tolerant&&D.scheme?(te.scheme=D.scheme,te.userinfo=D.userinfo,te.host=D.host,te.port=D.port,te.path=bt(D.path||""),te.query=D.query):(D.userinfo!==void 0||D.host!==void 0||D.port!==void 0?(te.userinfo=D.userinfo,te.host=D.host,te.port=D.port,te.path=bt(D.path||""),te.query=D.query):(D.path?(D.path.charAt(0)==="/"?te.path=bt(D.path):((U.userinfo!==void 0||U.host!==void 0||U.port!==void 0)&&!U.path?te.path="/"+D.path:U.path?te.path=U.path.slice(0,U.path.lastIndexOf("/")+1)+D.path:te.path=D.path,te.path=bt(te.path)),te.query=D.query):(te.path=U.path,D.query!==void 0?te.query=D.query:te.query=U.query),te.userinfo=U.userinfo,te.host=U.host,te.port=U.port),te.scheme=U.scheme),te.fragment=D.fragment,te}function Ct(U,D,H){var ne=l({scheme:"null"},H);return Ge(at(Le(U,ne),Le(D,ne),ne,!0),ne)}function Pt(U,D){return typeof U=="string"?U=Ge(Le(U,D),D):o(U)==="object"&&(U=Le(Ge(U,D),D)),U}function ln(U,D,H){return typeof U=="string"?U=Ge(Le(U,H),H):o(U)==="object"&&(U=Ge(U,H)),typeof D=="string"?D=Ge(Le(D,H),H):o(D)==="object"&&(D=Ge(D,H)),U===D}function X(U,D){return U&&U.toString().replace(!D||!D.iri?c.ESCAPE:f.ESCAPE,oe)}function ue(U,D){return U&&U.toString().replace(!D||!D.iri?c.PCT_ENCODED:f.PCT_ENCODED,be)}var $e={scheme:"http",domainHost:!0,parse:function(D,H){return D.host||(D.error=D.error||"HTTP URIs must have a host."),D},serialize:function(D,H){var ne=String(D.scheme).toLowerCase()==="https";return(D.port===(ne?443:80)||D.port==="")&&(D.port=void 0),D.path||(D.path="/"),D}},ze={scheme:"https",domainHost:$e.domainHost,parse:$e.parse,serialize:$e.serialize};function _e(U){return typeof U.secure=="boolean"?U.secure:String(U.scheme).toLowerCase()==="wss"}var Fe={scheme:"ws",domainHost:!0,parse:function(D,H){var ne=D;return ne.secure=_e(ne),ne.resourceName=(ne.path||"/")+(ne.query?"?"+ne.query:""),ne.path=void 0,ne.query=void 0,ne},serialize:function(D,H){if((D.port===(_e(D)?443:80)||D.port==="")&&(D.port=void 0),typeof D.secure=="boolean"&&(D.scheme=D.secure?"wss":"ws",D.secure=void 0),D.resourceName){var ne=D.resourceName.split("?"),te=d(ne,2),Ce=te[0],le=te[1];D.path=Ce&&Ce!=="/"?Ce:void 0,D.query=le,D.resourceName=void 0}return D.fragment=void 0,D}},Ee={scheme:"wss",domainHost:Fe.domainHost,parse:Fe.parse,serialize:Fe.serialize},Me={},un="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",St="[0-9A-Fa-f]",it=i(i("%[EFef]"+St+"%"+St+St+"%"+St+St)+"|"+i("%[89A-Fa-f]"+St+"%"+St+St)+"|"+i("%"+St+St)),rn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Rt="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ds=r(Rt,'[\\"\\\\]'),nr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Vr=new RegExp(un,"g"),Br=new RegExp(it,"g"),Hn=new RegExp(r("[^]",rn,"[\\.]",'[\\"]',Ds),"g"),Sn=new RegExp(r("[^]",un,nr),"g"),Gt=Sn;function $t(U){var D=be(U);return D.match(Vr)?D:U}var mr={scheme:"mailto",parse:function(D,H){var ne=D,te=ne.to=ne.path?ne.path.split(","):[];if(ne.path=void 0,ne.query){for(var Ce=!1,le={},Pe=ne.query.split("&"),Je=0,Re=Pe.length;Je<Re;++Je){var Ze=Pe[Je].split("=");switch(Ze[0]){case"to":for(var lt=Ze[1].split(","),qt=0,He=lt.length;qt<He;++qt)te.push(lt[qt]);break;case"subject":ne.subject=ue(Ze[1],H);break;case"body":ne.body=ue(Ze[1],H);break;default:Ce=!0,le[ue(Ze[0],H)]=ue(Ze[1],H);break}}Ce&&(ne.headers=le)}ne.query=void 0;for(var Vt=0,st=te.length;Vt<st;++Vt){var kt=te[Vt].split("@");if(kt[0]=ue(kt[0]),H.unicodeSupport)kt[1]=ue(kt[1],H).toLowerCase();else try{kt[1]=V.toASCII(ue(kt[1],H).toLowerCase())}catch(Mn){ne.error=ne.error||"Email address's domain name can not be converted to ASCII via punycode: "+Mn}te[Vt]=kt.join("@")}return ne},serialize:function(D,H){var ne=D,te=a(D.to);if(te){for(var Ce=0,le=te.length;Ce<le;++Ce){var Pe=String(te[Ce]),Je=Pe.lastIndexOf("@"),Re=Pe.slice(0,Je).replace(Br,$t).replace(Br,s).replace(Hn,oe),Ze=Pe.slice(Je+1);try{Ze=H.iri?V.toUnicode(Ze):V.toASCII(ue(Ze,H).toLowerCase())}catch(Vt){ne.error=ne.error||"Email address's domain name can not be converted to "+(H.iri?"Unicode":"ASCII")+" via punycode: "+Vt}te[Ce]=Re+"@"+Ze}ne.path=te.join(",")}var lt=D.headers=D.headers||{};D.subject&&(lt.subject=D.subject),D.body&&(lt.body=D.body);var qt=[];for(var He in lt)lt[He]!==Me[He]&&qt.push(He.replace(Br,$t).replace(Br,s).replace(Sn,oe)+"="+lt[He].replace(Br,$t).replace(Br,s).replace(Gt,oe));return qt.length&&(ne.query=qt.join("&")),ne}},ki=/^([^\:]+)\:(.*)/,qn={scheme:"urn",parse:function(D,H){var ne=D.path&&D.path.match(ki),te=D;if(ne){var Ce=H.scheme||te.scheme||"urn",le=ne[1].toLowerCase(),Pe=ne[2],Je=Ce+":"+(H.nid||le),Re=Z[Je];te.nid=le,te.nss=Pe,te.path=void 0,Re&&(te=Re.parse(te,H))}else te.error=te.error||"URN can not be parsed.";return te},serialize:function(D,H){var ne=H.scheme||D.scheme||"urn",te=D.nid,Ce=ne+":"+(H.nid||te),le=Z[Ce];le&&(D=le.serialize(D,H));var Pe=D,Je=D.nss;return Pe.path=(te||H.nid)+":"+Je,Pe}},kr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ti={scheme:"urn:uuid",parse:function(D,H){var ne=D;return ne.uuid=ne.nss,ne.nss=void 0,!H.tolerant&&(!ne.uuid||!ne.uuid.match(kr))&&(ne.error=ne.error||"UUID is not valid."),ne},serialize:function(D,H){var ne=D;return ne.nss=(D.uuid||"").toLowerCase(),ne}};Z[$e.scheme]=$e,Z[ze.scheme]=ze,Z[Fe.scheme]=Fe,Z[Ee.scheme]=Ee,Z[mr.scheme]=mr,Z[qn.scheme]=qn,Z[Ti.scheme]=Ti,n.SCHEMES=Z,n.pctEncChar=oe,n.pctDecChars=be,n.parse=Le,n.removeDotSegments=bt,n.serialize=Ge,n.resolveComponents=at,n.resolve=Ct,n.normalize=Pt,n.equal=ln,n.escapeComponent=X,n.unescapeComponent=ue,Object.defineProperty(n,"__esModule",{value:!0})})})(lE,lE.exports);var Cye=lE.exports;Object.defineProperty(jP,"__esModule",{value:!0});const b8=Cye;b8.code='require("ajv/dist/runtime/uri").default';jP.default=b8;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=po;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=ht;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=xp,i=Op,o=Wl,s=Xr,a=ht,l=ur,u=Ep,c=Ot,f=Pye,d=jP,h=(q,O)=>new RegExp(q,O);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function w(q){var O,P,z,I,k,V,Z,oe,be,ce,xe,Ue,_t,Ft,Qe,Le,rt,Xe,nn,Kt,yt,bt,Ge,at,Ct;const Pt=q.strict,ln=(O=q.code)===null||O===void 0?void 0:O.optimize,X=ln===!0||ln===void 0?1:ln||0,ue=(z=(P=q.code)===null||P===void 0?void 0:P.regExp)!==null&&z!==void 0?z:h,$e=(I=q.uriResolver)!==null&&I!==void 0?I:d.default;return{strictSchema:(V=(k=q.strictSchema)!==null&&k!==void 0?k:Pt)!==null&&V!==void 0?V:!0,strictNumbers:(oe=(Z=q.strictNumbers)!==null&&Z!==void 0?Z:Pt)!==null&&oe!==void 0?oe:!0,strictTypes:(ce=(be=q.strictTypes)!==null&&be!==void 0?be:Pt)!==null&&ce!==void 0?ce:"log",strictTuples:(Ue=(xe=q.strictTuples)!==null&&xe!==void 0?xe:Pt)!==null&&Ue!==void 0?Ue:"log",strictRequired:(Ft=(_t=q.strictRequired)!==null&&_t!==void 0?_t:Pt)!==null&&Ft!==void 0?Ft:!1,code:q.code?{...q.code,optimize:X,regExp:ue}:{optimize:X,regExp:ue},loopRequired:(Qe=q.loopRequired)!==null&&Qe!==void 0?Qe:y,loopEnum:(Le=q.loopEnum)!==null&&Le!==void 0?Le:y,meta:(rt=q.meta)!==null&&rt!==void 0?rt:!0,messages:(Xe=q.messages)!==null&&Xe!==void 0?Xe:!0,inlineRefs:(nn=q.inlineRefs)!==null&&nn!==void 0?nn:!0,schemaId:(Kt=q.schemaId)!==null&&Kt!==void 0?Kt:"$id",addUsedSchema:(yt=q.addUsedSchema)!==null&&yt!==void 0?yt:!0,validateSchema:(bt=q.validateSchema)!==null&&bt!==void 0?bt:!0,validateFormats:(Ge=q.validateFormats)!==null&&Ge!==void 0?Ge:!0,unicodeRegExp:(at=q.unicodeRegExp)!==null&&at!==void 0?at:!0,int32range:(Ct=q.int32range)!==null&&Ct!==void 0?Ct:!0,uriResolver:$e}}class b{constructor(O={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,O=this.opts={...O,...w(O)};const{es5:P,lines:z}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:g,es5:P,lines:z}),this.logger=B(O.logger);const I=O.validateFormats;O.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,O,"NOT SUPPORTED"),$.call(this,m,O,"DEPRECATED","warn"),this._metaOpts=L.call(this),O.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),O.keywords&&N.call(this,O.keywords),typeof O.meta=="object"&&this.addMetaSchema(O.meta),E.call(this),O.validateFormats=I}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:O,meta:P,schemaId:z}=this.opts;let I=f;z==="id"&&(I={...f},I.id=I.$id,delete I.$id),P&&O&&this.addMetaSchema(I,I[z],!1)}defaultMeta(){const{meta:O,schemaId:P}=this.opts;return this.opts.defaultMeta=typeof O=="object"?O[P]||O:void 0}validate(O,P){let z;if(typeof O=="string"){if(z=this.getSchema(O),!z)throw new Error(`no schema with key or ref "${O}"`)}else z=this.compile(O);const I=z(P);return"$async"in z||(this.errors=z.errors),I}compile(O,P){const z=this._addSchema(O,P);return z.validate||this._compileSchemaEnv(z)}compileAsync(O,P){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:z}=this.opts;return I.call(this,O,P);async function I(ce,xe){await k.call(this,ce.$schema);const Ue=this._addSchema(ce,xe);return Ue.validate||V.call(this,Ue)}async function k(ce){ce&&!this.getSchema(ce)&&await I.call(this,{$ref:ce},!0)}async function V(ce){try{return this._compileSchemaEnv(ce)}catch(xe){if(!(xe instanceof i.default))throw xe;return Z.call(this,xe),await oe.call(this,xe.missingSchema),V.call(this,ce)}}function Z({missingSchema:ce,missingRef:xe}){if(this.refs[ce])throw new Error(`AnySchema ${ce} is loaded but ${xe} cannot be resolved`)}async function oe(ce){const xe=await be.call(this,ce);this.refs[ce]||await k.call(this,xe.$schema),this.refs[ce]||this.addSchema(xe,ce,P)}async function be(ce){const xe=this._loading[ce];if(xe)return xe;try{return await(this._loading[ce]=z(ce))}finally{delete this._loading[ce]}}}addSchema(O,P,z,I=this.opts.validateSchema){if(Array.isArray(O)){for(const V of O)this.addSchema(V,void 0,z,I);return this}let k;if(typeof O=="object"){const{schemaId:V}=this.opts;if(k=O[V],k!==void 0&&typeof k!="string")throw new Error(`schema ${V} must be string`)}return P=(0,l.normalizeId)(P||k),this._checkUnique(P),this.schemas[P]=this._addSchema(O,z,P,I,!0),this}addMetaSchema(O,P,z=this.opts.validateSchema){return this.addSchema(O,P,!0,z),this}validateSchema(O,P){if(typeof O=="boolean")return!0;let z;if(z=O.$schema,z!==void 0&&typeof z!="string")throw new Error("$schema must be a string");if(z=z||this.opts.defaultMeta||this.defaultMeta(),!z)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const I=this.validate(z,O);if(!I&&P){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return I}getSchema(O){let P;for(;typeof(P=_.call(this,O))=="string";)O=P;if(P===void 0){const{schemaId:z}=this.opts,I=new s.SchemaEnv({schema:{},schemaId:z});if(P=s.resolveSchema.call(this,I,O),!P)return;this.refs[O]=P}return P.validate||this._compileSchemaEnv(P)}removeSchema(O){if(O instanceof RegExp)return this._removeAllSchemas(this.schemas,O),this._removeAllSchemas(this.refs,O),this;switch(typeof O){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const P=_.call(this,O);return typeof P=="object"&&this._cache.delete(P.schema),delete this.schemas[O],delete this.refs[O],this}case"object":{const P=O;this._cache.delete(P);let z=O[this.opts.schemaId];return z&&(z=(0,l.normalizeId)(z),delete this.schemas[z],delete this.refs[z]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(O){for(const P of O)this.addKeyword(P);return this}addKeyword(O,P){let z;if(typeof O=="string")z=O,typeof P=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),P.keyword=z);else if(typeof O=="object"&&P===void 0){if(P=O,z=P.keyword,Array.isArray(z)&&!z.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(R.call(this,z,P),!P)return(0,c.eachItem)(z,k=>J.call(this,k)),this;ie.call(this,P);const I={...P,type:(0,u.getJSONTypes)(P.type),schemaType:(0,u.getJSONTypes)(P.schemaType)};return(0,c.eachItem)(z,I.type.length===0?k=>J.call(this,k,I):k=>I.type.forEach(V=>J.call(this,k,I,V))),this}getKeyword(O){const P=this.RULES.all[O];return typeof P=="object"?P.definition:!!P}removeKeyword(O){const{RULES:P}=this;delete P.keywords[O],delete P.all[O];for(const z of P.rules){const I=z.rules.findIndex(k=>k.keyword===O);I>=0&&z.rules.splice(I,1)}return this}addFormat(O,P){return typeof P=="string"&&(P=new RegExp(P)),this.formats[O]=P,this}errorsText(O=this.errors,{separator:P=", ",dataVar:z="data"}={}){return!O||O.length===0?"No errors":O.map(I=>`${z}${I.instancePath} ${I.message}`).reduce((I,k)=>I+P+k)}$dataMetaSchema(O,P){const z=this.RULES.all;O=JSON.parse(JSON.stringify(O));for(const I of P){const k=I.split("/").slice(1);let V=O;for(const Z of k)V=V[Z];for(const Z in z){const oe=z[Z];if(typeof oe!="object")continue;const{$data:be}=oe.definition,ce=V[Z];be&&ce&&(V[Z]=Q(ce))}}return O}_removeAllSchemas(O,P){for(const z in O){const I=O[z];(!P||P.test(z))&&(typeof I=="string"?delete O[z]:I&&!I.meta&&(this._cache.delete(I.schema),delete O[z]))}}_addSchema(O,P,z,I=this.opts.validateSchema,k=this.opts.addUsedSchema){let V;const{schemaId:Z}=this.opts;if(typeof O=="object")V=O[Z];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof O!="boolean")throw new Error("schema must be object or boolean")}let oe=this._cache.get(O);if(oe!==void 0)return oe;z=(0,l.normalizeId)(V||z);const be=l.getSchemaRefs.call(this,O,z);return oe=new s.SchemaEnv({schema:O,schemaId:Z,meta:P,baseId:z,localRefs:be}),this._cache.set(oe.schema,oe),k&&!z.startsWith("#")&&(z&&this._checkUnique(z),this.refs[z]=oe),I&&this.validateSchema(O,!0),oe}_checkUnique(O){if(this.schemas[O]||this.refs[O])throw new Error(`schema with key or id "${O}" already exists`)}_compileSchemaEnv(O){if(O.meta?this._compileMetaSchema(O):s.compileSchema.call(this,O),!O.validate)throw new Error("ajv implementation error");return O.validate}_compileMetaSchema(O){const P=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,O)}finally{this.opts=P}}}e.default=b,b.ValidationError=r.default,b.MissingRefError=i.default;function $(q,O,P,z="error"){for(const I in q){const k=I;k in O&&this.logger[z](`${P}: option ${I}. ${q[k]}`)}}function _(q){return q=(0,l.normalizeId)(q),this.schemas[q]||this.refs[q]}function E(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const O in q)this.addSchema(q[O],O)}function C(){for(const q in this.opts.formats){const O=this.opts.formats[q];O&&this.addFormat(q,O)}}function N(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const O in q){const P=q[O];P.keyword||(P.keyword=O),this.addKeyword(P)}}function L(){const q={...this.opts};for(const O of p)delete q[O];return q}const M={log(){},warn(){},error(){}};function B(q){if(q===!1)return M;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const F=/^[a-z_$][a-z0-9_$:-]*$/i;function R(q,O){const{RULES:P}=this;if((0,c.eachItem)(q,z=>{if(P.keywords[z])throw new Error(`Keyword ${z} is already defined`);if(!F.test(z))throw new Error(`Keyword ${z} has invalid name`)}),!!O&&O.$data&&!("code"in O||"validate"in O))throw new Error('$data keyword must have "code" or "validate" function')}function J(q,O,P){var z;const I=O==null?void 0:O.post;if(P&&I)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let V=I?k.post:k.rules.find(({type:oe})=>oe===P);if(V||(V={type:P,rules:[]},k.rules.push(V)),k.keywords[q]=!0,!O)return;const Z={keyword:q,definition:{...O,type:(0,u.getJSONTypes)(O.type),schemaType:(0,u.getJSONTypes)(O.schemaType)}};O.before?re.call(this,V,Z,O.before):V.rules.push(Z),k.all[q]=Z,(z=O.implements)===null||z===void 0||z.forEach(oe=>this.addKeyword(oe))}function re(q,O,P){const z=q.rules.findIndex(I=>I.keyword===P);z>=0?q.rules.splice(z,0,O):(q.rules.push(O),this.logger.warn(`rule ${P} is not defined`))}function ie(q){let{metaSchema:O}=q;O!==void 0&&(q.$data&&this.opts.$data&&(O=Q(O)),q.validateSchema=this.compile(O,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Q(q){return{anyOf:[q,G]}}})(XU);var zP={},FP={},VP={};Object.defineProperty(VP,"__esModule",{value:!0});const Iye={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};VP.default=Iye;var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.callRef=Kl.getValidate=void 0;const kye=Op,g2=dt,Wr=ht,Pu=Ko,y2=Xr,qm=Ot,Tye={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=r,{root:u}=o;if((n==="#"||n==="#/")&&i===u.baseId)return f();const c=y2.resolveRef.call(l,u,i,n);if(c===void 0)throw new kye.default(r.opts.uriResolver,i,n);if(c instanceof y2.SchemaEnv)return d(c);return h(c);function f(){if(o===u)return Fg(e,s,o,o.$async);const p=t.scopeValue("root",{ref:u});return Fg(e,(0,Wr._)`${p}.validate`,u,u.$async)}function d(p){const g=S8(e,p);Fg(e,g,p,p.$async)}function h(p){const g=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Wr.stringify)(p)}:{ref:p}),v=t.name("valid"),m=e.subschema({schema:p,dataTypes:[],schemaPath:Wr.nil,topSchemaRef:g,errSchemaPath:n},v);e.mergeEvaluated(m),e.ok(v)}}};function S8(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Wr._)`${n.scopeValue("wrapper",{ref:t})}.validate`}Kl.getValidate=S8;function Fg(e,t,n,r){const{gen:i,it:o}=e,{allErrors:s,schemaEnv:a,opts:l}=o,u=l.passContext?Pu.default.this:Wr.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Wr._)`await ${(0,g2.callValidateCode)(e,t,u)}`),h(t),s||i.assign(p,!0)},g=>{i.if((0,Wr._)`!(${g} instanceof ${o.ValidationError})`,()=>i.throw(g)),d(g),s||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,g2.callValidateCode)(e,t,u),()=>h(t),()=>d(t))}function d(p){const g=(0,Wr._)`${p}.errors`;i.assign(Pu.default.vErrors,(0,Wr._)`${Pu.default.vErrors} === null ? ${g} : ${Pu.default.vErrors}.concat(${g})`),i.assign(Pu.default.errors,(0,Wr._)`${Pu.default.vErrors}.length`)}function h(p){var g;if(!o.opts.unevaluated)return;const v=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=qm.mergeEvaluated.props(i,v.props,o.props));else{const m=i.var("props",(0,Wr._)`${p}.evaluated.props`);o.props=qm.mergeEvaluated.props(i,m,o.props,Wr.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=qm.mergeEvaluated.items(i,v.items,o.items));else{const m=i.var("items",(0,Wr._)`${p}.evaluated.items`);o.items=qm.mergeEvaluated.items(i,m,o.items,Wr.Name)}}}Kl.callRef=Fg;Kl.default=Tye;Object.defineProperty(FP,"__esModule",{value:!0});const Aye=VP,Nye=Kl,Rye=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Aye.default,Nye.default];FP.default=Rye;var BP={},UP={};Object.defineProperty(UP,"__esModule",{value:!0});const u0=ht,zs=u0.operators,c0={maximum:{okStr:"<=",ok:zs.LTE,fail:zs.GT},minimum:{okStr:">=",ok:zs.GTE,fail:zs.LT},exclusiveMaximum:{okStr:"<",ok:zs.LT,fail:zs.GTE},exclusiveMinimum:{okStr:">",ok:zs.GT,fail:zs.LTE}},Dye={message:({keyword:e,schemaCode:t})=>(0,u0.str)`must be ${c0[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,u0._)`{comparison: ${c0[e].okStr}, limit: ${t}}`},Mye={keyword:Object.keys(c0),type:"number",schemaType:"number",$data:!0,error:Dye,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,u0._)`${n} ${c0[t].fail} ${r} || isNaN(${n})`)}};UP.default=Mye;var HP={};Object.defineProperty(HP,"__esModule",{value:!0});const Hd=ht,Lye={message:({schemaCode:e})=>(0,Hd.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Hd._)`{multipleOf: ${e}}`},jye={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Lye,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),a=o?(0,Hd._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,Hd._)`${s} !== parseInt(${s})`;e.fail$data((0,Hd._)`(${r} === 0 || (${s} = ${n}/${r}, ${a}))`)}};HP.default=jye;var qP={},WP={};Object.defineProperty(WP,"__esModule",{value:!0});function $8(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}WP.default=$8;$8.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(qP,"__esModule",{value:!0});const pl=ht,zye=Ot,Fye=WP,Vye={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,pl.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,pl._)`{limit: ${e}}`},Bye={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Vye,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,o=t==="maxLength"?pl.operators.GT:pl.operators.LT,s=i.opts.unicode===!1?(0,pl._)`${n}.length`:(0,pl._)`${(0,zye.useFunc)(e.gen,Fye.default)}(${n})`;e.fail$data((0,pl._)`${s} ${o} ${r}`)}};qP.default=Bye;var KP={};Object.defineProperty(KP,"__esModule",{value:!0});const Uye=dt,f0=ht,Hye={message:({schemaCode:e})=>(0,f0.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,f0._)`{pattern: ${e}}`},qye={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Hye,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=n?(0,f0._)`(new RegExp(${i}, ${s}))`:(0,Uye.usePattern)(e,r);e.fail$data((0,f0._)`!${a}.test(${t})`)}};KP.default=qye;var GP={};Object.defineProperty(GP,"__esModule",{value:!0});const qd=ht,Wye={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,qd.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,qd._)`{limit: ${e}}`},Kye={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Wye,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?qd.operators.GT:qd.operators.LT;e.fail$data((0,qd._)`Object.keys(${n}).length ${i} ${r}`)}};GP.default=Kye;var YP={};Object.defineProperty(YP,"__esModule",{value:!0});const Zf=dt,Wd=ht,Gye=Ot,Yye={message:({params:{missingProperty:e}})=>(0,Wd.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Wd._)`{missingProperty: ${e}}`},Qye={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Yye,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:o,it:s}=e,{opts:a}=s;if(!o&&n.length===0)return;const l=n.length>=a.loopRequired;if(s.allErrors?u():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const g of n)if((h==null?void 0:h[g])===void 0&&!p.has(g)){const v=s.schemaEnv.baseId+s.errSchemaPath,m=`required property "${g}" is not defined at "${v}" (strictRequired)`;(0,Gye.checkStrictMode)(s,m,s.opts.strictRequired)}}function u(){if(l||o)e.block$data(Wd.nil,f);else for(const h of n)(0,Zf.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(l||o){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,Zf.checkMissingProp)(e,n,h)),(0,Zf.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,Zf.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,Zf.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Wd.not)(p),()=>{e.error(),t.break()})},Wd.nil)}}};YP.default=Qye;var QP={};Object.defineProperty(QP,"__esModule",{value:!0});const Kd=ht,Xye={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Kd.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Kd._)`{limit: ${e}}`},Jye={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Xye,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Kd.operators.GT:Kd.operators.LT;e.fail$data((0,Kd._)`${n}.length ${i} ${r}`)}};QP.default=Jye;var XP={},Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});const E8=RP;E8.code='require("ajv/dist/runtime/equal").default';Pp.default=E8;Object.defineProperty(XP,"__esModule",{value:!0});const V1=Ep,ir=ht,Zye=Ot,eve=Pp,tve={message:({params:{i:e,j:t}})=>(0,ir.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,ir._)`{i: ${e}, j: ${t}}`},nve={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:tve,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:o,schemaCode:s,it:a}=e;if(!r&&!i)return;const l=t.let("valid"),u=o.items?(0,V1.getSchemaTypes)(o.items):[];e.block$data(l,c,(0,ir._)`${s} === false`),e.ok(l);function c(){const p=t.let("i",(0,ir._)`${n}.length`),g=t.let("j");e.setParams({i:p,j:g}),t.assign(l,!0),t.if((0,ir._)`${p} > 1`,()=>(f()?d:h)(p,g))}function f(){return u.length>0&&!u.some(p=>p==="object"||p==="array")}function d(p,g){const v=t.name("item"),m=(0,V1.checkDataTypes)(u,v,a.opts.strictNumbers,V1.DataType.Wrong),y=t.const("indices",(0,ir._)`{}`);t.for((0,ir._)`;${p}--;`,()=>{t.let(v,(0,ir._)`${n}[${p}]`),t.if(m,(0,ir._)`continue`),u.length>1&&t.if((0,ir._)`typeof ${v} == "string"`,(0,ir._)`${v} += "_"`),t.if((0,ir._)`typeof ${y}[${v}] == "number"`,()=>{t.assign(g,(0,ir._)`${y}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,ir._)`${y}[${v}] = ${p}`)})}function h(p,g){const v=(0,Zye.useFunc)(t,eve.default),m=t.name("outer");t.label(m).for((0,ir._)`;${p}--;`,()=>t.for((0,ir._)`${g} = ${p}; ${g}--;`,()=>t.if((0,ir._)`${v}(${n}[${p}], ${n}[${g}])`,()=>{e.error(),t.assign(l,!1).break(m)})))}}};XP.default=nve;var JP={};Object.defineProperty(JP,"__esModule",{value:!0});const uE=ht,rve=Ot,ive=Pp,ove={message:"must be equal to constant",params:({schemaCode:e})=>(0,uE._)`{allowedValue: ${e}}`},sve={keyword:"const",$data:!0,error:ove,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:o}=e;r||o&&typeof o=="object"?e.fail$data((0,uE._)`!${(0,rve.useFunc)(t,ive.default)}(${n}, ${i})`):e.fail((0,uE._)`${o} !== ${n}`)}};JP.default=sve;var ZP={};Object.defineProperty(ZP,"__esModule",{value:!0});const yd=ht,ave=Ot,lve=Pp,uve={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,yd._)`{allowedValues: ${e}}`},cve={keyword:"enum",schemaType:"array",$data:!0,error:uve,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:o,it:s}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let l;const u=()=>l??(l=(0,ave.useFunc)(t,lve.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",o);c=(0,yd.or)(...i.map((p,g)=>d(h,g)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",o,h=>t.if((0,yd._)`${u()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const g=i[p];return typeof g=="object"&&g!==null?(0,yd._)`${u()}(${n}, ${h}[${p}])`:(0,yd._)`${n} === ${g}`}}};ZP.default=cve;Object.defineProperty(BP,"__esModule",{value:!0});const fve=UP,dve=HP,hve=qP,pve=KP,mve=GP,gve=YP,yve=QP,vve=XP,wve=JP,_ve=ZP,bve=[fve.default,dve.default,hve.default,pve.default,mve.default,gve.default,yve.default,vve.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},wve.default,_ve.default];BP.default=bve;var eC={},hf={};Object.defineProperty(hf,"__esModule",{value:!0});hf.validateAdditionalItems=void 0;const ml=ht,cE=Ot,Sve={message:({params:{len:e}})=>(0,ml.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ml._)`{limit: ${e}}`},$ve={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Sve,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,cE.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}x8(e,r)}};function x8(e,t){const{gen:n,schema:r,data:i,keyword:o,it:s}=e;s.items=!0;const a=n.const("len",(0,ml._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,ml._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,cE.alwaysValidSchema)(s,r)){const u=n.var("valid",(0,ml._)`${a} <= ${t.length}`);n.if((0,ml.not)(u),()=>l(u)),e.ok(u)}function l(u){n.forRange("i",t.length,a,c=>{e.subschema({keyword:o,dataProp:c,dataPropType:cE.Type.Num},u),s.allErrors||n.if((0,ml.not)(u),()=>n.break())})}}hf.validateAdditionalItems=x8;hf.default=$ve;var tC={},pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.validateTuple=void 0;const v2=ht,Vg=Ot,Eve=dt,xve={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return O8(e,"additionalItems",t);n.items=!0,!(0,Vg.alwaysValidSchema)(n,t)&&e.ok((0,Eve.validateArray)(e))}};function O8(e,t,n=e.schema){const{gen:r,parentSchema:i,data:o,keyword:s,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=Vg.mergeEvaluated.items(r,n.length,a.items));const l=r.name("valid"),u=r.const("len",(0,v2._)`${o}.length`);n.forEach((f,d)=>{(0,Vg.alwaysValidSchema)(a,f)||(r.if((0,v2._)`${u} > ${d}`,()=>e.subschema({keyword:s,schemaProp:d,dataProp:d},l)),e.ok(l))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,g=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!g){const v=`"${s}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Vg.checkStrictMode)(a,v,d.strictTuples)}}}pf.validateTuple=O8;pf.default=xve;Object.defineProperty(tC,"__esModule",{value:!0});const Ove=pf,Pve={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Ove.validateTuple)(e,"items")};tC.default=Pve;var nC={};Object.defineProperty(nC,"__esModule",{value:!0});const w2=ht,Cve=Ot,Ive=dt,kve=hf,Tve={message:({params:{len:e}})=>(0,w2.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,w2._)`{limit: ${e}}`},Ave={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Tve,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,Cve.alwaysValidSchema)(r,t)&&(i?(0,kve.validateAdditionalItems)(e,i):e.ok((0,Ive.validateArray)(e)))}};nC.default=Ave;var rC={};Object.defineProperty(rC,"__esModule",{value:!0});const Ri=ht,Wm=Ot,Nve={message:({params:{min:e,max:t}})=>t===void 0?(0,Ri.str)`must contain at least ${e} valid item(s)`:(0,Ri.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ri._)`{minContains: ${e}}`:(0,Ri._)`{minContains: ${e}, maxContains: ${t}}`},Rve={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Nve,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:o}=e;let s,a;const{minContains:l,maxContains:u}=r;o.opts.next?(s=l===void 0?1:l,a=u):s=1;const c=t.const("len",(0,Ri._)`${i}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,Wm.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,Wm.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Wm.alwaysValidSchema)(o,n)){let g=(0,Ri._)`${c} >= ${s}`;a!==void 0&&(g=(0,Ri._)`${g} && ${c} <= ${a}`),e.pass(g);return}o.items=!0;const f=t.name("valid");a===void 0&&s===1?h(f,()=>t.if(f,()=>t.break())):s===0?(t.let(f,!0),a!==void 0&&t.if((0,Ri._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const g=t.name("_valid"),v=t.let("count",0);h(g,()=>t.if(g,()=>p(v)))}function h(g,v){t.forRange("i",0,c,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Wm.Type.Num,compositeRule:!0},g),v()})}function p(g){t.code((0,Ri._)`${g}++`),a===void 0?t.if((0,Ri._)`${g} >= ${s}`,()=>t.assign(f,!0).break()):(t.if((0,Ri._)`${g} > ${a}`,()=>t.assign(f,!1).break()),s===1?t.assign(f,!0):t.if((0,Ri._)`${g} >= ${s}`,()=>t.assign(f,!0)))}}};rC.default=Rve;var P8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=ht,n=Ot,r=dt;e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,t._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=o(l);s(l,u),a(l,c)}};function o({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const d=Array.isArray(l[f])?u:c;d[f]=l[f]}return[u,c]}function s(l,u=l.schema){const{gen:c,data:f,it:d}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const g=u[p];if(g.length===0)continue;const v=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);l.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),d.allErrors?c.if(v,()=>{for(const m of g)(0,r.checkReportMissingProp)(l,m)}):(c.if((0,t._)`${v} && (${(0,r.checkMissingProp)(l,g,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:c,data:f,keyword:d,it:h}=l,p=c.name("valid");for(const g in u)(0,n.alwaysValidSchema)(h,u[g])||(c.if((0,r.propertyInData)(c,f,g,h.opts.ownProperties),()=>{const v=l.subschema({keyword:d,schemaProp:g},p);l.mergeValidEvaluated(v,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i})(P8);var iC={};Object.defineProperty(iC,"__esModule",{value:!0});const C8=ht,Dve=Ot,Mve={message:"property name must be valid",params:({params:e})=>(0,C8._)`{propertyName: ${e.propertyName}}`},Lve={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Mve,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,Dve.alwaysValidSchema)(i,n))return;const o=t.name("valid");t.forIn("key",r,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),t.if((0,C8.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};iC.default=Lve;var y_={};Object.defineProperty(y_,"__esModule",{value:!0});const Km=dt,ro=ht,jve=Ko,Gm=Ot,zve={message:"must NOT have additional properties",params:({params:e})=>(0,ro._)`{additionalProperty: ${e.additionalProperty}}`},Fve={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:zve,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,Gm.alwaysValidSchema)(s,n))return;const u=(0,Km.allSchemaProperties)(r.properties),c=(0,Km.allSchemaProperties)(r.patternProperties);f(),e.ok((0,ro._)`${o} === ${jve.default.errors}`);function f(){t.forIn("key",i,v=>{!u.length&&!c.length?p(v):t.if(d(v),()=>p(v))})}function d(v){let m;if(u.length>8){const y=(0,Gm.schemaRefOrVal)(s,r.properties,"properties");m=(0,Km.isOwnProperty)(t,y,v)}else u.length?m=(0,ro.or)(...u.map(y=>(0,ro._)`${v} === ${y}`)):m=ro.nil;return c.length&&(m=(0,ro.or)(m,...c.map(y=>(0,ro._)`${(0,Km.usePattern)(e,y)}.test(${v})`))),(0,ro.not)(m)}function h(v){t.code((0,ro._)`delete ${i}[${v}]`)}function p(v){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){h(v);return}if(n===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,Gm.alwaysValidSchema)(s,n)){const m=t.name("valid");l.removeAdditional==="failing"?(g(v,m,!1),t.if((0,ro.not)(m),()=>{e.reset(),h(v)})):(g(v,m),a||t.if((0,ro.not)(m),()=>t.break()))}}function g(v,m,y){const w={keyword:"additionalProperties",dataProp:v,dataPropType:Gm.Type.Str};y===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,m)}}};y_.default=Fve;var oC={};Object.defineProperty(oC,"__esModule",{value:!0});const Vve=po,_2=dt,B1=Ot,b2=y_,Bve={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:o}=e;o.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&b2.default.code(new Vve.KeywordCxt(o,b2.default,"additionalProperties"));const s=(0,_2.allSchemaProperties)(n);for(const f of s)o.definedProperties.add(f);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=B1.mergeEvaluated.props(t,(0,B1.toHash)(s),o.props));const a=s.filter(f=>!(0,B1.alwaysValidSchema)(o,n[f]));if(a.length===0)return;const l=t.name("valid");for(const f of a)u(f)?c(f):(t.if((0,_2.propertyInData)(t,i,f,o.opts.ownProperties)),c(f),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(l);function u(f){return o.opts.useDefaults&&!o.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};oC.default=Bve;var sC={};Object.defineProperty(sC,"__esModule",{value:!0});const S2=dt,Ym=ht,$2=Ot,E2=Ot,Uve={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:o}=e,{opts:s}=o,a=(0,S2.allSchemaProperties)(n),l=a.filter(g=>(0,$2.alwaysValidSchema)(o,n[g]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&i.properties,c=t.name("valid");o.props!==!0&&!(o.props instanceof Ym.Name)&&(o.props=(0,E2.evaluatedPropsToName)(t,o.props));const{props:f}=o;d();function d(){for(const g of a)u&&h(g),o.allErrors?p(g):(t.var(c,!0),p(g),t.if(c))}function h(g){for(const v in u)new RegExp(g).test(v)&&(0,$2.checkStrictMode)(o,`property ${v} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){t.forIn("key",r,v=>{t.if((0,Ym._)`${(0,S2.usePattern)(e,g)}.test(${v})`,()=>{const m=l.includes(g);m||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:v,dataPropType:E2.Type.Str},c),o.opts.unevaluated&&f!==!0?t.assign((0,Ym._)`${f}[${v}]`,!0):!m&&!o.allErrors&&t.if((0,Ym.not)(c),()=>t.break())})})}}};sC.default=Uve;var aC={};Object.defineProperty(aC,"__esModule",{value:!0});const Hve=Ot,qve={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,Hve.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};aC.default=qve;var lC={};Object.defineProperty(lC,"__esModule",{value:!0});const Wve=dt,Kve={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Wve.validateUnion,error:{message:"must match a schema in anyOf"}};lC.default=Kve;var uC={};Object.defineProperty(uC,"__esModule",{value:!0});const Bg=ht,Gve=Ot,Yve={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Bg._)`{passingSchemas: ${e.passing}}`},Qve={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Yve,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const o=n,s=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(s,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((c,f)=>{let d;(0,Gve.alwaysValidSchema)(i,c)?t.var(l,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&t.if((0,Bg._)`${l} && ${s}`).assign(s,!1).assign(a,(0,Bg._)`[${a}, ${f}]`).else(),t.if(l,()=>{t.assign(s,!0),t.assign(a,f),d&&e.mergeEvaluated(d,Bg.Name)})})}}};uC.default=Qve;var cC={};Object.defineProperty(cC,"__esModule",{value:!0});const Xve=Ot,Jve={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((o,s)=>{if((0,Xve.alwaysValidSchema)(r,o))return;const a=e.subschema({keyword:"allOf",schemaProp:s},i);e.ok(i),e.mergeEvaluated(a)})}};cC.default=Jve;var fC={};Object.defineProperty(fC,"__esModule",{value:!0});const d0=ht,I8=Ot,Zve={message:({params:e})=>(0,d0.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,d0._)`{failingKeyword: ${e.ifClause}}`},e0e={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Zve,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,I8.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=x2(r,"then"),o=x2(r,"else");if(!i&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&o){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,u("then",c),u("else",c))}else i?t.if(a,u("then")):t.if((0,d0.not)(a),u("else"));e.pass(s,()=>e.error(!0));function l(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function u(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(s,a),e.mergeValidEvaluated(d,s),f?t.assign(f,(0,d0._)`${c}`):e.setParams({ifClause:c})}}}};function x2(e,t){const n=e.schema[t];return n!==void 0&&!(0,I8.alwaysValidSchema)(e,n)}fC.default=e0e;var dC={};Object.defineProperty(dC,"__esModule",{value:!0});const t0e=Ot,n0e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,t0e.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};dC.default=n0e;Object.defineProperty(eC,"__esModule",{value:!0});const r0e=hf,i0e=tC,o0e=pf,s0e=nC,a0e=rC,l0e=P8,u0e=iC,c0e=y_,f0e=oC,d0e=sC,h0e=aC,p0e=lC,m0e=uC,g0e=cC,y0e=fC,v0e=dC;function w0e(e=!1){const t=[h0e.default,p0e.default,m0e.default,g0e.default,y0e.default,v0e.default,u0e.default,c0e.default,l0e.default,f0e.default,d0e.default];return e?t.push(i0e.default,s0e.default):t.push(r0e.default,o0e.default),t.push(a0e.default),t}eC.default=w0e;var hC={},pC={};Object.defineProperty(pC,"__esModule",{value:!0});const xn=ht,_0e={message:({schemaCode:e})=>(0,xn.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,xn._)`{format: ${e}}`},b0e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:_0e,code(e,t){const{gen:n,data:r,$data:i,schema:o,schemaCode:s,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=a;if(!l.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:l.code.formats}),g=n.const("fDef",(0,xn._)`${p}[${s}]`),v=n.let("fType"),m=n.let("format");n.if((0,xn._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(v,(0,xn._)`${g}.type || "string"`).assign(m,(0,xn._)`${g}.validate`),()=>n.assign(v,(0,xn._)`"string"`).assign(m,g)),e.fail$data((0,xn.or)(y(),w()));function y(){return l.strictSchema===!1?xn.nil:(0,xn._)`${s} && !${m}`}function w(){const b=c.$async?(0,xn._)`(${g}.async ? await ${m}(${r}) : ${m}(${r}))`:(0,xn._)`${m}(${r})`,$=(0,xn._)`(typeof ${m} == "function" ? ${b} : ${m}.test(${r}))`;return(0,xn._)`${m} && ${m} !== true && ${v} === ${t} && !${$}`}}function h(){const p=f.formats[o];if(!p){y();return}if(p===!0)return;const[g,v,m]=w(p);g===t&&e.pass(b());function y(){if(l.strictSchema===!1){f.logger.warn($());return}throw new Error($());function $(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function w($){const _=$ instanceof RegExp?(0,xn.regexpCode)($):l.code.formats?(0,xn._)`${l.code.formats}${(0,xn.getProperty)(o)}`:void 0,E=n.scopeValue("formats",{key:o,ref:$,code:_});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,xn._)`${E}.validate`]:["string",$,E]}function b(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,xn._)`await ${m}(${r})`}return typeof v=="function"?(0,xn._)`${m}(${r})`:(0,xn._)`${m}.test(${r})`}}}};pC.default=b0e;Object.defineProperty(hC,"__esModule",{value:!0});const S0e=pC,$0e=[S0e.default];hC.default=$0e;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.contentVocabulary=jc.metadataVocabulary=void 0;jc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];jc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(zP,"__esModule",{value:!0});const E0e=FP,x0e=BP,O0e=eC,P0e=hC,O2=jc,C0e=[E0e.default,x0e.default,(0,O0e.default)(),P0e.default,O2.metadataVocabulary,O2.contentVocabulary];zP.default=C0e;var mC={},k8={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(k8);Object.defineProperty(mC,"__esModule",{value:!0});const Tu=ht,fE=k8,P2=Xr,I0e=Ot,k0e={message:({params:{discrError:e,tagName:t}})=>e===fE.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Tu._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},T0e={keyword:"discriminator",type:"object",schemaType:"object",error:k0e,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:o}=e,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Tu._)`${n}${(0,Tu.getProperty)(a)}`);t.if((0,Tu._)`typeof ${u} == "string"`,()=>c(),()=>e.error(!1,{discrError:fE.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,Tu._)`${u} === ${p}`),t.assign(l,f(h[p]));t.else(),e.error(!1,{discrError:fE.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(g,Tu.Name),p}function d(){var h;const p={},g=m(i);let v=!0;for(let b=0;b<s.length;b++){let $=s[b];$!=null&&$.$ref&&!(0,I0e.schemaHasRulesButRef)($,o.self.RULES)&&($=P2.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,$==null?void 0:$.$ref),$ instanceof P2.SchemaEnv&&($=$.schema));const _=(h=$==null?void 0:$.properties)===null||h===void 0?void 0:h[a];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(g||m($)),y(_,b)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return p;function m({required:b}){return Array.isArray(b)&&b.includes(a)}function y(b,$){if(b.const)w(b.const,$);else if(b.enum)for(const _ of b.enum)w(_,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function w(b,$){if(typeof b!="string"||b in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[b]=$}}}};mC.default=T0e;const A0e="http://json-schema.org/draft-07/schema#",N0e="http://json-schema.org/draft-07/schema#",R0e="Core schema meta-schema",D0e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},M0e=["object","boolean"],L0e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},j0e={$schema:A0e,$id:N0e,title:R0e,definitions:D0e,type:M0e,properties:L0e,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=XU,r=zP,i=mC,o=j0e,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=po;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=ht;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=xp;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=Op;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(oE,oE.exports);var z0e=oE.exports;const T8=Wo(z0e),F0e="#/definitions/StudyConfig",V0e="http://json-schema.org/draft-07/schema#",B0e={Answer:{additionalProperties:!1,description:"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks.",properties:{acceptableHigh:{type:"number"},acceptableLow:{type:"number"},answer:{},answerCallback:{type:"string"},answerRegex:{type:"string"},id:{type:"string"}},required:["id","answer"],type:"object"},CheckboxResponse:{additionalProperties:!1,description:"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.",properties:{id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"checkbox",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},DropdownResponse:{additionalProperties:!1,description:"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.",properties:{id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"dropdown",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"iframe",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},InheritedComponent:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/PartialComponent"}]},LikertResponse:{additionalProperties:!1,description:"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the preset. For example, preset: 5 will render 5 radio buttons, and preset: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.",properties:{desc:{type:"string"},id:{type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},preset:{type:"number"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},rightLabel:{type:"string"},type:{const:"likert",type:"string"}},required:["id","location","preset","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder.",properties:{id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"longText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumericalResponse:{additionalProperties:!1,description:"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.",properties:{id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},max:{type:"number"},min:{type:"number"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"numerical",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},Option:{additionalProperties:!1,description:"The Option interface is used to define the options for a dropdown, slider, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file. The Option interface is used in the Response interface.",properties:{label:{type:"string"},value:{type:["string","number"]}},required:["label","value"],type:"object"},OrderObject:{additionalProperties:!1,properties:{components:{items:{anyOf:[{type:"string"},{$ref:"#/definitions/OrderObject"}]},type:"array"},numSamples:{type:"number"},order:{enum:["random","latinSquare","fixed"],type:"string"}},required:["order","components"],type:"object"},PartialComponent:{additionalProperties:!1,properties:{baseComponent:{type:"string"},correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:"The QuestionnaireComponent interface is used to define the properties of a questionnaire component. A QuestionnaireComponent is used to render questions with different response types. The response types are also defined with these documentation. The main use case of this component type is to ask participants questions, without using markdown, websites, images, etc.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:"The RadioResponse interface is used to define the properties of a radio response. RadioResponses render as a radio input with user specified options, and optionally left and right labels.",properties:{id:{type:"string"},leftLabel:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},rightLabel:{type:"string"},type:{const:"radio",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},title:{type:"string"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.",properties:{id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},paramCapture:{type:"string"},placeholder:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"shortText",type:"string"}},required:["id","location","prompt","required","type"],type:"object"},SliderResponse:{additionalProperties:!1,description:"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.",properties:{id:{type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation"},options:{items:{$ref:"#/definitions/Option"},type:"array"},paramCapture:{type:"string"},prompt:{type:"string"},required:{type:"boolean"},requiredLabel:{type:"string"},requiredValue:{},type:{const:"slider",type:"string"}},required:["id","location","options","prompt","required","type"],type:"object"},StudyConfig:{additionalProperties:!1,description:"The StudyConfig interface is used to define the properties of a study configuration. These are the hjson files that live in the public folder. In our repo, one example of this would be public/cleveland/config-cleveland.hjson.",properties:{$schema:{type:"string"},baseComponents:{additionalProperties:{$ref:"#/definitions/IndividualComponent"},type:"object"},components:{additionalProperties:{$ref:"#/definitions/InheritedComponent"},type:"object"},sequence:{$ref:"#/definitions/OrderObject"},studyMetadata:{$ref:"#/definitions/StudyMetadata"},uiConfig:{$ref:"#/definitions/UIConfig"}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. This data is also included in the data file that is downloaded at the end of the study, to help identify the study and version.",properties:{authors:{items:{type:"string"},type:"array"},date:{type:"string"},description:{type:"string"},organizations:{items:{type:"string"},type:"array"},title:{type:"string"},version:{type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses.",properties:{autoDownloadStudy:{type:"boolean"},autoDownloadTime:{type:"number"},contactEmail:{type:"string"},helpTextPath:{type:"string"},logoPath:{type:"string"},sidebar:{type:"boolean"},studyEndMsg:{type:"string"},withProgressBar:{type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.",properties:{correctAnswer:{items:{$ref:"#/definitions/Answer"},type:"array"},description:{type:"string"},instruction:{type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation"},meta:{additionalProperties:{},type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation"},nextButtonText:{type:"string"},parameters:{additionalProperties:{},type:"object"},path:{type:"string"},response:{items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},type:"object"},title:{type:"string"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},U0e={$ref:F0e,$schema:V0e,definitions:B0e},H0e="#/definitions/GlobalConfig",q0e="http://json-schema.org/draft-07/schema#",W0e={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{type:"string"},configs:{additionalProperties:{additionalProperties:!1,properties:{path:{type:"string"}},required:["path"],type:"object"},type:"object"},configsList:{items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},K0e={$ref:H0e,$schema:q0e,definitions:W0e},A8=new T8;A8.addSchema(K0e);const C2=A8.getSchema("#/definitions/GlobalConfig"),N8=new T8;N8.addSchema(U0e);const I2=N8.getSchema("#/definitions/StudyConfig");function G0e(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function gC(e){return e.baseComponent!==void 0}function Y0e(e){const t=kP.parse(e),n=C2(t),r=G0e(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...C2.errors||[],...r[1]]),Error("There was an issue validating your file global.hjson")}function Q0e(e){const t=[];return[Object.entries(e.components).every(([r,i])=>{var o;return gC(i)?!!((o=e.baseComponents)!=null&&o[i.baseComponent]):!0}),t]}function R8(e,t){const n=kP.parse(e),r=I2(n),i=Q0e(n);if(r&&i[0])return n;throw console.error(`${t} parsing errors`,[...I2.errors||[],...i[1]]),Error(`There was an issue validating your file ${t}`)}function ji(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Gi(e){return!!e&&!!e[Jt]}function Ss(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===owe}(e)||Array.isArray(e)||!!e[M2]||!!(!((t=e.constructor)===null||t===void 0)&&t[M2])||yC(e)||vC(e))}function X0e(e){return Gi(e)||ji(23,e),e[Jt].t}function Gl(e,t,n){n===void 0&&(n=!1),mf(e)===0?(n?Object.keys:pc)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function mf(e){var t=e[Jt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:yC(e)?2:vC(e)?3:0}function hc(e,t){return mf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function J0e(e,t){return mf(e)===2?e.get(t):e[t]}function D8(e,t,n){var r=mf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function M8(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function yC(e){return rwe&&e instanceof Map}function vC(e){return iwe&&e instanceof Set}function ol(e){return e.o||e.t}function wC(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=j8(e);delete t[Jt];for(var n=pc(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function v_(e,t){return t===void 0&&(t=!1),_C(e)||Gi(e)||!Ss(e)||(mf(e)>1&&(e.set=e.add=e.clear=e.delete=Z0e),Object.freeze(e),t&&Gl(e,function(n,r){return v_(r,!0)},!0)),e}function Z0e(){ji(2)}function _C(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function zo(e){var t=mE[e];return t||ji(18,e),t}function ewe(e,t){mE[e]||(mE[e]=t)}function dE(){return Ih}function U1(e,t){t&&(zo("Patches"),e.u=[],e.s=[],e.v=t)}function h0(e){hE(e),e.p.forEach(twe),e.p=null}function hE(e){e===Ih&&(Ih=e.l)}function k2(e){return Ih={p:[],l:Ih,h:e,m:!0,_:0}}function twe(e){var t=e[Jt];t.i===0||t.i===1?t.j():t.O=!0}function H1(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||zo("ES5").S(t,e,r),r?(n[Jt].P&&(h0(t),ji(4)),Ss(e)&&(e=p0(t,e),t.l||m0(t,e)),t.u&&zo("Patches").M(n[Jt].t,e,t.u,t.s)):e=p0(t,n,[]),h0(t),t.u&&t.v(t.u,t.s),e!==L8?e:void 0}function p0(e,t,n){if(_C(t))return t;var r=t[Jt];if(!r)return Gl(t,function(a,l){return T2(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return m0(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=wC(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Gl(o,function(a,l){return T2(e,r,i,a,l,n,s)}),m0(e,i,!1),n&&e.u&&zo("Patches").N(r,n,e.u,e.s)}return r.o}function T2(e,t,n,r,i,o,s){if(Gi(i)){var a=p0(e,i,o&&t&&t.i!==3&&!hc(t.R,r)?o.concat(r):void 0);if(D8(n,r,a),!Gi(a))return;e.m=!1}else s&&n.add(i);if(Ss(i)&&!_C(i)){if(!e.h.D&&e._<1)return;p0(e,i),t&&t.A.l||m0(e,i)}}function m0(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&v_(t,n)}function q1(e,t){var n=e[Jt];return(n?ol(n):e)[t]}function A2(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xs(e){e.P||(e.P=!0,e.l&&Xs(e.l))}function W1(e){e.o||(e.o=wC(e.t))}function pE(e,t,n){var r=yC(t)?zo("MapSet").F(t,n):vC(t)?zo("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:dE(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=kh;s&&(l=[a],u=vd);var c=Proxy.revocable(l,u),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):zo("ES5").J(t,n);return(n?n.A:dE()).p.push(r),r}function bC(e){return Gi(e)||ji(22,e),function t(n){if(!Ss(n))return n;var r,i=n[Jt],o=mf(n);if(i){if(!i.P&&(i.i<4||!zo("ES5").K(i)))return i.t;i.I=!0,r=N2(n,o),i.I=!1}else r=N2(n,o);return Gl(r,function(s,a){i&&J0e(i.t,s)===a||D8(r,s,t(a))}),o===3?new Set(r):r}(e)}function N2(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return wC(e)}function nwe(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Jt];return kh.get(l,o)},set:function(l){var u=this[Jt];kh.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Jt];if(!a.P)switch(a.i){case 5:r(a)&&Xs(a);break;case 4:n(a)&&Xs(a)}}}function n(o){for(var s=o.t,a=o.k,l=pc(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Jt){var f=s[c];if(f===void 0&&!hc(s,c))return!0;var d=a[c],h=d&&d[Jt];if(h?h.t!==f:!M8(d,f))return!0}}var p=!!s[Jt];return l.length!==pc(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};ewe("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,f){if(c){for(var d=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(d,""+h,e(h,!0));return d}var p=j8(f);delete p[Jt];for(var g=pc(p),v=0;v<g.length;v++){var m=g[v];p[m]=e(m,c||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,o),u={i:a?5:4,A:s?s.A:dE(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Jt,{value:u,writable:!0}),l},S:function(o,s,a){a?Gi(s)&&s[Jt].A===o&&t(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Jt];if(c){var f=c.t,d=c.k,h=c.R,p=c.i;if(p===4)Gl(d,function(w){w!==Jt&&(f[w]!==void 0||hc(f,w)?h[w]||l(d[w]):(h[w]=!0,Xs(c)))}),Gl(f,function(w){d[w]!==void 0||hc(d,w)||(h[w]=!1,Xs(c))});else if(p===5){if(r(c)&&(Xs(c),h.length=!0),d.length<f.length)for(var g=d.length;g<f.length;g++)h[g]=!1;else for(var v=f.length;v<d.length;v++)h[v]=!0;for(var m=Math.min(d.length,f.length),y=0;y<m;y++)d.hasOwnProperty(y)||(h[y]=!0),h[y]===void 0&&l(d[y])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var R2,Ih,SC=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",rwe=typeof Map<"u",iwe=typeof Set<"u",D2=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",L8=SC?Symbol.for("immer-nothing"):((R2={})["immer-nothing"]=!0,R2),M2=SC?Symbol.for("immer-draftable"):"__$immer_draftable",Jt=SC?Symbol.for("immer-state"):"__$immer_state",owe=""+Object.prototype.constructor,pc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,j8=Object.getOwnPropertyDescriptors||function(e){var t={};return pc(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},mE={},kh={get:function(e,t){if(t===Jt)return e;var n=ol(e);if(!hc(n,t))return function(i,o,s){var a,l=A2(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Ss(r)?r:r===q1(e.t,t)?(W1(e),e.o[t]=pE(e.A.h,r,e)):r},has:function(e,t){return t in ol(e)},ownKeys:function(e){return Reflect.ownKeys(ol(e))},set:function(e,t,n){var r=A2(ol(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=q1(ol(e),t),o=i==null?void 0:i[Jt];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(M8(n,i)&&(n!==void 0||hc(e.t,t)))return!0;W1(e),Xs(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return q1(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,W1(e),Xs(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ol(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ji(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ji(12)}},vd={};Gl(kh,function(e,t){vd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),vd.deleteProperty=function(e,t){return vd.set.call(this,e,t,void 0)},vd.set=function(e,t,n){return kh.set.call(this,e[0],t,n,e[0])};var swe=function(){function e(n){var r=this;this.g=D2,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(g){var v=this;g===void 0&&(g=a);for(var m=arguments.length,y=Array(m>1?m-1:0),w=1;w<m;w++)y[w-1]=arguments[w];return l.produce(g,function(b){var $;return($=o).call.apply($,[v,b].concat(y))})}}var u;if(typeof o!="function"&&ji(6),s!==void 0&&typeof s!="function"&&ji(7),Ss(i)){var c=k2(r),f=pE(r,i,void 0),d=!0;try{u=o(f),d=!1}finally{d?h0(c):hE(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return U1(c,s),H1(g,c)},function(g){throw h0(c),g}):(U1(c,s),H1(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===L8&&(u=void 0),r.D&&v_(u,!0),s){var h=[],p=[];zo("Patches").M(i,u,h,p),s(h,p)}return u}ji(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(f))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Ss(n)||ji(8),Gi(n)&&(n=bC(n));var r=k2(this),i=pE(this,n,void 0);return i[Jt].C=!0,hE(r),i},t.finishDraft=function(n,r){var i=n&&n[Jt],o=i.A;return U1(o,r),H1(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!D2&&ji(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=zo("Patches").$;return Gi(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),_i=new swe,w_=_i.produce;_i.produceWithPatches.bind(_i);_i.setAutoFreeze.bind(_i);_i.setUseProxies.bind(_i);_i.applyPatches.bind(_i);_i.createDraft.bind(_i);_i.finishDraft.bind(_i);function Th(e){return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function awe(e,t){if(Th(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Th(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lwe(e){var t=awe(e,"string");return Th(t)==="symbol"?t:String(t)}function uwe(e,t,n){return t=lwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){uwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var z2=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),K1=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ah={INIT:"@@redux/INIT"+K1(),REPLACE:"@@redux/REPLACE"+K1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+K1()}};function cwe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function __(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sr(1));return n(__)(e,t)}if(typeof e!="function")throw new Error(sr(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(sr(3));return o}function f(g){if(typeof g!="function")throw new Error(sr(4));if(l)throw new Error(sr(5));var v=!0;return u(),a.push(g),function(){if(v){if(l)throw new Error(sr(6));v=!1,u();var y=a.indexOf(g);a.splice(y,1),s=null}}}function d(g){if(!cwe(g))throw new Error(sr(7));if(typeof g.type>"u")throw new Error(sr(8));if(l)throw new Error(sr(9));try{l=!0,o=i(o,g)}finally{l=!1}for(var v=s=a,m=0;m<v.length;m++){var y=v[m];y()}return g}function h(g){if(typeof g!="function")throw new Error(sr(10));i=g,d({type:Ah.REPLACE})}function p(){var g,v=f;return g={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(sr(11));function w(){y.next&&y.next(c())}w();var b=v(w);return{unsubscribe:b}}},g[z2]=function(){return this},g}return d({type:Ah.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:h},r[z2]=p,r}var fwe=__;function dwe(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Ah.INIT});if(typeof r>"u")throw new Error(sr(12));if(typeof n(void 0,{type:Ah.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function z8(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{dwe(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,f={},d=0;d<o.length;d++){var h=o[d],p=n[h],g=l[h],v=p(g,u);if(typeof v>"u")throw u&&u.type,new Error(sr(14));f[h]=v,c=c||v!==g}return c=c||o.length!==Object.keys(l).length,c?f:l}}function F2(e,t){return function(){return t(e.apply(this,arguments))}}function hwe(e,t){if(typeof e=="function")return F2(e,t);if(typeof e!="object"||e===null)throw new Error(sr(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=F2(i,t))}return n}function Nh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function F8(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(sr(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=Nh.apply(void 0,a)(i.dispatch),j2(j2({},i),{},{dispatch:o})}}}var g0="NOT_FOUND";function pwe(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:g0},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function mwe(e,t){var n=[];function r(a){var l=n.findIndex(function(c){return t(a,c.key)});if(l>-1){var u=n[l];return l>0&&(n.splice(l,1),n.unshift(u)),u.value}return g0}function i(a,l){r(a)===g0&&(n.unshift({key:a,value:l}),n.length>e&&n.pop())}function o(){return n}function s(){n=[]}return{get:r,put:i,getEntries:o,clear:s}}var gwe=function(t,n){return t===n};function ywe(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,o=0;o<i;o++)if(!e(n[o],r[o]))return!1;return!0}}function vwe(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?gwe:r,o=n.maxSize,s=o===void 0?1:o,a=n.resultEqualityCheck,l=ywe(i),u=s===1?pwe(l):mwe(s,l);function c(){var f=u.get(arguments);if(f===g0){if(f=e.apply(null,arguments),a){var d=u.getEntries(),h=d.find(function(p){return a(p.value,f)});h&&(f=h.value)}u.put(arguments,f)}return f}return c.clearCache=function(){return u.clear()},c}function wwe(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function _we(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=0,c,f={memoizeOptions:void 0},d=a.pop();if(typeof d=="object"&&(f=d,d=a.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var h=f,p=h.memoizeOptions,g=p===void 0?n:p,v=Array.isArray(g)?g:[g],m=wwe(a),y=e.apply(void 0,[function(){return u++,d.apply(null,arguments)}].concat(v)),w=e(function(){for(var $=[],_=m.length,E=0;E<_;E++)$.push(m[E].apply(null,arguments));return c=y.apply(null,$),c});return Object.assign(w,{resultFunc:d,memoizedResultFunc:y,dependencies:m,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),w};return i}var V8=_we(vwe);function B8(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var U8=B8();U8.withExtraArgument=B8;const V2=U8;var bwe=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cp=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},zc=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Swe=Object.defineProperty,$we=Object.defineProperties,Ewe=Object.getOwnPropertyDescriptors,B2=Object.getOwnPropertySymbols,xwe=Object.prototype.hasOwnProperty,Owe=Object.prototype.propertyIsEnumerable,U2=function(e,t,n){return t in e?Swe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Zr=function(e,t){for(var n in t||(t={}))xwe.call(t,n)&&U2(e,n,t[n]);if(B2)for(var r=0,i=B2(t);r<i.length;r++){var n=i[r];Owe.call(t,n)&&U2(e,n,t[n])}return e},G1=function(e,t){return $we(e,Ewe(t))},Ip=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},Jo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=V8.apply(void 0,e),r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return n.apply(void 0,zc([Gi(i)?bC(i):i],o))};return r},Pwe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nh:Nh.apply(null,arguments)};function b_(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var H8=function(e){bwe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,zc([void 0],n[0].concat(this)))):new(t.bind.apply(t,zc([void 0],n.concat(this))))},t}(Array);function gE(e){return Ss(e)?w_(e,function(){}):e}function Cwe(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function Iwe(e){return function(){return function(t){return function(n){return t(n)}}}}function q8(e){var t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||b_(e)}function W8(e,t,n,r,i,o){t===void 0&&(t=""),n===void 0&&(n=q8),i===void 0&&(i=[]);var s;if(!n(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null||o!=null&&o.has(e))return!1;for(var a=r!=null?r(e):Object.entries(e),l=i.length>0,u=function(v,m){var y=t?t+"."+v:v;if(l){var w=i.some(function(b){return b instanceof RegExp?b.test(y):y===b});if(w)return"continue"}if(!n(m))return{value:{keyPath:y,value:m}};if(typeof m=="object"&&(s=W8(m,y,n,r,i,o),s))return{value:s}},c=0,f=a;c<f.length;c++){var d=f[c],h=d[0],p=d[1],g=u(h,p);if(typeof g=="object")return g.value}return o&&K8(e)&&o.add(e),!1}function K8(e){if(!Object.isFrozen(e))return!1;for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(!(typeof r!="object"||r===null)&&!K8(r))return!1}return!0}function kwe(e){return function(){return function(t){return function(n){return t(n)}}}}function Twe(e){return typeof e=="boolean"}function Awe(){return function(t){return G8(t)}}function G8(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new H8;return n&&(Twe(n)?r.push(V2):r.push(V2.withExtraArgument(n.extraArgument))),r}var Nwe=!0;function $C(e){var t=Awe(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,f=n.enhancers,d=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(b_(i))h=z8(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(t));var g=F8.apply(void 0,p),v=Nh;l&&(v=Pwe(Zr({trace:!Nwe},typeof l=="object"&&l)));var m=[g];Array.isArray(d)?m=zc([g],d):typeof d=="function"&&(m=d(m));var y=v.apply(void 0,m);return __(h,c,y)}function Ui(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Zr(Zr({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Rwe(e){return b_(e)&&typeof e.type=="string"&&Object.keys(e).every(Dwe)}function Dwe(e){return["type","payload","error","meta"].indexOf(e)>-1}function Mwe(e){return""+e}function Y8(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function Lwe(e){return typeof e=="function"}function Q8(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Y8(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(Lwe(e))l=function(){return gE(e())};else{var u=gE(e);l=function(){return u}}function c(f,d){f===void 0&&(f=l());var h=zc([o[d.type]],s.filter(function(p){var g=p.matcher;return g(d)}).map(function(p){var g=p.reducer;return g}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,g){if(g)if(Gi(p)){var v=p,m=g(v,d);return m===void 0?p:m}else{if(Ss(p))return w_(p,function(y){return g(y,d)});var m=g(p,d);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return c.getInitialState=l,c}function jwe(e,t){return e+"/"+t}function S_(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:gE(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var f=r[c],d=jwe(t,c),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,o[c]=h,s[d]=h,a[c]=p?Ui(d,p):Ui(d)});function l(){var c=typeof e.extraReducers=="function"?Y8(e.extraReducers):[e.extraReducers],f=c[0],d=f===void 0?{}:f,h=c[1],p=h===void 0?[]:h,g=c[2],v=g===void 0?void 0:g,m=Zr(Zr({},d),s);return Q8(n,function(y){for(var w in m)y.addCase(w,m[w]);for(var b=0,$=p;b<$.length;b++){var _=$[b];y.addMatcher(_.matcher,_.reducer)}v&&y.addDefaultCase(v)})}var u;return{name:t,reducer:function(c,f){return u||(u=l()),u(c,f)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}function zwe(){return{ids:[],entities:{}}}function Fwe(){function e(t){return t===void 0&&(t={}),Object.assign(zwe(),t)}return{getInitialState:e}}function Vwe(){function e(t){var n=function(u){return u.ids},r=function(u){return u.entities},i=Jo(n,r,function(u,c){return u.map(function(f){return c[f]})}),o=function(u,c){return c},s=function(u,c){return u[c]},a=Jo(n,function(u){return u.length});if(!t)return{selectIds:n,selectEntities:r,selectAll:i,selectTotal:a,selectById:Jo(r,o,s)};var l=Jo(t,r);return{selectIds:Jo(t,n),selectEntities:l,selectAll:Jo(t,i),selectTotal:Jo(t,a),selectById:Jo(l,o,s)}}return{getSelectors:e}}function Bwe(e){var t=On(function(n,r){return e(r)});return function(r){return t(r,void 0)}}function On(e){return function(n,r){function i(s){return Rwe(s)}var o=function(s){i(r)?e(r.payload,s):e(r,s)};return Gi(n)?(o(n),n):w_(n,o)}}function Gd(e,t){var n=t(e);return n}function Nl(e){return Array.isArray(e)||(e=Object.values(e)),e}function X8(e,t,n){e=Nl(e);for(var r=[],i=[],o=0,s=e;o<s.length;o++){var a=s[o],l=Gd(a,t);l in n.entities?i.push({id:l,changes:a}):r.push(a)}return[r,i]}function J8(e){function t(p,g){var v=Gd(p,e);v in g.entities||(g.ids.push(v),g.entities[v]=p)}function n(p,g){p=Nl(p);for(var v=0,m=p;v<m.length;v++){var y=m[v];t(y,g)}}function r(p,g){var v=Gd(p,e);v in g.entities||g.ids.push(v),g.entities[v]=p}function i(p,g){p=Nl(p);for(var v=0,m=p;v<m.length;v++){var y=m[v];r(y,g)}}function o(p,g){p=Nl(p),g.ids=[],g.entities={},n(p,g)}function s(p,g){return a([p],g)}function a(p,g){var v=!1;p.forEach(function(m){m in g.entities&&(delete g.entities[m],v=!0)}),v&&(g.ids=g.ids.filter(function(m){return m in g.entities}))}function l(p){Object.assign(p,{ids:[],entities:{}})}function u(p,g,v){var m=v.entities[g.id],y=Object.assign({},m,g.changes),w=Gd(y,e),b=w!==g.id;return b&&(p[g.id]=w,delete v.entities[g.id]),v.entities[w]=y,b}function c(p,g){return f([p],g)}function f(p,g){var v={},m={};p.forEach(function(b){b.id in g.entities&&(m[b.id]={id:b.id,changes:Zr(Zr({},m[b.id]?m[b.id].changes:null),b.changes)})}),p=Object.values(m);var y=p.length>0;if(y){var w=p.filter(function(b){return u(v,b,g)}).length>0;w&&(g.ids=Object.keys(g.entities))}}function d(p,g){return h([p],g)}function h(p,g){var v=X8(p,e,g),m=v[0],y=v[1];f(y,g),n(m,g)}return{removeAll:Bwe(l),addOne:On(t),addMany:On(n),setOne:On(r),setMany:On(i),setAll:On(o),updateOne:On(c),updateMany:On(f),upsertOne:On(d),upsertMany:On(h),removeOne:On(s),removeMany:On(a)}}function Uwe(e,t){var n=J8(e),r=n.removeOne,i=n.removeMany,o=n.removeAll;function s(y,w){return a([y],w)}function a(y,w){y=Nl(y);var b=y.filter(function($){return!(Gd($,e)in w.entities)});b.length!==0&&v(b,w)}function l(y,w){return u([y],w)}function u(y,w){y=Nl(y),y.length!==0&&v(y,w)}function c(y,w){y=Nl(y),w.entities={},w.ids=[],a(y,w)}function f(y,w){return d([y],w)}function d(y,w){for(var b=!1,$=0,_=y;$<_.length;$++){var E=_[$],C=w.entities[E.id];if(C){b=!0,Object.assign(C,E.changes);var N=e(C);E.id!==N&&(delete w.entities[E.id],w.entities[N]=C)}}b&&m(w)}function h(y,w){return p([y],w)}function p(y,w){var b=X8(y,e,w),$=b[0],_=b[1];d(_,w),a($,w)}function g(y,w){if(y.length!==w.length)return!1;for(var b=0;b<y.length&&b<w.length;b++)if(y[b]!==w[b])return!1;return!0}function v(y,w){y.forEach(function(b){w.entities[e(b)]=b}),m(w)}function m(y){var w=Object.values(y.entities);w.sort(t);var b=w.map(e),$=y.ids;g($,b)||(y.ids=b)}return{removeOne:r,removeMany:i,removeAll:o,addOne:On(s),updateOne:On(f),upsertOne:On(h),setOne:On(l),setMany:On(u),setAll:On(c),addMany:On(a),updateMany:On(d),upsertMany:On(p)}}function Hwe(e){e===void 0&&(e={});var t=Zr({sortComparer:!1,selectId:function(a){return a.id}},e),n=t.selectId,r=t.sortComparer,i=Fwe(),o=Vwe(),s=r?Uwe(n,r):J8(n);return Zr(Zr(Zr({selectId:n,sortComparer:r},i),o),s)}var qwe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EC=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=qwe[Math.random()*64|0];return t},Wwe=["name","message","stack","code"],Y1=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),H2=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Z8=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Wwe;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},Kwe=function(){function e(t,n,r){var i=Ui(t+"/fulfilled",function(u,c,f,d){return{payload:u,meta:G1(Zr({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),o=Ui(t+"/pending",function(u,c,f){return{payload:void 0,meta:G1(Zr({},f||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=Ui(t+"/rejected",function(u,c,f,d,h){return{payload:d,error:(r&&r.serializeError||Z8)(u||"Rejected"),meta:G1(Zr({},h||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,f,d){var h=r!=null&&r.idGenerator?r.idGenerator(u):EC(),p=new a,g;function v(y){g=y,p.abort()}var m=function(){return Ip(this,null,function(){var y,w,b,$,_,E,C;return Cp(this,function(N){switch(N.label){case 0:return N.trys.push([0,4,,5]),$=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,u,{getState:f,extra:d}),Gwe($)?[4,$]:[3,2];case 1:$=N.sent(),N.label=2;case 2:if($===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return _=new Promise(function(L,M){return p.signal.addEventListener("abort",function(){return M({name:"AbortError",message:g||"Aborted"})})}),c(o(h,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:f,extra:d}))),[4,Promise.race([_,Promise.resolve(n(u,{dispatch:c,getState:f,extra:d,requestId:h,signal:p.signal,abort:v,rejectWithValue:function(L,M){return new Y1(L,M)},fulfillWithValue:function(L,M){return new H2(L,M)}})).then(function(L){if(L instanceof Y1)throw L;return L instanceof H2?i(L.payload,h,u,L.meta):i(L,h,u)})])];case 3:return b=N.sent(),[3,5];case 4:return E=N.sent(),b=E instanceof Y1?s(null,h,u,E.payload,E.meta):s(E,h,u),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&s.match(b)&&b.meta.condition,C||c(b),[2,b]}})})}();return Object.assign(m,{abort:v,requestId:h,arg:u,unwrap:function(){return m.then(e9)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function e9(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Gwe(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Ywe=function(e){return e&&typeof e.match=="function"},t9=function(e,t){return Ywe(e)?e.match(t):e(t)};function Yl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return t9(r,n)})}}function yE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.every(function(r){return t9(r,n)})}}function $_(e,t){if(!e||!e.meta)return!1;var n=typeof e.meta.requestId=="string",r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function kp(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function n9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return $_(n,["pending"])}:kp(e)?function(n){var r=e.map(function(o){return o.pending}),i=Yl.apply(void 0,r);return i(n)}:n9()(e[0])}function y0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return $_(n,["rejected"])}:kp(e)?function(n){var r=e.map(function(o){return o.rejected}),i=Yl.apply(void 0,r);return i(n)}:y0()(e[0])}function r9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return e.length===0?function(r){var i=yE(y0.apply(void 0,e),n);return i(r)}:kp(e)?function(r){var i=yE(y0.apply(void 0,e),n);return i(r)}:r9()(e[0])}function i9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return $_(n,["fulfilled"])}:kp(e)?function(n){var r=e.map(function(o){return o.fulfilled}),i=Yl.apply(void 0,r);return i(n)}:i9()(e[0])}function o9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(n){return $_(n,["pending","fulfilled","rejected"])}:kp(e)?function(n){for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i];r.push(s.pending,s.rejected,s.fulfilled)}var a=Yl.apply(void 0,r);return a(n)}:o9()(e[0])}var xC=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},vE=function(){},s9=function(e,t){return t===void 0&&(t=vE),e.catch(t),e},a9=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},mc=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qwe="task",l9="listener",u9="completed",OC="cancelled",Xwe="task-"+OC,Jwe="task-"+u9,c9=l9+"-"+OC,Zwe=l9+"-"+u9,Tp=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=Qwe+" "+OC+" (reason: "+t+")"}return e}(),gc=function(e){if(e.aborted)throw new Tp(e.reason)};function f9(e,t){var n=vE;return new Promise(function(r,i){var o=function(){return i(new Tp(e.reason))};if(e.aborted){o();return}n=a9(e,o),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=vE})}var e_e=function(e,t){return Ip(void 0,null,function(){var n,r;return Cp(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof Tp?"cancelled":"rejected",error:r}];case 4:return t==null||t(),[7];case 5:return[2]}})})},v0=function(e){return function(t){return s9(f9(e,t).then(function(n){return gc(e),n}))}},d9=function(e){var t=v0(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},t_e=Object.assign,q2={},Ap="listenerMiddleware",n_e=function(e){var t=function(n){return a9(e,function(){return mc(n,e.reason)})};return function(n){xC(n,"taskExecutor");var r=new AbortController;t(r);var i=e_e(function(){return Ip(void 0,null,function(){var o;return Cp(this,function(s){switch(s.label){case 0:return gc(e),gc(r.signal),[4,n({pause:v0(r.signal),delay:d9(r.signal),signal:r.signal})];case 1:return o=s.sent(),gc(r.signal),[2,o]}})})},function(){return mc(r,Jwe)});return{result:v0(e)(i),cancel:function(){mc(r,Xwe)}}}},r_e=function(e,t){var n=function(r,i){return Ip(void 0,null,function(){var o,s,a,l;return Cp(this,function(u){switch(u.label){case 0:gc(t),o=function(){},s=new Promise(function(c,f){var d=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});o=function(){d(),f()}}),a=[s],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,f9(t,Promise.race(a))];case 2:return l=u.sent(),gc(t),[2,l];case 3:return o(),[7];case 4:return[2]}})})};return function(r,i){return s9(n(r,i))}},h9=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=Ui(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return xC(o,"options.listener"),{predicate:i,type:t,effect:o}},i_e=function(e){var t=h9(e),n=t.type,r=t.predicate,i=t.effect,o=EC(),s={id:o,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return s},wE=function(e){e.pending.forEach(function(t){mc(t,c9)})},o_e=function(e){return function(){e.forEach(wE),e.clear()}},W2=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},p9=Ui(Ap+"/add"),m9=Ui(Ap+"/removeAll"),g9=Ui(Ap+"/remove"),s_e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,zc([Ap+"/error"],e))};function y9(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,o=i===void 0?s_e:i;xC(o,"onError");var s=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p!=null&&p.cancelActive&&wE(h)}},a=function(h){for(var p=0,g=Array.from(n.values());p<g.length;p++){var v=g[p];if(h(v))return v}},l=function(h){var p=a(function(g){return g.effect===h.effect});return p||(p=i_e(h)),s(p)},u=function(h){var p=h9(h),g=p.type,v=p.effect,m=p.predicate,y=a(function(w){var b=typeof g=="string"?w.type===g:w.predicate===m;return b&&w.effect===v});return y&&(y.unsubscribe(),h.cancelActive&&wE(y)),!!y},c=function(h,p,g,v){return Ip(t,null,function(){var m,y,w;return Cp(this,function(b){switch(b.label){case 0:m=new AbortController,y=r_e(l,m.signal),b.label=1;case 1:return b.trys.push([1,3,4,5]),h.pending.add(m),[4,Promise.resolve(h.effect(p,t_e({},g,{getOriginalState:v,condition:function($,_){return y($,_).then(Boolean)},take:y,delay:d9(m.signal),pause:v0(m.signal),extra:r,signal:m.signal,fork:n_e(m.signal),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function($,_,E){$!==m&&(mc($,c9),E.delete($))})}})))];case 2:return b.sent(),[3,5];case 3:return w=b.sent(),w instanceof Tp||W2(o,w,{raisedBy:"effect"}),[3,5];case 4:return mc(m,Zwe),h.pending.delete(m),[7];case 5:return[2]}})})},f=o_e(n),d=function(h){return function(p){return function(g){if(p9.match(g))return l(g.payload);if(m9.match(g)){f();return}if(g9.match(g))return u(g.payload);var v=h.getState(),m=function(){if(v===q2)throw new Error(Ap+": getOriginalState can only be called synchronously");return v},y;try{if(y=p(g),n.size>0)for(var w=h.getState(),b=Array.from(n.values()),$=0,_=b;$<_.length;$++){var E=_[$],C=!1;try{C=E.predicate(g,w,v)}catch(N){C=!1,W2(o,N,{raisedBy:"predicate"})}C&&c(E,g,h,m)}}finally{v=q2}return y}}};return{middleware:d,startListening:l,stopListening:u,clearListeners:f}}var PC="RTK_autoBatch",a_e=function(){return function(e){var t;return{payload:e,meta:(t={},t[PC]=!0,t)}}},K2,l_e=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(K2||(K2=Promise.resolve())).then(e).catch(function(t){return setTimeout(function(){throw t},0)})},v9=function(e){return function(t){setTimeout(t,e)}},u_e=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:v9(10),c_e=function(e){return e===void 0&&(e={type:"raf"}),function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(void 0,n),o=!0,s=!1,a=!1,l=new Set,u=e.type==="tick"?l_e:e.type==="raf"?u_e:e.type==="callback"?e.queueNotification:v9(e.timeout),c=function(){a=!1,s&&(s=!1,l.forEach(function(f){return f()}))};return Object.assign({},i,{subscribe:function(f){var d=function(){return o&&f()},h=i.subscribe(d);return l.add(f),function(){h(),l.delete(f)}},dispatch:function(f){var d;try{return o=!((d=f==null?void 0:f.meta)!=null&&d[PC]),s=!o,s&&(a||(a=!0,u(c))),i.dispatch(f)}finally{o=!0}}})}}};nwe();const f_e=Object.freeze(Object.defineProperty({__proto__:null,MiddlewareArray:H8,SHOULD_AUTOBATCH:PC,TaskAbortError:Tp,__DO_NOT_USE__ActionTypes:Ah,addListener:p9,applyMiddleware:F8,autoBatchEnhancer:c_e,bindActionCreators:hwe,clearAllListeners:m9,combineReducers:z8,compose:Nh,configureStore:$C,createAction:Ui,createAsyncThunk:Kwe,createDraftSafeSelector:Jo,createEntityAdapter:Hwe,createImmutableStateInvariantMiddleware:Iwe,createListenerMiddleware:y9,createNextState:w_,createReducer:Q8,createSelector:V8,createSerializableStateInvariantMiddleware:kwe,createSlice:S_,createStore:__,current:bC,findNonSerializableValue:W8,freeze:v_,getDefaultMiddleware:G8,getType:Mwe,isAllOf:yE,isAnyOf:Yl,isAsyncThunkAction:o9,isDraft:Gi,isFulfilled:i9,isImmutableDefault:Cwe,isPending:n9,isPlain:q8,isPlainObject:b_,isRejected:y0,isRejectedWithValue:r9,legacy_createStore:fwe,miniSerializeError:Z8,nanoid:EC,original:X0e,prepareAutoBatched:a_e,removeListener:g9,unwrapResult:e9},Symbol.toStringTag,{value:"Module"}));var _E={},E_={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});function t(n,r){return Object.keys(n).forEach(function(i){i!=="default"&&!Object.prototype.hasOwnProperty.call(r,i)&&Object.defineProperty(r,i,{enumerable:!0,get:function(){return n[i]}})}),n}})(E_);var CC={},w9={},IC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});function t(){return t=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])}return r},t.apply(this,arguments)}function n(){return t.apply(this,arguments)}})(IC);const Np=Gx(f_e);var Rp={};(function(e){function t(c,f){for(var d in f)Object.defineProperty(c,d,{enumerable:!0,get:f[d]})}t(e,{NO_OP_ACTION:()=>r,LABELS:()=>i,DO_UNDO_ACTION_CREATORS:()=>o,TRRACKABLE:()=>s,EVENTS:()=>a,ACTION_NAME_TYPE_MAP:()=>l,ASYNC_THUNKS:()=>u});const r=(0,Np.createAction)("NO_OP"),i=Symbol("label"),o=Symbol("do_undo_action_creators"),s=Symbol("trrackable"),a=Symbol("events"),l=Symbol("action_name_type_map"),u=Symbol("async_thunks")})(Rp);(function(e){Object.defineProperty(e,"createTrrackableSlice",{enumerable:!0,get:()=>l});const t=IC.default,n=Np,r=Rp;function i(u){const c={};return Object.entries(u.actions).forEach(([f,d])=>{c[f]=d.type}),c}function o(u,c,f){const d={};return f.forEach(h=>{const p=h.typePrefix,g=c[p];if(!g){d[p]=()=>p;return}if(typeof g=="string"){d[p]=()=>g;return}throw typeof g=="function"&&(d[p]=g),new Error(`Error creating label generator for ${p.toString()}`)}),Object.entries(u.actions).forEach(([h,p])=>{const g=c[h];if(!g){d[p.type]=()=>p.type;return}if(typeof g=="string"){d[p.type]=()=>g;return}if(typeof g=="function"){d[p.type]=g;return}throw new Error(`Error creating label generator for ${h.toString()}: ${p.type}`)}),d}function s(u,c,f){const d={};return f.forEach(h=>{const p=h.typePrefix,g=c[p];g?d[p]=g:d[p]=p}),Object.entries(u.actions).forEach(([h,p])=>{const g=c[h];g?d[p.type]=g:d[p.type]=p.type}),d}function a(u,c,f){const d={};return f.forEach(h=>{const p=h.typePrefix,g=c[p];if(g){const v=m=>{const{do:y,undo:w}=g(m);return{do:y||(0,r.NO_OP_ACTION)(),undo:w}};d[p]=v}else{const v=()=>({do:(0,r.NO_OP_ACTION)(),undo:(0,r.NO_OP_ACTION)()});d[p]=v}}),Object.entries(u.actions).forEach(([h,p])=>{const g=c[h];g?d[p.type]=v=>{const{do:m,undo:y}=g(v);return{do:m||(0,r.NO_OP_ACTION)(),undo:y}}:d[p.type]=()=>({do:(0,r.NO_OP_ACTION)(),undo:(0,r.NO_OP_ACTION)()})}),d}function l(u){const c=(0,n.createSlice)(u),f=i(c),d=o(c,u.labels||{},u.asyncThunks||[]),h=s(c,u.reducerEventTypes||{},u.asyncThunks||[]),p=a(c,u.doUndoActionCreators||{},u.asyncThunks||[]);return t({},c,{[r.LABELS]:d,[r.EVENTS]:h,[r.DO_UNDO_ACTION_CREATORS]:p,[r.TRRACKABLE]:!0,[r.ACTION_NAME_TYPE_MAP]:f,[r.ASYNC_THUNKS]:u.asyncThunks||[]})}})(w9);var _9={};(function(e){Object.defineProperty(e,"isSliceTrrackable",{enumerable:!0,get:()=>n});const t=Rp;function n(r){return t.TRRACKABLE?t.TRRACKABLE in r:!1}})(_9);(function(e){const t=E_.default;t(w9,e),t(Rp,e),t(_9,e)})(CC);var b9={},S9={};function $9(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let Qm;const d_e=new Uint8Array(16);function h_e(){if(!Qm&&(Qm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qm(d_e)}const rr=[];for(let e=0;e<256;++e)rr.push((e+256).toString(16).slice(1));function p_e(e,t=0){return(rr[e[t+0]]+rr[e[t+1]]+rr[e[t+2]]+rr[e[t+3]]+"-"+rr[e[t+4]]+rr[e[t+5]]+"-"+rr[e[t+6]]+rr[e[t+7]]+"-"+rr[e[t+8]]+rr[e[t+9]]+"-"+rr[e[t+10]]+rr[e[t+11]]+rr[e[t+12]]+rr[e[t+13]]+rr[e[t+14]]+rr[e[t+15]]).toLowerCase()}const m_e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),G2={randomUUID:m_e};function Y2(e,t,n){if(G2.randomUUID&&!t&&!e)return G2.randomUUID();e=e||{};const r=e.random||(e.rng||h_e)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return p_e(r)}let Dp=class{static get(){let t=Y2();for(;this.ids.has(t);)t=Y2();return this.ids.set(t,!0),t}};Dp.ids=new Map;function Hi(e){return"parent"in e}function g_e(e){return!Hi(e)}function E9(e){const{label:t=void 0,state:n,artifact:r}=e;return{id:Dp.get(),label:t||"Root",children:[],level:0,meta:{createdOn:Date.now(),eventType:"Root"},state:{type:"checkpoint",val:n},artifact:r}}function x9({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},artifact:i=void 0,eventType:o}){return{id:Dp.get(),label:n,children:[],parent:e.id,meta:{createdOn:Date.now(),eventType:o},sideEffects:r,state:t,level:e.level+1,artifact:i}}function y_e(e,t){const n=E9({state:e,label:"Root",artifact:t}),r={nodes:{[n.id]:n},root:n.id,current:n.id};return S_({name:"provenance-graph",initialState:r,reducers:{changeCurrent(i,o){i.current=o.payload},addNode(i,{payload:o}){i.nodes[o.id]=o,i.nodes[o.parent].children.push(o.id),i.current=o.id},load(i,{payload:o}){return o}}})}function O9(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=y_e(e),o=y9();o.startListening({matcher:Yl(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=Yl(r.addNode)(a),{skipOnNew:f}=u.config;f&&c||u.func(c?"new":"traversal")})}});const s=$C({reducer:n,middleware:a=>a().prepend(o.middleware)});return{initialState:i(),get backend(){return s.getState()},get current(){return s.getState().nodes[s.getState().current]},get root(){return s.getState().nodes[s.getState().root]},currentChange(a,l){const u={id:Dp.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:s.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var v_e=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),w_e=Object.prototype.hasOwnProperty;function bE(e,t){return w_e.call(e,t)}function SE(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)bE(e,i)&&r.push(i);return r}function ei(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function $E(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function sl(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function P9(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function EE(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(EE(e[t]))return!0}else if(typeof e=="object"){for(var r=SE(e),i=r.length,o=0;o<i;o++)if(EE(e[r[o]]))return!0}}return!1}function Q2(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var C9=function(e){v_e(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,Q2(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=Q2(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),mn=C9,__e=ei,Yu={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=w0(n,this.path);r&&(r=ei(r));var i=Rl(n,{op:"remove",path:this.from}).removed;return Rl(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=w0(n,this.from);return Rl(n,{op:"add",path:this.path,value:ei(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Rh(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},b_e={add:function(e,t,n){return $E(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Yu.move,copy:Yu.copy,test:Yu.test,_get:Yu._get};function w0(e,t){if(t=="")return e;var n={op:"_get",path:t};return Rl(e,n),n.value}function Rl(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):_0(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=w0(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=Rh(e,t.value),s.test===!1)throw new mn("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new mn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=ei(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=_0;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=P9(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(u[h]===void 0?d=l.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!$E(h))throw new mn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);$E(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>u.length)throw new mn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=b_e[t.op].call(t,u,h,e);if(s.test===!1)throw new mn("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=f){var s=Yu[t.op].call(t,u,h,e);if(s.test===!1)throw new mn("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<f&&(!u||typeof u!="object"))throw new mn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function x_(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new mn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ei(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Rl(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function S_e(e,t,n){var r=Rl(e,t);if(r.test===!1)throw new mn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function _0(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new mn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Yu[e.op]){if(typeof e.path!="string")throw new mn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new mn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new mn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new mn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&EE(e.value))throw new mn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new mn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new mn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=I9([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new mn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new mn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function I9(e,t,n){try{if(!Array.isArray(e))throw new mn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)x_(ei(t),ei(e),n||!0);else{n=n||_0;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof mn)return i;throw i}}function Rh(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!Rh(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!Rh(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const $_e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:mn,_areEquals:Rh,applyOperation:Rl,applyPatch:x_,applyReducer:S_e,deepClone:__e,getValueByPointer:w0,validate:I9,validator:_0},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var kC=new WeakMap,E_e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),x_e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function O_e(e){return kC.get(e)}function P_e(e,t){return e.observers.get(t)}function C_e(e,t){e.observers.delete(t.callback)}function I_e(e,t){t.unobserve()}function k_e(e,t){var n=[],r,i=O_e(e);if(!i)i=new E_e(e),kC.set(e,i);else{var o=P_e(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=ei(e),t){r.callback=t,r.next=null;var s=function(){xE(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){xE(r),clearTimeout(r.next),C_e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new x_e(t,r)),r}function xE(e,t){t===void 0&&(t=!1);var n=kC.get(e.object);TC(n.value,e.object,e.patches,"",t),e.patches.length&&x_(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function TC(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=SE(t),s=SE(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(bE(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?TC(c,f,n,r+"/"+sl(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+sl(u),value:ei(c)}),n.push({op:"replace",path:r+"/"+sl(u),value:ei(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+sl(u),value:ei(c)}),n.push({op:"remove",path:r+"/"+sl(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!bE(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+sl(u),value:ei(t[u])})}}}function k9(e,t,n){n===void 0&&(n=!1);var r=[];return TC(e,t,r,"",n),r}const T_e=Object.freeze(Object.defineProperty({__proto__:null,compare:k9,generate:xE,observe:k_e,unobserve:I_e},Symbol.toStringTag,{value:"Module"}));Object.assign({},$_e,T_e,{JsonPatchError:C9,deepClone:ei,escapePathComponent:sl,unescapePathComponent:P9});var Qu=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(Qu||{});function Ug(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],o=T9(i,e,t);o.shift();const s=o.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=Ug(i,t);return x_(a,ei(s),!0,!1).newDocument}function A_e(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function AC({registry:e,initialState:t}){let n=!1;const r=$9(),i=O9(t);function o(s){return i.backend.nodes[s]}return r.listen(Qu.TRAVERSAL_START,()=>{n=!0}),r.listen(Qu.TRAVERSAL_END,()=>{n=!1}),{registry:e,get isTraversing(){return n},getState(s=i.current){return Ug(s,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:s,state:a,sideEffects:l,eventType:u,onlySideEffects:c=!1}){let f=null,d=null;const h=Ug(this.current,this.graph.backend.nodes);if(c)d={type:"checkpoint",val:a};else{const p=k9(h,a);if(A_e(a,p)==="checkpoint")d={type:"checkpoint",val:a};else{const g=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;d={type:"patch",val:p,checkpointRef:g}}}if(!d)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(f=x9({label:s,state:d,parent:this.current,sideEffects:l,eventType:u}),!f)throw new Error("State Node creation failed!");i.update(i.addNode(f))},async apply(s,a){const l=e.get(a.type),u=Ug(this.current,this.graph.backend.nodes);if(l.config.hasSideEffects){const{do:c=a,undo:f}=l.func(a.payload);this.record({label:s,state:u,sideEffects:{do:[c],undo:[f]},eventType:l.config.eventType})}else{const c=l.func(u,a.payload);this.record({label:s,state:c,sideEffects:{do:[],undo:[]},eventType:l.config.eventType})}},async to(s){r.fire(Qu.TRAVERSAL_START);const a=T9(i.current,i.backend.nodes[s],i.backend.nodes),l=[];for(let u=0;u<a.length-1;++u){const c=o(a[u]),f=o(a[u+1]);R_e(c,f)?Hi(c)&&l.push(...c.sideEffects.undo):Hi(f)&&l.push(...f.sideEffects.do)}for(const u of l){const c=e.get(u.type).func;await c(u.payload)}i.update(i.changeCurrent(s)),r.fire(Qu.TRAVERSAL_END)},undo(){const{current:s}=i;return Hi(s)?this.to(s.parent):Promise.resolve(console.warn("Already at root!"))},redo(s="latest"){const{current:a}=i;return a.children.length>0?this.to(a.children[s==="oldest"?0:a.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(s,a=!1){return i.currentChange(s,{skipOnNew:a})},done(){console.log("Setup later for URL sharing.")},tree(){return A9(i.root,i.backend.nodes)},on(s,a){r.listen(s,a)},export(){return JSON.stringify(i.backend)},import(s){const a=JSON.parse(s),l=a.current;a.current=a.root,i.update(i.load(a)),this.to(l)}}}function N_e(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let o=i.level-r.level;for(;Hi(i)&&o!==0;)i=n[i.parent],o-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Hi(r)&&(r=n[r.parent]),Hi(i)&&(i=n[i.parent]);return r.id}function T9(e,t,n){const r=N_e(e,t,n),i=n[r],o=[],s=[];let[a,l]=[e,t];for(;a.id!==i.id;)o.push(a),Hi(a)&&(a=n[a.parent]);for(o.push(a);l.id!==i.id;)s.push(l),Hi(l)&&(l=n[l.parent]);const u=s.reverse();return[...o,...u].map(c=>c.id)}function R_e(e,t){if(Hi(e)&&e.parent===t.id)return!0;if(Hi(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function A9(e,t){return{...e,children:e.children.map(n=>A9(t[n],t)),name:`${e.label}`}}function vn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=U_e[e],o=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ql(e){return!!e&&!!e[bi]}function Ta(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===H_e}(e)||Array.isArray(e)||!!e[Yd]||!!(!((t=e.constructor)===null||t===void 0)&&t[Yd])||O_(e)||P_(e))}function Fc(e,t,n){n===void 0&&(n=!1),Aa(e)===0?(n?Object.keys:jC)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Aa(e){var t=e[bi];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:O_(e)?2:P_(e)?3:0}function Dh(e,t){return Aa(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Hg(e,t){return Aa(e)===2?e.get(t):e[t]}function N9(e,t,n){var r=Aa(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function D_e(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function O_(e){return V_e&&e instanceof Map}function P_(e){return B_e&&e instanceof Set}function al(e){return e.o||e.t}function NC(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=q_e(e);delete t[bi];for(var n=jC(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function RC(e,t){return t===void 0&&(t=!1),DC(e)||Ql(e)||!Ta(e)||(Aa(e)>1&&(e.set=e.add=e.clear=e.delete=M_e),Object.freeze(e),t&&Fc(e,function(n,r){return RC(r,!0)},!0)),e}function M_e(){vn(2)}function DC(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Fo(e){var t=IE[e];return t||vn(18,e),t}function L_e(e,t){IE[e]||(IE[e]=t)}function X2(){return{}.NODE_ENV==="production"||Vc||vn(0),Vc}function Q1(e,t){t&&(Fo("Patches"),e.u=[],e.s=[],e.v=t)}function b0(e){OE(e),e.p.forEach(j_e),e.p=null}function OE(e){e===Vc&&(Vc=e.l)}function J2(e){return Vc={p:[],l:Vc,h:e,m:!0,_:0}}function j_e(e){var t=e[bi];t.i===0||t.i===1?t.j():t.O=!0}function X1(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Fo("ES5").S(t,e,r),r?(n[bi].P&&(b0(t),vn(4)),Ta(e)&&(e=S0(t,e),t.l||$0(t,e)),t.u&&Fo("Patches").M(n[bi].t,e,t.u,t.s)):e=S0(t,n,[]),b0(t),t.u&&t.v(t.u,t.s),e!==LC?e:void 0}function S0(e,t,n){if(DC(t))return t;var r=t[bi];if(!r)return Fc(t,function(o,s){return Z2(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return $0(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=NC(r.k):r.o;Fc(r.i===3?new Set(i):i,function(o,s){return Z2(e,r,i,o,s,n)}),$0(e,i,!1),n&&e.u&&Fo("Patches").R(r,n,e.u,e.s)}return r.o}function Z2(e,t,n,r,i,o){if({}.NODE_ENV!=="production"&&i===n&&vn(5),Ql(i)){var s=S0(e,i,o&&t&&t.i!==3&&!Dh(t.D,r)?o.concat(r):void 0);if(N9(n,r,s),!Ql(s))return;e.m=!1}if(Ta(i)&&!DC(i)){if(!e.h.F&&e._<1)return;S0(e,i),t&&t.A.l||$0(e,i)}}function $0(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&RC(t,n)}function J1(e,t){var n=e[bi];return(n?al(n):e)[t]}function eM(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function PE(e){e.P||(e.P=!0,e.l&&PE(e.l))}function Z1(e){e.o||(e.o=NC(e.t))}function CE(e,t,n){var r=O_(t)?Fo("MapSet").N(t,n):P_(t)?Fo("MapSet").T(t,n):e.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:X2(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=kE;s&&(l=[a],u=wd);var c=Proxy.revocable(l,u),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(t,n):Fo("ES5").J(t,n);return(n?n.A:X2()).p.push(r),r}function z_e(e){return Ql(e)||vn(22,e),function t(n){if(!Ta(n))return n;var r,i=n[bi],o=Aa(n);if(i){if(!i.P&&(i.i<4||!Fo("ES5").K(i)))return i.t;i.I=!0,r=tM(n,o),i.I=!1}else r=tM(n,o);return Fc(r,function(s,a){i&&Hg(i.t,s)===a||N9(r,s,t(a))}),o===3?new Set(r):r}(e)}function tM(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return NC(e)}function F_e(){function e(r){if(!Ta(r))return r;if(Array.isArray(r))return r.map(e);if(O_(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(P_(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return Dh(r,Yd)&&(i[Yd]=r[Yd]),i}function t(r){return Ql(r)?e(r):r}var n="add";L_e("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,l=r,u=0;u<s.length-1;u++){var c=Aa(l),f=""+s[u];c!==0&&c!==1||f!=="__proto__"&&f!=="constructor"||vn(24),typeof l=="function"&&f==="prototype"&&vn(24),typeof(l=Hg(l,f))!="object"&&vn(15,s.join("/"))}var d=Aa(l),h=e(o.value),p=s[s.length-1];switch(a){case"replace":switch(d){case 2:return l.set(p,h);case 3:vn(16);default:return l[p]=h}case n:switch(d){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(d){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(o.value);default:return delete l[p]}default:vn(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return function(a,l,u,c){var f=a.t,d=a.o;Fc(a.D,function(h,p){var g=Hg(f,h),v=Hg(d,h),m=p?Dh(f,h)?"replace":n:"remove";if(g!==v||m!=="replace"){var y=l.concat(h);u.push(m==="remove"?{op:m,path:y}:{op:m,path:y,value:v}),c.push(m===n?{op:"remove",path:y}:m==="remove"?{op:n,path:y,value:t(g)}:{op:"replace",path:y,value:t(g)})}})}(r,i,o,s);case 5:case 1:return function(a,l,u,c){var f=a.t,d=a.D,h=a.o;if(h.length<f.length){var p=[h,f];f=p[0],h=p[1];var g=[c,u];u=g[0],c=g[1]}for(var v=0;v<f.length;v++)if(d[v]&&h[v]!==f[v]){var m=l.concat([v]);u.push({op:"replace",path:m,value:t(h[v])}),c.push({op:"replace",path:m,value:t(f[v])})}for(var y=f.length;y<h.length;y++){var w=l.concat([y]);u.push({op:n,path:w,value:t(h[y])})}f.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:f.length})}(r,i,o,s);case 3:return function(a,l,u,c){var f=a.t,d=a.o,h=0;f.forEach(function(p){if(!d.has(p)){var g=l.concat([h]);u.push({op:"remove",path:g,value:p}),c.unshift({op:n,path:g,value:p})}h++}),h=0,d.forEach(function(p){if(!f.has(p)){var g=l.concat([h]);u.push({op:n,path:g,value:p}),c.unshift({op:"remove",path:g,value:p})}h++})}(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===LC?void 0:i}),s.push({op:"replace",path:[],value:r})}})}var nM,Vc,MC=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",V_e=typeof Map<"u",B_e=typeof Set<"u",rM=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",LC=MC?Symbol.for("immer-nothing"):((nM={})["immer-nothing"]=!0,nM),Yd=MC?Symbol.for("immer-draftable"):"__$immer_draftable",bi=MC?Symbol.for("immer-state"):"__$immer_state",U_e={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},H_e=""+Object.prototype.constructor,jC=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,q_e=Object.getOwnPropertyDescriptors||function(e){var t={};return jC(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},IE={},kE={get:function(e,t){if(t===bi)return e;var n=al(e);if(!Dh(n,t))return function(i,o,s){var a,l=eM(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Ta(r)?r:r===J1(e.t,t)?(Z1(e),e.o[t]=CE(e.A.h,r,e)):r},has:function(e,t){return t in al(e)},ownKeys:function(e){return Reflect.ownKeys(al(e))},set:function(e,t,n){var r=eM(al(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=J1(al(e),t),o=i==null?void 0:i[bi];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(D_e(n,i)&&(n!==void 0||Dh(e.t,t)))return!0;Z1(e),PE(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return J1(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Z1(e),PE(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=al(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){vn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){vn(12)}},wd={};Fc(kE,function(e,t){wd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),wd.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&vn(13),wd.set.call(this,e,t,void 0)},wd.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&vn(14),kE.set.call(this,e[0],t,n,e[0])};var W_e=function(){function e(n){var r=this;this.g=rM,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(g){var v=this;g===void 0&&(g=a);for(var m=arguments.length,y=Array(m>1?m-1:0),w=1;w<m;w++)y[w-1]=arguments[w];return l.produce(g,function(b){var $;return($=o).call.apply($,[v,b].concat(y))})}}var u;if(typeof o!="function"&&vn(6),s!==void 0&&typeof s!="function"&&vn(7),Ta(i)){var c=J2(r),f=CE(r,i,void 0),d=!0;try{u=o(f),d=!1}finally{d?b0(c):OE(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(g){return Q1(c,s),X1(g,c)},function(g){throw b0(c),g}):(Q1(c,s),X1(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===LC&&(u=void 0),r.F&&RC(u,!0),s){var h=[],p=[];Fo("Patches").M(i,u,h,p),s(h,p)}return u}vn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(f))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Ta(n)||vn(8),Ql(n)&&(n=z_e(n));var r=J2(this),i=CE(this,n,void 0);return i[bi].C=!0,OE(r),i},t.finishDraft=function(n,r){var i=n&&n[bi];({}).NODE_ENV!=="production"&&(i&&i.C||vn(9),i.I&&vn(10));var o=i.A;return Q1(o,r),X1(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!rM&&vn(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Fo("Patches").$;return Ql(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),Si=new W_e,K_e=Si.produce;Si.produceWithPatches.bind(Si);Si.setAutoFreeze.bind(Si);Si.setUseProxies.bind(Si);Si.applyPatches.bind(Si);Si.createDraft.bind(Si);Si.finishDraft.bind(Si);F_e();function G_e(e){return e.length===2?K_e(e):e}let zC=class R9{static create(){return new R9}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:o=t,eventType:s=t}=r||{};return this.registry.set(t,{func:G_e(n),config:{hasSideEffects:!i,label:typeof o=="string"?()=>o:o,eventType:s}}),Ui(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}};const Y_e=Object.freeze(Object.defineProperty({__proto__:null,ID:Dp,Registry:zC,TrrackEvents:Qu,createAction:Ui,createRootNode:E9,createStateNode:x9,initEventManager:$9,initializeProvenanceGraph:O9,initializeTrrack:AC,isRootNode:g_e,isStateNode:Hi},Symbol.toStringTag,{value:"Module"})),Q_e=Gx(Y_e);var FC={};(function(e){function t(a,l){for(var u in l)Object.defineProperty(a,u,{enumerable:!0,get:l[u]})}t(e,{changeCurrent:()=>o,getTrrackStore:()=>s});const n=Np,r={current:null},i=(0,n.createSlice)({name:"trrack",initialState:r,reducers:{changeCurrent:(a,l)=>({current:l.payload})}}),{changeCurrent:o}=i.actions;function s(a){return(0,n.configureStore)({reducer:i.reducer,preloadedState:a})}})(FC);(function(e){function t(m,y){for(var w in y)Object.defineProperty(m,w,{enumerable:!0,get:y[w]})}t(e,{trrackTraverseAction:()=>l,configureTrrackableStore:()=>v});const n=IC.default,r=Np,i=Q_e,o=CC,s=Rp,a=FC,l=(0,r.createAction)("traverse",function(y){return{payload:y}});function u(m){return m.type===l.type}function c(m){return function(y,w){return u(w)?m(w.payload,w):m(y,w)}}function f(m){return m.reduce((y,w)=>(0,o.isSliceTrrackable)(w)?n({},y,w[s.LABELS]):y,{})}function d(m){return m.reduce((y,w)=>(0,o.isSliceTrrackable)(w)?n({},y,w[s.DO_UNDO_ACTION_CREATORS]):y,{})}function h(m){return m.reduce((y,w)=>(0,o.isSliceTrrackable)(w)?n({},y,w[s.ACTION_NAME_TYPE_MAP]):y,{})}function p(m){return m.reduce((y,w)=>{if((0,o.isSliceTrrackable)(w)){const b={};return w[s.ASYNC_THUNKS].forEach($=>{b[$.typePrefix]=$,b[$.fulfilled.type]=$}),n({},y,b)}return y},{})}function g(m){return m.reduce((y,w)=>(0,o.isSliceTrrackable)(w)?[...y,...Object.values(w.actions)]:y,[])}function v(m){const y=(0,r.createListenerMiddleware)(),w=m.reducer,b=(0,r.configureStore)(n({},m,{reducer:c(typeof w=="function"?w:(0,r.combineReducers)(w)),middleware(R){const J=m.middleware;return J?typeof J=="function"?[...J(R),y.middleware]:[...J,y.middleware]:R().prepend(y.middleware)}})),$=y.startListening,_=f(m.slices),E=d(m.slices),C=h(m.slices),N=p(m.slices),L=g(m.slices),M=(0,i.initializeTrrack)({initialState:b.getState(),registry:i.Registry.create()});let B="active";Object.values(N).forEach(R=>{M.registry.has(R.typePrefix)||M.registry.register(R.typePrefix,J=>(B="paused",b.dispatch(R(J)).then(()=>B="active")))}),m.slices.forEach(R=>{Object.values(R.actions).forEach(J=>{M.registry.register(J.type,re=>b.dispatch(re))})});const F=(0,a.getTrrackStore)({current:M.current.id});return M.currentChange(()=>{B="paused",b.dispatch(l(M.getState())),F.dispatch((0,a.changeCurrent)(M.current.id)),B="active"}),$({predicate(R){return M.isTraversing||B==="paused"?!1:(0,r.isAsyncThunkAction)(R)?(0,r.isFulfilled)(R):(0,r.isAnyOf)(L[0],...L)(R)},effect(R,J){const re=(0,r.isFulfilled)(R),ie=re?N[R.type].typePrefix:R.type,G=R.payload,Q=_[ie],q=Q(G),O=E[ie]({action:R,currentState:J.getState(),previousState:J.getOriginalState()});if(!s.NO_OP_ACTION.match(O.undo)){const z=O.undo,I=s.NO_OP_ACTION.match(O.do)?R:O.do;M.record({label:q,state:J.getState(),eventType:C[ie],sideEffects:{do:[{type:re?ie:I.type,payload:re?I.payload:I}],undo:[{type:z.type,payload:re?z.payload:z}]},onlySideEffects:!0})}else M.record({label:q,state:J.getState(),eventType:C[ie],sideEffects:{do:[],undo:[]}})}}),{store:b,trrack:M,trrackStore:F}}})(S9);var X_e={},D9={};(function(e){function t(o,s){for(var a in s)Object.defineProperty(o,a,{enumerable:!0,get:s[a]})}t(e,{isMiddlewareArray:()=>r,asyncDoUndoActionCreatorHelper:()=>i});const n=Np;function r(o){return Array.isArray(o)}function i(o,s){return(0,n.createAction)(o,function(l){return{payload:l}})(s)}})(D9);(function(e){const t=E_.default;t(S9,e),t(X_e,e),t(D9,e),t(FC,e)})(b9);(function(e){const t=E_.default;t(CC,e),t(b9,e)})(_E);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},J_e=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},VC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(M9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):J_e(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Z_e;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Z_e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ebe=function(e){const t=M9(e);return VC.encodeByteArray(t,!0)},L9=function(e){return ebe(e).replace(/\./g,"")},j9=function(e){try{return VC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tbe=()=>z9().__FIREBASE_DEFAULTS__,nbe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rbe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&j9(e[1]);return t&&JSON.parse(t)},C_=()=>{try{return tbe()||nbe()||rbe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ibe=e=>{var t,n;return(n=(t=C_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},obe=()=>{var e;return(e=C_())===null||e===void 0?void 0:e.config},F9=e=>{var t;return(t=C_())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sbe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function abe(){var e;const t=(e=C_())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lbe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ube(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cbe(){const e=Un();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function fbe(){return!abe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I_(){try{return typeof indexedDB=="object"}catch{return!1}}function dbe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hbe="FirebaseError";class Go extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=hbe,Object.setPrototypeOf(this,Go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gf.prototype.create)}}class gf{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?pbe(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Go(i,a,r)}}function pbe(e,t){return e.replace(mbe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const mbe=/\{\$([^}]+)}/g;function gbe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(iM(o)&&iM(s)){if(!Lh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iM(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ybe(e,t){const n=new vbe(e,t);return n.subscribe.bind(n)}class vbe{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wbe(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=eS),i.error===void 0&&(i.error=eS),i.complete===void 0&&(i.complete=eS);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wbe(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function eS(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _be=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bbe=1e3,Sbe=2,$be=4*60*60*1e3,Ebe=.5;function xbe(e,t=bbe,n=Sbe){const r=t*Math.pow(n,e),i=Math.round(Ebe*r*(Math.random()-.5)*2);return Math.min($be,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(e){return e&&e._delegate?e._delegate:e}class $s{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Obe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Mh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Cbe(t))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=ll){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ll){return this.instances.has(t)}getOptions(t=ll){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Pbe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ll){return this.component?this.component.multipleInstances?t:ll:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Pbe(e){return e===ll?void 0:e}function Cbe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ibe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Obe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Et||(Et={}));const kbe={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},Tbe=Et.INFO,Abe={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},Nbe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Abe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class k_{constructor(t){this.name=t,this._logLevel=Tbe,this._logHandler=Nbe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kbe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const Rbe=(e,t)=>t.some(n=>e instanceof n);let oM,sM;function Dbe(){return oM||(oM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mbe(){return sM||(sM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V9=new WeakMap,TE=new WeakMap,B9=new WeakMap,tS=new WeakMap,BC=new WeakMap;function Lbe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(_a(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&V9.set(n,e)}).catch(()=>{}),BC.set(t,e),t}function jbe(e){if(TE.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});TE.set(e,t)}let AE={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return TE.get(e);if(t==="objectStoreNames")return e.objectStoreNames||B9.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _a(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zbe(e){AE=e(AE)}function Fbe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(nS(this),t,...n);return B9.set(r,t.sort?t.sort():[t]),_a(r)}:Mbe().includes(e)?function(...t){return e.apply(nS(this),t),_a(V9.get(this))}:function(...t){return _a(e.apply(nS(this),t))}}function Vbe(e){return typeof e=="function"?Fbe(e):(e instanceof IDBTransaction&&jbe(e),Rbe(e,Dbe())?new Proxy(e,AE):e)}function _a(e){if(e instanceof IDBRequest)return Lbe(e);if(tS.has(e))return tS.get(e);const t=Vbe(e);return t!==e&&(tS.set(e,t),BC.set(t,e)),t}const nS=e=>BC.get(e);function Bbe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=_a(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_a(s.result),l.oldVersion,l.newVersion,_a(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Ube=["get","getKey","getAll","getAllKeys","count"],Hbe=["put","add","delete","clear"],rS=new Map;function aM(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rS.get(t))return rS.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Hbe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ube.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return rS.set(t,o),o}zbe(e=>({...e,get:(t,n,r)=>aM(t,n)||e.get(t,n,r),has:(t,n)=>!!aM(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qbe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wbe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Wbe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const NE="@firebase/app",lM="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new k_("@firebase/app"),Kbe="@firebase/app-compat",Gbe="@firebase/analytics-compat",Ybe="@firebase/analytics",Qbe="@firebase/app-check-compat",Xbe="@firebase/app-check",Jbe="@firebase/auth",Zbe="@firebase/auth-compat",e1e="@firebase/database",t1e="@firebase/database-compat",n1e="@firebase/functions",r1e="@firebase/functions-compat",i1e="@firebase/installations",o1e="@firebase/installations-compat",s1e="@firebase/messaging",a1e="@firebase/messaging-compat",l1e="@firebase/performance",u1e="@firebase/performance-compat",c1e="@firebase/remote-config",f1e="@firebase/remote-config-compat",d1e="@firebase/storage",h1e="@firebase/storage-compat",p1e="@firebase/firestore",m1e="@firebase/firestore-compat",g1e="firebase",y1e="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="[DEFAULT]",v1e={[NE]:"fire-core",[Kbe]:"fire-core-compat",[Ybe]:"fire-analytics",[Gbe]:"fire-analytics-compat",[Xbe]:"fire-app-check",[Qbe]:"fire-app-check-compat",[Jbe]:"fire-auth",[Zbe]:"fire-auth-compat",[e1e]:"fire-rtdb",[t1e]:"fire-rtdb-compat",[n1e]:"fire-fn",[r1e]:"fire-fn-compat",[i1e]:"fire-iid",[o1e]:"fire-iid-compat",[s1e]:"fire-fcm",[a1e]:"fire-fcm-compat",[l1e]:"fire-perf",[u1e]:"fire-perf-compat",[c1e]:"fire-rc",[f1e]:"fire-rc-compat",[d1e]:"fire-gcs",[h1e]:"fire-gcs-compat",[p1e]:"fire-fst",[m1e]:"fire-fst-compat","fire-js":"fire-js",[g1e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map,RE=new Map;function w1e(e,t){try{e.container.addComponent(t)}catch(n){Xl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Na(e){const t=e.name;if(RE.has(t))return Xl.debug(`There were multiple attempts to register component ${t}.`),!1;RE.set(t,e);for(const n of x0.values())w1e(n,e);return!0}function yf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _1e(e,t,n=E0){yf(e,t).clearInstance(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1e={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ba=new gf("app","Firebase",b1e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1e{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=y1e;function U9(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:E0,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ba.create("bad-app-name",{appName:String(i)});if(n||(n=obe()),!n)throw ba.create("no-options");const o=x0.get(i);if(o){if(Lh(n,o.options)&&Lh(r,o.config))return o;throw ba.create("duplicate-app",{appName:i})}const s=new Ibe(i);for(const l of RE.values())s.addComponent(l);const a=new S1e(n,r,s);return x0.set(i,a),a}function H9(e=E0){const t=x0.get(e);if(!t&&e===E0)return U9();if(!t)throw ba.create("no-app",{appName:e});return t}function ms(e,t,n){var r;let i=(r=v1e[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xl.warn(a.join(" "));return}Na(new $s(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1e="firebase-heartbeat-database",E1e=1,jh="firebase-heartbeat-store";let iS=null;function q9(){return iS||(iS=Bbe($1e,E1e,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(jh)}}}).catch(e=>{throw ba.create("idb-open",{originalErrorMessage:e.message})})),iS}async function x1e(e){try{return(await q9()).transaction(jh).objectStore(jh).get(W9(e))}catch(t){if(t instanceof Go)Xl.warn(t.message);else{const n=ba.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xl.warn(n.message)}}}async function uM(e,t){try{const r=(await q9()).transaction(jh,"readwrite");return await r.objectStore(jh).put(t,W9(e)),r.done}catch(n){if(n instanceof Go)Xl.warn(n.message);else{const r=ba.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xl.warn(r.message)}}}function W9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1e=1024,P1e=30*24*60*60*1e3;class C1e{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k1e(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cM();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=P1e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cM(),{heartbeatsToSend:n,unsentEntries:r}=I1e(this._heartbeatsCache.heartbeats),i=L9(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cM(){return new Date().toISOString().substring(0,10)}function I1e(e,t=O1e){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fM(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fM(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k1e{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return I_()?dbe().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await x1e(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uM(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uM(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function fM(e){return L9(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1e(e){Na(new $s("platform-logger",t=>new qbe(t),"PRIVATE")),Na(new $s("heartbeat",t=>new C1e(t),"PRIVATE")),ms(NE,lM,e),ms(NE,lM,"esm2017"),ms("fire-js","")}T1e("");var A1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne,UC=UC||{},nt=A1e||self;function O0(){}function T_(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Lp(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function N1e(e){return Object.prototype.hasOwnProperty.call(e,oS)&&e[oS]||(e[oS]=++R1e)}var oS="closure_uid_"+(1e9*Math.random()>>>0),R1e=0;function D1e(e,t,n){return e.call.apply(e.bind,arguments)}function M1e(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Or(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Or=D1e:Or=M1e,Or.apply(null,arguments)}function Xm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function pr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function Ua(){this.s=this.s,this.o=this.o}var L1e=0;Ua.prototype.s=!1;Ua.prototype.na=function(){!this.s&&(this.s=!0,this.M(),L1e!=0)&&N1e(this)};Ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const K9=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function HC(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function dM(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(T_(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function Pr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var j1e=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{nt.addEventListener("test",O0,t),nt.removeEventListener("test",O0,t)}catch{}return e}();function P0(e){return/^[\s\xa0]*$/.test(e)}var hM=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function sS(e,t){return e<t?-1:e>t?1:0}function A_(){var e=nt.navigator;return e&&(e=e.userAgent)?e:""}function ko(e){return A_().indexOf(e)!=-1}function qC(e){return qC[" "](e),e}qC[" "]=O0;function z1e(e){var t=B1e;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var F1e=ko("Opera"),Bc=ko("Trident")||ko("MSIE"),G9=ko("Edge"),DE=G9||Bc,Y9=ko("Gecko")&&!(A_().toLowerCase().indexOf("webkit")!=-1&&!ko("Edge"))&&!(ko("Trident")||ko("MSIE"))&&!ko("Edge"),V1e=A_().toLowerCase().indexOf("webkit")!=-1&&!ko("Edge");function Q9(){var e=nt.document;return e?e.documentMode:void 0}var C0;e:{var aS="",lS=function(){var e=A_();if(Y9)return/rv:([^\);]+)(\)|;)/.exec(e);if(G9)return/Edge\/([\d\.]+)/.exec(e);if(Bc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(V1e)return/WebKit\/(\S+)/.exec(e);if(F1e)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(lS&&(aS=lS?lS[1]:""),Bc){var uS=Q9();if(uS!=null&&uS>parseFloat(aS)){C0=String(uS);break e}}C0=aS}var B1e={};function U1e(){return z1e(function(){let e=0;const t=hM(String(C0)).split("."),n=hM("9").split("."),r=Math.max(t.length,n.length);for(let s=0;e==0&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;e=sS(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||sS(i[2].length==0,o[2].length==0)||sS(i[2],o[2]),i=i[3],o=o[3]}while(e==0)}return 0<=e})}var ME;if(nt.document&&Bc){var pM=Q9();ME=pM||parseInt(C0,10)||void 0}else ME=void 0;var H1e=ME;function zh(e,t){if(Pr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Y9){e:{try{qC(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:q1e[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zh.X.h.call(this)}}pr(zh,Pr);var q1e={2:"touch",3:"pen",4:"mouse"};zh.prototype.h=function(){zh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jp="closure_listenable_"+(1e6*Math.random()|0),W1e=0;function K1e(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++W1e,this.ba=this.ea=!1}function N_(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function WC(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function X9(e){const t={};for(const n in e)t[n]=e[n];return t}const mM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J9(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<mM.length;o++)n=mM[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function R_(e){this.src=e,this.g={},this.h=0}R_.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=jE(e,t,r,i);return-1<s?(t=e[s],n||(t.ea=!1)):(t=new K1e(t,this.src,o,!!r,i),t.ea=n,e.push(t)),t};function LE(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=K9(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(N_(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function jE(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ba&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}var KC="closure_lm_"+(1e6*Math.random()|0),cS={};function Z9(e,t,n,r,i){if(r&&r.once)return tH(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Z9(e,t[o],n,r,i);return null}return n=QC(n),e&&e[jp]?e.N(t,n,Lp(r)?!!r.capture:!!r,i):eH(e,t,n,!1,r,i)}function eH(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Lp(i)?!!i.capture:!!i,a=YC(e);if(a||(e[KC]=a=new R_(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=G1e(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)j1e||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rH(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function G1e(){function e(n){return t.call(e.src,e.listener,n)}const t=Y1e;return e}function tH(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)tH(e,t[o],n,r,i);return null}return n=QC(n),e&&e[jp]?e.O(t,n,Lp(r)?!!r.capture:!!r,i):eH(e,t,n,!0,r,i)}function nH(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)nH(e,t[o],n,r,i);else r=Lp(r)?!!r.capture:!!r,n=QC(n),e&&e[jp]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=jE(o,n,r,i),-1<n&&(N_(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=YC(e))&&(t=e.g[t.toString()],e=-1,t&&(e=jE(t,n,r,i)),(n=-1<e?t[e]:null)&&GC(n))}function GC(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[jp])LE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rH(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=YC(t))?(LE(n,e),n.h==0&&(n.src=null,t[KC]=null)):N_(e)}}}function rH(e){return e in cS?cS[e]:cS[e]="on"+e}function Y1e(e,t){if(e.ba)e=!0;else{t=new zh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&GC(e),e=n.call(r,t)}return e}function YC(e){return e=e[KC],e instanceof R_?e:null}var fS="__closure_events_fn_"+(1e9*Math.random()>>>0);function QC(e){return typeof e=="function"?e:(e[fS]||(e[fS]=function(t){return e.handleEvent(t)}),e[fS])}function Jn(){Ua.call(this),this.i=new R_(this),this.P=this,this.I=null}pr(Jn,Ua);Jn.prototype[jp]=!0;Jn.prototype.removeEventListener=function(e,t,n,r){nH(this,e,t,n,r)};function dr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Pr(t,e);else if(t instanceof Pr)t.target=t.target||e;else{var i=t;t=new Pr(r,e),J9(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Jm(s,r,!0,t)&&i}if(s=t.g=e,i=Jm(s,r,!0,t)&&i,i=Jm(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Jm(s,r,!1,t)&&i}Jn.prototype.M=function(){if(Jn.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)N_(n[r]);delete e.g[t],e.h--}}this.I=null};Jn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Jn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Jm(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.ea&&LE(e.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var XC=nt.JSON.stringify;function Q1e(){var e=sH;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class X1e{constructor(){this.h=this.g=null}add(t,n){const r=iH.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var iH=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new J1e,e=>e.reset());class J1e{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Z1e(e){nt.setTimeout(()=>{throw e},0)}function oH(e,t){zE||eSe(),FE||(zE(),FE=!0),sH.add(e,t)}var zE;function eSe(){var e=nt.Promise.resolve(void 0);zE=function(){e.then(tSe)}}var FE=!1,sH=new X1e;function tSe(){for(var e;e=Q1e();){try{e.h.call(e.g)}catch(n){Z1e(n)}var t=iH;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}FE=!1}function D_(e,t){Jn.call(this),this.h=e||1,this.g=t||nt,this.j=Or(this.lb,this),this.l=Date.now()}pr(D_,Jn);Ne=D_.prototype;Ne.ca=!1;Ne.R=null;Ne.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),dr(this,"tick"),this.ca&&(JC(this),this.start()))}};Ne.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function JC(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}Ne.M=function(){D_.X.M.call(this),JC(this),delete this.g};function ZC(e,t,n){if(typeof e=="function")n&&(e=Or(e,n));else if(e&&typeof e.handleEvent=="function")e=Or(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:nt.setTimeout(e,t||0)}function aH(e){e.g=ZC(()=>{e.g=null,e.i&&(e.i=!1,aH(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class nSe extends Ua{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:aH(this)}M(){super.M(),this.g&&(nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fh(e){Ua.call(this),this.h=e,this.g={}}pr(Fh,Ua);var gM=[];function lH(e,t,n,r){Array.isArray(n)||(n&&(gM[0]=n.toString()),n=gM);for(var i=0;i<n.length;i++){var o=Z9(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function uH(e){WC(e.g,function(t,n){this.g.hasOwnProperty(n)&&GC(t)},e),e.g={}}Fh.prototype.M=function(){Fh.X.M.call(this),uH(this)};Fh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function M_(){this.g=!0}M_.prototype.Aa=function(){this.g=!1};function rSe(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function iSe(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function Xu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+sSe(e,n)+(r?" "+r:"")})}function oSe(e,t){e.info(function(){return"TIMEOUT: "+t})}M_.prototype.info=function(){};function sSe(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return XC(n)}catch{return t}}var gu={},yM=null;function L_(){return yM=yM||new Jn}gu.Pa="serverreachability";function cH(e){Pr.call(this,gu.Pa,e)}pr(cH,Pr);function Vh(e){const t=L_();dr(t,new cH(t))}gu.STAT_EVENT="statevent";function fH(e,t){Pr.call(this,gu.STAT_EVENT,e),this.stat=t}pr(fH,Pr);function Rr(e){const t=L_();dr(t,new fH(t,e))}gu.Qa="timingevent";function dH(e,t){Pr.call(this,gu.Qa,e),this.size=t}pr(dH,Pr);function zp(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return nt.setTimeout(function(){e()},t)}var j_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},hH={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function eI(){}eI.prototype.h=null;function vM(e){return e.h||(e.h=e.i())}function pH(){}var Fp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function tI(){Pr.call(this,"d")}pr(tI,Pr);function nI(){Pr.call(this,"c")}pr(nI,Pr);var VE;function z_(){}pr(z_,eI);z_.prototype.g=function(){return new XMLHttpRequest};z_.prototype.i=function(){return{}};VE=new z_;function Vp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Fh(this),this.O=aSe,e=DE?125:void 0,this.T=new D_(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new mH}function mH(){this.i=null,this.g="",this.h=!1}var aSe=45e3,BE={},I0={};Ne=Vp.prototype;Ne.setTimeout=function(e){this.O=e};function UE(e,t,n){e.K=1,e.v=V_(Es(t)),e.s=n,e.P=!0,gH(e,null)}function gH(e,t){e.F=Date.now(),Bp(e),e.A=Es(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),EH(n.i,"t",r),e.C=0,n=e.l.H,e.h=new mH,e.g=qH(e.l,n?t:null,!e.s),0<e.N&&(e.L=new nSe(Or(e.La,e,e.g),e.N)),lH(e.S,e.g,"readystatechange",e.ib),t=e.H?X9(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Vh(),rSe(e.j,e.u,e.A,e.m,e.U,e.s)}Ne.ib=function(e){e=e.target;const t=this.L;t&&os(e)==3?t.l():this.La(e)};Ne.La=function(e){try{if(e==this.g)e:{const c=os(this.g);var t=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||DE||this.g&&(this.h.h||this.g.fa()||SM(this.g)))){this.I||c!=4||t==7||(t==8||0>=f?Vh(3):Vh(2)),F_(this);var n=this.g.aa();this.Y=n;t:if(yH(this)){var r=SM(this.g);e="";var i=r.length,o=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xl(this),Qd(this);var s="";break t}this.h.i=new nt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=n==200,iSe(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P0(a)){var u=a;break t}}u=null}if(n=u)Xu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,HE(this,n);else{this.i=!1,this.o=3,Rr(12),xl(this),Qd(this);break e}}this.P?(vH(this,c,s),DE&&this.i&&c==3&&(lH(this.S,this.T,"tick",this.hb),this.T.start())):(Xu(this.j,this.m,s,null),HE(this,s)),c==4&&xl(this),this.i&&!this.I&&(c==4?VH(this.l,this):(this.i=!1,Bp(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),xl(this),Qd(this)}}}catch{}finally{}};function yH(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function vH(e,t,n){let r=!0,i;for(;!e.I&&e.C<n.length;)if(i=lSe(e,n),i==I0){t==4&&(e.o=4,Rr(14),r=!1),Xu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==BE){e.o=4,Rr(15),Xu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Xu(e.j,e.m,i,null),HE(e,i);yH(e)&&i!=I0&&i!=BE&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Rr(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),uI(t),t.K=!0,Rr(11))):(Xu(e.j,e.m,n,"[Invalid Chunked Response]"),xl(e),Qd(e))}Ne.hb=function(){if(this.g){var e=os(this.g),t=this.g.fa();this.C<t.length&&(F_(this),vH(this,e,t),this.i&&e!=4&&Bp(this))}};function lSe(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?I0:(n=Number(t.substring(n,r)),isNaN(n)?BE:(r+=1,r+n>t.length?I0:(t=t.substr(r,n),e.C=r+n,t)))}Ne.cancel=function(){this.I=!0,xl(this)};function Bp(e){e.V=Date.now()+e.O,wH(e,e.O)}function wH(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=zp(Or(e.gb,e),t)}function F_(e){e.B&&(nt.clearTimeout(e.B),e.B=null)}Ne.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(oSe(this.j,this.A),this.K!=2&&(Vh(),Rr(17)),xl(this),this.o=2,Qd(this)):wH(this,this.V-e)};function Qd(e){e.l.G==0||e.I||VH(e.l,e)}function xl(e){F_(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,JC(e.T),uH(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function HE(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||qE(n.h,e))){if(!e.J&&qE(n.h,e)&&n.G==3){try{var r=n.Fa.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)A0(n),H_(n);else break e;lI(n),Rr(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=zp(Or(n.cb,n),6e3));if(1>=PH(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ol(n,11)}else if((e.J||n.g==e)&&A0(n),!P0(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(rI(o,o.h),o.h=null))}if(r.D){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,sn(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var s=e;if(r.sa=HH(r,r.H?r.ka:null,r.V),s.J){CH(r.h,s);var a=s,l=r.J;l&&a.setTimeout(l),a.B&&(F_(a),Bp(a)),r.g=s}else zH(r);0<n.i.length&&q_(n)}else u[0]!="stop"&&u[0]!="close"||Ol(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ol(n,7):aI(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Vh(4)}catch{}}function uSe(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(T_(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function cSe(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(T_(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function _H(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(T_(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=cSe(e),r=uSe(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var bH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fSe(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Dl(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Dl){this.h=t!==void 0?t:e.h,k0(this,e.j),this.s=e.s,this.g=e.g,T0(this,e.m),this.l=e.l,t=e.i;var n=new Bh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),wM(this,n),this.o=e.o}else e&&(n=String(e).match(bH))?(this.h=!!t,k0(this,n[1]||"",!0),this.s=_d(n[2]||""),this.g=_d(n[3]||"",!0),T0(this,n[4]),this.l=_d(n[5]||"",!0),wM(this,n[6]||"",!0),this.o=_d(n[7]||"")):(this.h=!!t,this.i=new Bh(null,this.h))}Dl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bd(t,_M,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(bd(t,_M,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(bd(n,n.charAt(0)=="/"?pSe:hSe,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bd(n,gSe)),e.join("")};function Es(e){return new Dl(e)}function k0(e,t,n){e.j=n?_d(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function T0(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wM(e,t,n){t instanceof Bh?(e.i=t,ySe(e.i,e.h)):(n||(t=bd(t,mSe)),e.i=new Bh(t,e.h))}function sn(e,t,n){e.i.set(t,n)}function V_(e){return sn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _d(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bd(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,dSe),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dSe(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var _M=/[#\/\?@]/g,hSe=/[#\?:]/g,pSe=/[#\?]/g,mSe=/[#\?@]/g,gSe=/#/g;function Bh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ha(e){e.g||(e.g=new Map,e.h=0,e.i&&fSe(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ne=Bh.prototype;Ne.add=function(e,t){Ha(this),this.i=null,e=wf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function SH(e,t){Ha(e),t=wf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $H(e,t){return Ha(e),t=wf(e,t),e.g.has(t)}Ne.forEach=function(e,t){Ha(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ne.oa=function(){Ha(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};Ne.W=function(e){Ha(this);let t=[];if(typeof e=="string")$H(this,e)&&(t=t.concat(this.g.get(wf(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ne.set=function(e,t){return Ha(this),this.i=null,e=wf(this,e),$H(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ne.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function EH(e,t,n){SH(e,t),0<n.length&&(e.i=null,e.g.set(wf(e,t),HC(n)),e.h+=n.length)}Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function wf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ySe(e,t){t&&!e.j&&(Ha(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SH(this,r),EH(this,i,n))},e)),e.j=t}var vSe=class{constructor(t,n){this.h=t,this.g=n}};function xH(e){this.l=e||wSe,nt.PerformanceNavigationTiming?(e=nt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(nt.g&&nt.g.Ga&&nt.g.Ga()&&nt.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wSe=10;function OH(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function PH(e){return e.h?1:e.g?e.g.size:0}function qE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function rI(e,t){e.g?e.g.add(t):e.h=t}function CH(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}xH.prototype.cancel=function(){if(this.i=IH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function IH(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return HC(e.i)}function iI(){}iI.prototype.stringify=function(e){return nt.JSON.stringify(e,void 0)};iI.prototype.parse=function(e){return nt.JSON.parse(e,void 0)};function _Se(){this.g=new iI}function bSe(e,t,n){const r=n||"";try{_H(e,function(i,o){let s=i;Lp(i)&&(s=XC(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function SSe(e,t){const n=new M_;if(nt.Image){const r=new Image;r.onload=Xm(Zm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xm(Zm,n,r,"TestLoadImage: error",!1,t),r.onabort=Xm(Zm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xm(Zm,n,r,"TestLoadImage: timeout",!1,t),nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Zm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Up(e){this.l=e.ac||null,this.j=e.jb||!1}pr(Up,eI);Up.prototype.g=function(){return new B_(this.l,this.j)};Up.prototype.i=function(e){return function(){return e}}({});function B_(e,t){Jn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=oI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pr(B_,Jn);var oI=0;Ne=B_.prototype;Ne.open=function(e,t){if(this.readyState!=oI)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Uh(this)};Ne.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||nt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hp(this)),this.readyState=oI};Ne.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Uh(this)),this.g&&(this.readyState=3,Uh(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof nt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kH(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function kH(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}Ne.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Hp(this):Uh(this),this.readyState==3&&kH(this)}};Ne.Va=function(e){this.g&&(this.response=this.responseText=e,Hp(this))};Ne.Ua=function(e){this.g&&(this.response=e,Hp(this))};Ne.ga=function(){this.g&&Hp(this)};function Hp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Uh(e)}Ne.setRequestHeader=function(e,t){this.v.append(e,t)};Ne.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ne.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Uh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(B_.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var $Se=nt.JSON.parse;function _n(e){Jn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TH,this.K=this.L=!1}pr(_n,Jn);var TH="",ESe=/^https?$/i,xSe=["POST","PUT"];Ne=_n.prototype;Ne.Ka=function(e){this.L=e};Ne.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():VE.g(),this.C=this.u?vM(this.u):vM(VE),this.g.onreadystatechange=Or(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){bM(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=nt.FormData&&e instanceof nt.FormData,!(0<=K9(xSe,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RH(this),0<this.B&&((this.K=OSe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.qa,this)):this.A=ZC(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){bM(this,o)}};function OSe(e){return Bc&&U1e()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ne.qa=function(){typeof UC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dr(this,"timeout"),this.abort(8))};function bM(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,AH(e),U_(e)}function AH(e){e.D||(e.D=!0,dr(e,"complete"),dr(e,"error"))}Ne.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,dr(this,"complete"),dr(this,"abort"),U_(this))};Ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),U_(this,!0)),_n.X.M.call(this)};Ne.Ha=function(){this.s||(this.F||this.v||this.l?NH(this):this.fb())};Ne.fb=function(){NH(this)};function NH(e){if(e.h&&typeof UC<"u"&&(!e.C[1]||os(e)!=4||e.aa()!=2)){if(e.v&&os(e)==4)ZC(e.Ha,0,e);else if(dr(e,"readystatechange"),os(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.H).match(bH)[1]||null;if(!i&&nt.self&&nt.self.location){var o=nt.self.location.protocol;i=o.substr(0,o.length-1)}r=!ESe.test(i?i.toLowerCase():"")}n=r}if(n)dr(e,"complete"),dr(e,"success");else{e.m=6;try{var s=2<os(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.aa()+"]",AH(e)}}finally{U_(e)}}}}function U_(e,t){if(e.g){RH(e);const n=e.g,r=e.C[0]?O0:null;e.g=null,e.C=null,t||dr(e,"ready");try{n.onreadystatechange=r}catch{}}}function RH(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(nt.clearTimeout(e.A),e.A=null)}function os(e){return e.g?e.g.readyState:0}Ne.aa=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}};Ne.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ne.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),$Se(t)}};function SM(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case TH:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Ne.Ea=function(){return this.m};Ne.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DH(e){let t="";return WC(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function sI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DH(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):sn(e,t,n))}function ed(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function MH(e){this.Ca=0,this.i=[],this.j=new M_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ed("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ed("baseRetryDelayMs",5e3,e),this.bb=ed("retryDelaySeedMs",1e4,e),this.$a=ed("forwardChannelMaxRetries",2,e),this.ta=ed("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new xH(e&&e.concurrentRequestLimit),this.Fa=new _Se,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}Ne=MH.prototype;Ne.ma=8;Ne.G=1;function aI(e){if(LH(e),e.G==3){var t=e.U++,n=Es(e.F);sn(n,"SID",e.I),sn(n,"RID",t),sn(n,"TYPE","terminate"),qp(e,n),t=new Vp(e,e.j,t,void 0),t.K=2,t.v=V_(Es(n)),n=!1,nt.navigator&&nt.navigator.sendBeacon&&(n=nt.navigator.sendBeacon(t.v.toString(),"")),!n&&nt.Image&&(new Image().src=t.v,n=!0),n||(t.g=qH(t.l,null),t.g.da(t.v)),t.F=Date.now(),Bp(t)}UH(e)}function H_(e){e.g&&(uI(e),e.g.cancel(),e.g=null)}function LH(e){H_(e),e.u&&(nt.clearTimeout(e.u),e.u=null),A0(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&nt.clearTimeout(e.m),e.m=null)}function q_(e){OH(e.h)||e.m||(e.m=!0,oH(e.Ja,e),e.C=0)}function PSe(e,t){return PH(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=zp(Or(e.Ja,e,t),BH(e,e.C)),e.C++,!0)}Ne.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Vp(this,this.j,e,void 0);let o=this.s;if(this.S&&(o?(o=X9(o),J9(o,this.S)):o=this.S),this.o!==null||this.N||(i.H=o,o=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=jH(this,i,t),n=Es(this.F),sn(n,"RID",e),sn(n,"CVER",22),this.D&&sn(n,"X-HTTP-Session-Id",this.D),qp(this,n),o&&(this.N?t="headers="+encodeURIComponent(String(DH(o)))+"&"+t:this.o&&sI(n,this.o,o)),rI(this.h,i),this.Ya&&sn(n,"TYPE","init"),this.O?(sn(n,"$req",t),sn(n,"SID","null"),i.Z=!0,UE(i,n,null)):UE(i,n,t),this.G=2}}else this.G==3&&(e?$M(this,e):this.i.length==0||OH(this.h)||$M(this))};function $M(e,t){var n;t?n=t.m:n=e.U++;const r=Es(e.F);sn(r,"SID",e.I),sn(r,"RID",n),sn(r,"AID",e.T),qp(e,r),e.o&&e.s&&sI(r,e.o,e.s),n=new Vp(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=jH(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),rI(e.h,n),UE(n,r,t)}function qp(e,t){e.ia&&WC(e.ia,function(n,r){sn(t,r,n)}),e.l&&_H({},function(n,r){sn(t,r,n)})}function jH(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Or(e.l.Ra,e.l,e):null;e:{var i=e.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=o,0>u)o=Math.max(0,i[l].h-100),a=!1;else try{bSe(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function zH(e){e.g||e.u||(e.Z=1,oH(e.Ia,e),e.A=0)}function lI(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=zp(Or(e.Ia,e),BH(e,e.A)),e.A++,!0)}Ne.Ia=function(){if(this.u=null,FH(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=zp(Or(this.eb,this),e)}};Ne.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Rr(10),H_(this),FH(this))};function uI(e){e.B!=null&&(nt.clearTimeout(e.B),e.B=null)}function FH(e){e.g=new Vp(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Es(e.sa);sn(t,"RID","rpc"),sn(t,"SID",e.I),sn(t,"CI",e.L?"0":"1"),sn(t,"AID",e.T),sn(t,"TYPE","xmlhttp"),qp(e,t),e.o&&e.s&&sI(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=V_(Es(t)),n.s=null,n.P=!0,gH(n,e)}Ne.cb=function(){this.v!=null&&(this.v=null,H_(this),lI(this),Rr(19))};function A0(e){e.v!=null&&(nt.clearTimeout(e.v),e.v=null)}function VH(e,t){var n=null;if(e.g==t){A0(e),uI(e),e.g=null;var r=2}else if(qE(e.h,t))n=t.D,CH(e.h,t),r=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=L_(),dr(r,new dH(r,n)),q_(e)}else zH(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(r==1&&PSe(e,t)||r==2&&lI(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ol(e,5);break;case 4:Ol(e,10);break;case 3:Ol(e,6);break;default:Ol(e,2)}}}function BH(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ol(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var r=Or(e.kb,e);n||(n=new Dl("//www.google.com/images/cleardot.gif"),nt.location&&nt.location.protocol=="http"||k0(n,"https"),V_(n)),SSe(n.toString(),r)}else Rr(2);e.G=0,e.l&&e.l.va(t),UH(e),LH(e)}Ne.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Rr(2)):(this.j.info("Failed to ping google.com"),Rr(1))};function UH(e){if(e.G=0,e.la=[],e.l){const t=IH(e.h);(t.length!=0||e.i.length!=0)&&(dM(e.la,t),dM(e.la,e.i),e.h.i.length=0,HC(e.i),e.i.length=0),e.l.ua()}}function HH(e,t,n){var r=n instanceof Dl?Es(n):new Dl(n,void 0);if(r.g!="")t&&(r.g=t+"."+r.g),T0(r,r.m);else{var i=nt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Dl(null,void 0);r&&k0(o,r),t&&(o.g=t),i&&T0(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.za,n&&t&&sn(r,n,t),sn(r,"VER",e.ma),qp(e,r),r}function qH(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new _n(new Up({jb:!0})):new _n(e.ra),t.Ka(e.H),t}function WH(){}Ne=WH.prototype;Ne.xa=function(){};Ne.wa=function(){};Ne.va=function(){};Ne.ua=function(){};Ne.Ra=function(){};function N0(){if(Bc&&!(10<=Number(H1e)))throw Error("Environmental error: no available transport.")}N0.prototype.g=function(e,t){return new $i(e,t)};function $i(e,t){Jn.call(this),this.g=new MH(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!P0(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!P0(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _f(this)}pr($i,Jn);$i.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Rr(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=HH(e,null,e.V),q_(e)};$i.prototype.close=function(){aI(this.g)};$i.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=XC(e),e=n);t.i.push(new vSe(t.ab++,e)),t.G==3&&q_(t)};$i.prototype.M=function(){this.g.l=null,delete this.j,aI(this.g),delete this.g,$i.X.M.call(this)};function KH(e){tI.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}pr(KH,tI);function GH(){nI.call(this),this.status=1}pr(GH,nI);function _f(e){this.g=e}pr(_f,WH);_f.prototype.xa=function(){dr(this.g,"a")};_f.prototype.wa=function(e){dr(this.g,new KH(e))};_f.prototype.va=function(e){dr(this.g,new GH)};_f.prototype.ua=function(){dr(this.g,"b")};N0.prototype.createWebChannel=N0.prototype.g;$i.prototype.send=$i.prototype.u;$i.prototype.open=$i.prototype.m;$i.prototype.close=$i.prototype.close;j_.NO_ERROR=0;j_.TIMEOUT=8;j_.HTTP_ERROR=6;hH.COMPLETE="complete";pH.EventType=Fp;Fp.OPEN="a";Fp.CLOSE="b";Fp.ERROR="c";Fp.MESSAGE="d";Jn.prototype.listen=Jn.prototype.N;_n.prototype.listenOnce=_n.prototype.O;_n.prototype.getLastError=_n.prototype.Oa;_n.prototype.getLastErrorCode=_n.prototype.Ea;_n.prototype.getStatus=_n.prototype.aa;_n.prototype.getResponseJson=_n.prototype.Sa;_n.prototype.getResponseText=_n.prototype.fa;_n.prototype.send=_n.prototype.da;_n.prototype.setWithCredentials=_n.prototype.Ka;var CSe=function(){return new N0},ISe=function(){return L_()},dS=j_,kSe=hH,TSe=gu,EM={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ASe=Up,eg=pH,NSe=_n;const xM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $r=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new k_("@firebase/firestore");function WE(){return Jl.logLevel}function fe(e,...t){if(Jl.logLevel<=Et.DEBUG){const n=t.map(cI);Jl.debug(`Firestore (${bf}): ${e}`,...n)}}function Cn(e,...t){if(Jl.logLevel<=Et.ERROR){const n=t.map(cI);Jl.error(`Firestore (${bf}): ${e}`,...n)}}function KE(e,...t){if(Jl.logLevel<=Et.WARN){const n=t.map(cI);Jl.warn(`Firestore (${bf}): ${e}`,...n)}}function cI(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e="Unexpected state"){const t=`FIRESTORE (${bf}) INTERNAL ASSERTION FAILED: `+e;throw Cn(t),new Error(t)}function je(e,t){e||Ie()}function Te(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Go{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RSe{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class DSe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($r.UNAUTHENTICATED))}shutdown(){}}class MSe{constructor(t){this.t=t,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mo,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mo)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new RSe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return je(t===null||typeof t=="string"),new $r(t)}}class LSe{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jSe{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new LSe(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zSe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FSe{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(je(typeof n.token=="string"),this.T=n.token,new zSe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VSe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=VSe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function ot(e,t){return e<t?-1:e>t?1:0}function Uc(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}function QH(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return hn.fromMillis(Date.now())}static fromDate(t){return hn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new hn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ot(this.nanoseconds,t.nanoseconds):ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ve(t)}static min(){return new Ve(new hn(0,0))}static max(){return new Ve(new hn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n,r){n===void 0?n=0:n>t.length&&Ie(),r===void 0?r=t.length-n:r>t.length-n&&Ie(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Hh.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Hh?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Nt extends Hh{construct(t,n,r){return new Nt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const BSe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Hh{construct(t,n,r){return new Dn(t,n,r)}static isValidIdentifier(t){return BSe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dn(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new we(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new we(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new we(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.path=t}static fromPath(t){return new Se(Nt.fromString(t))}static fromName(t){return new Se(Nt.fromString(t).popFirst(5))}static empty(){return new Se(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Nt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Nt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Se(new Nt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(t,n,r,i){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}}function GE(e){return e.fields.find(t=>t.kind===2)}function ul(e){return e.fields.filter(t=>t.kind!==2)}XH.UNKNOWN_ID=-1;class USe{constructor(t,n){this.fieldPath=t,this.kind=n}}class R0{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new R0(0,Ei.min())}}function JH(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new hn(n+1,0):new hn(n,r));return new Ei(i,Se.empty(),t)}function ZH(e){return new Ei(e.readTime,e.key,-1)}class Ei{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(Ve.min(),Se.empty(),-1)}static max(){return new Ei(Ve.max(),Se.empty(),-1)}}function fI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Se.comparator(e.documentKey,t.documentKey),n!==0?n:ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(e){if(e.code!==ae.FAILED_PRECONDITION||e.message!==eq)throw e;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ee.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ee.reject(n)}static resolve(t){return new ee((n,r)=>{n(t)})}static reject(t){return new ee((n,r)=>{r(t)})}static waitFor(t){return new ee((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=ee.resolve(!1);for(const r of t)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new ee((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new ee((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.R=new mo,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{n.error?this.R.reject(new Xd(t,n.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=dI(r.target.error);this.R.reject(new Xd(t,i))}}static open(t,n,r,i){try{return new W_(n,t.transaction(i,r))}catch(o){throw new Xd(n,o)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new qSe(n)}}class co{constructor(t,n,r){this.name=t,this.version=n,this.V=r,co.S(Un())===12.2&&Cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return fe("SimpleDb","Removing database:",t),gl(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!I_())return!1;if(co.C())return!0;const t=Un(),n=co.S(t),r=0<n&&n<10,i=co.N(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}static C(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.k)==="YES"}static O(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(t){return this.db||(fe("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Xd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new we(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new we(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Xd(t,s))},i.onupgradeneeded=o=>{fe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.V.M(s,i.transaction,o.oldVersion,this.version).next(()=>{fe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(t){this.F=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.$(t);const a=W_.open(this.db,t,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),ee.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(fe("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class HSe{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return gl(this.L.delete())}}class Xd extends we{constructor(t,n){super(ae.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Wa(e){return e.name==="IndexedDbTransactionError"}class qSe{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(fe("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),gl(r)}add(t){return fe("SimpleDb","ADD",this.store.name,t,t),gl(this.store.add(t))}get(t){return gl(this.store.get(t)).next(n=>(n===void 0&&(n=null),fe("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return fe("SimpleDb","DELETE",this.store.name,t),gl(this.store.delete(t))}count(){return fe("SimpleDb","COUNT",this.store.name),gl(this.store.count())}j(t,n){const r=this.options(t,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),o=[];return this.W(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new ee((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}H(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new ee((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}J(t,n){fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}Z(t,n){let r;n?r=t:(r={},n=t);const i=this.cursor(r);return this.W(i,n)}X(t){const n=this.cursor({});return new ee((r,i)=>{n.onerror=o=>{const s=dI(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(t,n){const r=[];return new ee((i,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new HSe(a),u=n(a.primaryKey,a.value,l);if(u instanceof ee){const c=u.catch(f=>(l.done(),ee.reject(f)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>ee.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function gl(e){return new ee((t,n)=>{e.onsuccess=r=>{const i=r.target.result;t(i)},e.onerror=r=>{const i=dI(r.target.error);n(i)}})}let OM=!1;function dI(e){const t=co.S(Un());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OM||(OM=!0,setTimeout(()=>{throw r},0)),r}}return e}class WSe{constructor(t,n){this.asyncQueue=t,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(t){fe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{fe("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){Wa(n)?fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await qa(n)}await this.et(6e4)})}}class KSe{constructor(t,n){this.localStore=t,this.persistence=n}async nt(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,t))}st(t,n){const r=new Set;let i=n,o=!0;return ee.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(s!==null&&!r.has(s))return fe("IndexBackiller",`Processing collection: ${s}`),this.it(t,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}it(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next(i=>this.localStore.localDocuments.getNextDocuments(t,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.rt(i,o)).next(a=>(fe("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,n,a))).next(()=>s.size)}))}rt(t,n){let r=t;return n.changes.forEach((i,o)=>{const s=ZH(o);fI(s,r)>0&&(r=s)}),new Ei(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}ti.ct=-1;function K_(e){return e==null}function qh(e){return e===0&&1/e==-1/0}function nq(e){return typeof e=="number"&&Number.isInteger(e)&&!qh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=PM(t)),t=GSe(e.get(n),t);return PM(t)}function GSe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function PM(e){return e+""}function No(e){const t=e.length;if(je(t>=2),t===2)return je(e.charAt(0)===""&&e.charAt(1)===""),Nt.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const s=e.indexOf("",o);switch((s<0||s>n)&&Ie(),e.charAt(s+1)){case"":const a=e.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:Ie()}o=s+2}return new Nt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(e,t){return[e,Mr(t)]}function rq(e,t,n){return[e,Mr(t),n]}const YSe={},QSe=["prefixPath","collectionGroup","readTime","documentId"],XSe=["prefixPath","collectionGroup","documentId"],JSe=["collectionGroup","readTime","prefixPath","documentId"],ZSe=["canonicalId","targetId"],e$e=["targetId","path"],t$e=["path","targetId"],n$e=["collectionId","parent"],r$e=["indexId","uid"],i$e=["uid","sequenceNumber"],o$e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s$e=["indexId","uid","orderedDocumentKey"],a$e=["userId","collectionPath","documentId"],l$e=["userId","collectionPath","largestBatchId"],u$e=["userId","collectionGroup","largestBatchId"],iq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],c$e=[...iq,"documentOverlays"],oq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sq=oq,f$e=[...sq,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends tq{constructor(t,n){super(),this.at=t,this.currentSequenceNumber=n}}function tr(e,t){const n=Te(e);return co.O(n.at,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aq(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t,n){this.comparator=t,this.root=n||ar.EMPTY}insert(t,n){return new bn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(t){return new bn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ar.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tg(this.root,t,this.comparator,!1)}getReverseIterator(){return new tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tg(this.root,t,this.comparator,!0)}}class tg{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ar{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=o??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new ar(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const t=this.left.check();if(t!==this.right.check())throw Ie();return t+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ar(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.comparator=t,this.data=new bn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new kM(this.data.getIterator())}getIteratorFrom(t){return new kM(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Bt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Bt(this.comparator);return n.data=t,n}}class kM{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cu(e){return e.hasNext()?e.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.fields=t,t.sort(Dn.comparator)}static empty(){return new ni([])}unionWith(t){let n=new Bt(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ni(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Uc(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d$e extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new d$e("Invalid base64 string: "+i):i}}(t);return new Zn(n)}static fromUint8Array(t){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(t);return new Zn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const h$e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(e){if(je(!!e),typeof e=="string"){let t=0;const n=h$e.exec(e);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:yn(e.seconds),nanos:yn(e.nanos)}}function yn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Zl(e){return typeof e=="string"?Zn.fromBase64String(e):Zn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uq(e){const t=e.mapValue.fields.__previous_value__;return lq(t)?uq(t):t}function Wh(e){const t=Ra(e.mapValue.fields.__local_write_time__.timestampValue);return new hn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p$e{constructor(t,n,r,i,o,s,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class eu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof eu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wg={nullValue:"NULL_VALUE"};function tu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lq(e)?4:cq(e)?9007199254740991:10:Ie()}function Ho(e,t){if(e===t)return!0;const n=tu(e);if(n!==tu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wh(e).isEqual(Wh(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ra(r.timestampValue),s=Ra(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Zl(r.bytesValue).isEqual(Zl(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return yn(r.geoPointValue.latitude)===yn(i.geoPointValue.latitude)&&yn(r.geoPointValue.longitude)===yn(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return yn(r.integerValue)===yn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=yn(r.doubleValue),s=yn(i.doubleValue);return o===s?qh(o)===qh(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Uc(e.arrayValue.values||[],t.arrayValue.values||[],Ho);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(IM(o)!==IM(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Ho(o[a],s[a])))return!1;return!0}(e,t);default:return Ie()}}function Kh(e,t){return(e.values||[]).find(n=>Ho(n,t))!==void 0}function Da(e,t){if(e===t)return 0;const n=tu(e),r=tu(t);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(e.booleanValue,t.booleanValue);case 2:return function(i,o){const s=yn(i.integerValue||i.doubleValue),a=yn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(e,t);case 3:return TM(e.timestampValue,t.timestampValue);case 4:return TM(Wh(e),Wh(t));case 5:return ot(e.stringValue,t.stringValue);case 6:return function(i,o){const s=Zl(i),a=Zl(o);return s.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=ot(s[l],a[l]);if(u!==0)return u}return ot(s.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const s=ot(yn(i.latitude),yn(o.latitude));return s!==0?s:ot(yn(i.longitude),yn(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Da(s[l],a[l]);if(u)return u}return ot(s.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===aa.mapValue&&o===aa.mapValue)return 0;if(i===aa.mapValue)return 1;if(o===aa.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=ot(a[c],u[c]);if(f!==0)return f;const d=Da(s[a[c]],l[u[c]]);if(d!==0)return d}return ot(a.length,u.length)}(e.mapValue,t.mapValue);default:throw Ie()}}function TM(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ot(e,t);const n=Ra(e),r=Ra(t),i=ot(n.seconds,r.seconds);return i!==0?i:ot(n.nanos,r.nanos)}function Hc(e){return QE(e)}function QE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=Ra(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Se.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=QE(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${QE(r.fields[a])}`;return o+"}"}(e.mapValue):Ie();var t,n}function Gh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function XE(e){return!!e&&"integerValue"in e}function Yh(e){return!!e&&"arrayValue"in e}function AM(e){return!!e&&"nullValue"in e}function NM(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kg(e){return!!e&&"mapValue"in e}function Jd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yu(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Jd(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function cq(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function m$e(e){return"nullValue"in e?Wg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gh(eu.empty(),Se.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ie()}function g$e(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gh(eu.empty(),Se.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?aa:Ie()}function RM(e,t){const n=Da(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function DM(e,t){const n=Da(e.value,t.value);return n!==0?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.value=t}static empty(){return new xr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Kg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jd(n)}setAll(t){let n=Dn.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Jd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Kg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ho(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){yu(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new xr(Jd(this.value))}}function fq(e){const t=[];return yu(e.fields,(n,r)=>{const i=new Dn([n]);if(Kg(r)){const o=fq(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new wn(t,0,Ve.min(),Ve.min(),Ve.min(),xr.empty(),0)}static newFoundDocument(t,n,r,i){return new wn(t,1,n,Ve.min(),r,i,0)}static newNoDocument(t,n){return new wn(t,2,n,Ve.min(),Ve.min(),xr.empty(),0)}static newUnknownDocument(t,n){return new wn(t,3,n,Ve.min(),Ve.min(),xr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n){this.position=t,this.inclusive=n}}function MM(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=Se.comparator(Se.fromName(s.referenceValue),n.key):r=Da(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LM(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ho(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,n="asc"){this.field=t,this.dir=n}}function y$e(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{}class mt extends dq{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new v$e(t,n,r):n==="array-contains"?new b$e(t,r):n==="in"?new vq(t,r):n==="not-in"?new S$e(t,r):n==="array-contains-any"?new $$e(t,r):new mt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new w$e(t,r):new _$e(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&tu(this.value)===tu(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mt extends dq{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new Mt(t,n)}matches(t){return Wc(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function Wc(e){return e.op==="and"}function JE(e){return e.op==="or"}function hI(e){return hq(e)&&Wc(e)}function hq(e){for(const t of e.filters)if(t instanceof Mt)return!1;return!0}function ZE(e){if(e instanceof mt)return e.field.canonicalString()+e.op.toString()+Hc(e.value);if(hI(e))return e.filters.map(t=>ZE(t)).join(",");{const t=e.filters.map(n=>ZE(n)).join(",");return`${e.op}(${t})`}}function pq(e,t){return e instanceof mt?function(n,r){return r instanceof mt&&n.op===r.op&&n.field.isEqual(r.field)&&Ho(n.value,r.value)}(e,t):e instanceof Mt?function(n,r){return r instanceof Mt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&pq(o,r.filters[s]),!0):!1}(e,t):void Ie()}function mq(e,t){const n=e.filters.concat(t);return Mt.create(n,e.op)}function gq(e){return e instanceof mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Hc(t.value)}`}(e):e instanceof Mt?function(t){return t.op.toString()+" {"+t.getFilters().map(gq).join(" ,")+"}"}(e):"Filter"}class v$e extends mt{constructor(t,n,r){super(t,n,r),this.key=Se.fromName(r.referenceValue)}matches(t){const n=Se.comparator(t.key,this.key);return this.matchesComparison(n)}}class w$e extends mt{constructor(t,n){super(t,"in",n),this.keys=yq("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class _$e extends mt{constructor(t,n){super(t,"not-in",n),this.keys=yq("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function yq(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class b$e extends mt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Yh(n)&&Kh(n.arrayValue,this.value)}}class vq extends mt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kh(this.value.arrayValue,n)}}class S$e extends mt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Kh(this.value.arrayValue,n)}}class $$e extends mt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E$e{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}}function ex(e,t=null,n=[],r=[],i=null,o=null,s=null){return new E$e(e,t,n,r,i,o,s)}function nu(e){const t=Te(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ZE(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),K_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Hc(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Hc(r)).join(",")),t.ft=n}return t.ft}function Wp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!y$e(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pq(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!LM(e.startAt,t.startAt)&&LM(e.endAt,t.endAt)}function D0(e){return Se.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function M0(e,t){return e.filters.filter(n=>n instanceof mt&&n.field.isEqual(t))}function jM(e,t,n){let r=Wg,i=!0;for(const o of M0(e,t)){let s=Wg,a=!0;switch(o.op){case"<":case"<=":s=m$e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Wg}RM({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const s=n.position[o];RM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function zM(e,t,n){let r=aa,i=!0;for(const o of M0(e,t)){let s=aa,a=!0;switch(o.op){case">=":case">":s=g$e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=aa}DM({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const s=n.position[o];DM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function wq(e,t,n,r,i,o,s,a){return new Kp(e,t,n,r,i,o,s,a)}function G_(e){return new Kp(e)}function FM(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _q(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function pI(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function bq(e){return e.collectionGroup!==null}function yc(e){const t=Te(e);if(t.dt===null){t.dt=[];const n=pI(t),r=_q(t);if(n!==null&&r===null)n.isKeyField()||t.dt.push(new Zd(n)),t.dt.push(new Zd(Dn.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Zd(Dn.keyField(),o))}}}return t.dt}function Yi(e){const t=Te(e);if(!t.wt)if(t.limitType==="F")t.wt=ex(t.path,t.collectionGroup,yc(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const o of yc(t)){const s=o.dir==="desc"?"asc":"desc";n.push(new Zd(o.field,s))}const r=t.endAt?new qc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new qc(t.startAt.position,t.startAt.inclusive):null;t.wt=ex(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.wt}function tx(e,t){t.getFirstInequalityField(),pI(e);const n=e.filters.concat([t]);return new Kp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nx(e,t,n){return new Kp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Y_(e,t){return Wp(Yi(e),Yi(t))&&e.limitType===t.limitType}function Sq(e){return`${nu(Yi(e))}|lt:${e.limitType}`}function rx(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>gq(r)).join(", ")}]`),K_(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Hc(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Hc(r)).join(",")),`Target(${n})`}(Yi(e))}; limitType=${e.limitType})`}function Gp(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Se.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of yc(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=MM(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,yc(n),r)||n.endAt&&!function(i,o,s){const a=MM(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,yc(n),r))}(e,t)}function $q(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Eq(e){return(t,n)=>{let r=!1;for(const i of yc(e)){const o=x$e(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function x$e(e,t,n){const r=e.field.isKeyField()?Se.comparator(t.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Da(a,l):Ie()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){yu(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return aq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$e=new bn(Se.comparator);function pi(){return O$e}const xq=new bn(Se.comparator);function Sd(...e){let t=xq;for(const n of e)t=t.insert(n.key,n);return t}function Oq(e){let t=xq;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ro(){return eh()}function Pq(){return eh()}function eh(){return new Ka(e=>e.toString(),(e,t)=>e.isEqual(t))}const P$e=new bn(Se.comparator),C$e=new Bt(Se.comparator);function ct(...e){let t=C$e;for(const n of e)t=t.add(n);return t}const I$e=new Bt(ot);function Q_(){return I$e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(t)?"-0":t}}function Iq(e){return{integerValue:""+e}}function k$e(e,t){return nq(t)?Iq(t):Cq(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this._=void 0}}function T$e(e,t,n){return e instanceof Qh?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Kc?Tq(e,t):e instanceof Gc?Aq(e,t):function(r,i){const o=kq(r,i),s=VM(o)+VM(r._t);return XE(o)&&XE(r._t)?Iq(s):Cq(r.serializer,s)}(e,t)}function A$e(e,t,n){return e instanceof Kc?Tq(e,t):e instanceof Gc?Aq(e,t):n}function kq(e,t){return e instanceof Xh?XE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class Qh extends X_{}class Kc extends X_{constructor(t){super(),this.elements=t}}function Tq(e,t){const n=Nq(t);for(const r of e.elements)n.some(i=>Ho(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gc extends X_{constructor(t){super(),this.elements=t}}function Aq(e,t){let n=Nq(t);for(const r of e.elements)n=n.filter(i=>!Ho(i,r));return{arrayValue:{values:n}}}class Xh extends X_{constructor(t,n){super(),this.serializer=t,this._t=n}}function VM(e){return yn(e.integerValue||e.doubleValue)}function Nq(e){return Yh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N$e{constructor(t,n){this.field=t,this.transform=n}}function R$e(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Kc&&r instanceof Kc||n instanceof Gc&&r instanceof Gc?Uc(n.elements,r.elements,Ho):n instanceof Xh&&r instanceof Xh?Ho(n._t,r._t):n instanceof Qh&&r instanceof Qh}(e.transform,t.transform)}class D$e{constructor(t,n){this.version=t,this.transformResults=n}}class cr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new cr}static exists(t){return new cr(void 0,t)}static updateTime(t){return new cr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class J_{}function Rq(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Z_(e.key,cr.none()):new Sf(e.key,e.data,cr.none());{const n=e.data,r=xr.empty();let i=new Bt(Dn.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ns(e.key,r,new ni(i.toArray()),cr.none())}}function M$e(e,t,n){e instanceof Sf?function(r,i,o){const s=r.value.clone(),a=UM(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof Ns?function(r,i,o){if(!Gg(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=UM(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(Dq(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function th(e,t,n,r){return e instanceof Sf?function(i,o,s,a){if(!Gg(i.precondition,o))return s;const l=i.value.clone(),u=HM(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ns?function(i,o,s,a){if(!Gg(i.precondition,o))return s;const l=HM(i.fieldTransforms,a,o),u=o.data;return u.setAll(Dq(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,o,s){return Gg(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(e,t,n)}function L$e(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=kq(r.transform,i||null);o!=null&&(n===null&&(n=xr.empty()),n.set(r.field,o))}return n||null}function BM(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Uc(n,r,(i,o)=>R$e(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sf extends J_{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ns extends J_{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Dq(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function UM(e,t,n){const r=new Map;je(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,A$e(s,a,n[i]))}return r}function HM(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,T$e(o,s,t))}return r}class Z_ extends J_{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mq extends J_{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&M$e(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=th(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=th(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Pq();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Rq(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ct())}isEqual(t){return this.batchId===t.batchId&&Uc(this.mutations,t.mutations,(n,r)=>BM(n,r))&&Uc(this.baseMutations,t.baseMutations,(n,r)=>BM(n,r))}}class gI{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){je(t.mutations.length===r.length);let i=P$e;const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new gI(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j$e{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,vt;function z$e(e){switch(e){default:return Ie();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function Lq(e){if(e===void 0)return Cn("GRPC error has no .code"),ae.UNKNOWN;switch(e){case kn.OK:return ae.OK;case kn.CANCELLED:return ae.CANCELLED;case kn.UNKNOWN:return ae.UNKNOWN;case kn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case kn.INTERNAL:return ae.INTERNAL;case kn.UNAVAILABLE:return ae.UNAVAILABLE;case kn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case kn.NOT_FOUND:return ae.NOT_FOUND;case kn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case kn.ABORTED:return ae.ABORTED;case kn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case kn.DATA_LOSS:return ae.DATA_LOSS;default:return Ie()}}(vt=kn||(kn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ng}static getOrCreateInstance(){return ng===null&&(ng=new vI),ng}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let ng=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Qp.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Yp(Ve.min(),i,Q_(),pi(),ct())}}class Qp{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Qp(r,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(t,n,r,i){this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i}}class jq{constructor(t,n){this.targetId=t,this.Et=n}}class zq{constructor(t,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qM{constructor(){this.At=0,this.Rt=KM(),this.vt=Zn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=ct(),n=ct(),r=ct();return this.Rt.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Qp(this.vt,this.bt,t,n,r)}xt(){this.Pt=!1,this.Rt=KM()}Nt(t,n){this.Pt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class F$e{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=pi(),this.qt=WM(),this.Ut=new Bt(ot)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}zt(t){this.forEachTarget(t,n=>{const r=this.jt(n);switch(t.state){case 0:this.Wt(n)&&r.Dt(t.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(t.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(t.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(t.resumeToken));break;default:Ie()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(t){var n;const r=t.targetId,i=t.Et.count,o=this.Yt(r);if(o){const s=o.target;if(D0(s))if(i===0){const a=new Se(s.path);this.Qt(r,a,wn.newNoDocument(a,Ve.min()))}else je(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=vI.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:t.Et.count}))}}}Xt(t){const n=new Map;this.Bt.forEach((o,s)=>{const a=this.Yt(s);if(a){if(o.current&&D0(a.target)){const l=new Se(a.target.path);this.Lt.get(l)!==null||this.te(s,l)||this.Qt(s,l,wn.newNoDocument(l,t))}o.St&&(n.set(s,o.Ct()),o.xt())}});let r=ct();this.qt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(o))}),this.Lt.forEach((o,s)=>s.setReadTime(t));const i=new Yp(t,n,this.Ut,this.Lt,r);return this.Lt=pi(),this.qt=WM(),this.Ut=new Bt(ot),i}Gt(t,n){if(!this.Wt(t))return;const r=this.te(t,n.key)?2:0;this.jt(t).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,r){if(!this.Wt(t))return;const i=this.jt(t);this.te(t,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(t){this.Bt.delete(t)}Zt(t){const n=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let n=this.Bt.get(t);return n||(n=new qM,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new Bt(ot),this.qt=this.qt.insert(t,n)),n}Wt(t){const n=this.Yt(t)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new qM),this.Ft.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.Ft.getRemoteKeysForTarget(t).has(n)}}function WM(){return new bn(Se.comparator)}function KM(){return new bn(Se.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$e=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),B$e=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),U$e=(()=>({and:"AND",or:"OR"}))();class H$e{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Yc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fq(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function q$e(e,t){return Yc(e,t.toTimestamp())}function Lr(e){return je(!!e),Ve.fromTimestamp(function(t){const n=Ra(t);return new hn(n.seconds,n.nanos)}(e))}function wI(e,t){return function(n){return new Nt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Vq(e){const t=Nt.fromString(e);return je(Yq(t)),t}function L0(e,t){return wI(e.databaseId,t.path)}function Ml(e,t){const n=Vq(t);if(n.get(1)!==e.databaseId.projectId)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Se(Uq(n))}function ix(e,t){return wI(e.databaseId,t)}function Bq(e){const t=Vq(e);return t.length===4?Nt.emptyPath():Uq(t)}function ox(e){return new Nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uq(e){return je(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function GM(e,t,n){return{name:L0(e,t),fields:n.value.mapValue.fields}}function W$e(e,t,n){const r=Ml(e,t.name),i=Lr(t.updateTime),o=t.createTime?Lr(t.createTime):Ve.min(),s=new xr({mapValue:{fields:t.fields}}),a=wn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function K$e(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ie()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(je(u===void 0||typeof u=="string"),Zn.fromBase64String(u||"")):(je(u===void 0||u instanceof Uint8Array),Zn.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const u=l.code===void 0?ae.UNKNOWN:Lq(l.code);return new we(u,l.message||"")}(s);n=new zq(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ml(e,r.document.name),o=Lr(r.document.updateTime),s=r.document.createTime?Lr(r.document.createTime):Ve.min(),a=new xr({mapValue:{fields:r.document.fields}}),l=wn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Yg(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ml(e,r.document),o=r.readTime?Lr(r.readTime):Ve.min(),s=wn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Yg([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ml(e,r.document),o=r.removedTargetIds||[];n=new Yg([],o,i,null)}else{if(!("filter"in t))return Ie();{t.filter;const r=t.filter;r.targetId;const i=r.count||0,o=new j$e(i),s=r.targetId;n=new jq(s,o)}}return n}function j0(e,t){let n;if(t instanceof Sf)n={update:GM(e,t.key,t.value)};else if(t instanceof Z_)n={delete:L0(e,t.key)};else if(t instanceof Ns)n={update:GM(e,t.key,t.data),updateMask:Z$e(t.fieldMask)};else{if(!(t instanceof Mq))return Ie();n={verify:L0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Qh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Kc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Gc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Xh)return{fieldPath:o.field.canonicalString(),increment:s._t};throw Ie()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:q$e(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ie()}(e,t.precondition)),n}function sx(e,t){const n=t.currentDocument?function(i){return i.updateTime!==void 0?cr.updateTime(Lr(i.updateTime)):i.exists!==void 0?cr.exists(i.exists):cr.none()}(t.currentDocument):cr.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(o,s){let a=null;if("setToServerValue"in s)je(s.setToServerValue==="REQUEST_TIME"),a=new Qh;else if("appendMissingElements"in s){const u=s.appendMissingElements.values||[];a=new Kc(u)}else if("removeAllFromArray"in s){const u=s.removeAllFromArray.values||[];a=new Gc(u)}else"increment"in s?a=new Xh(o,s.increment):Ie();const l=Dn.fromServerFormat(s.fieldPath);return new N$e(l,a)}(e,i)):[];if(t.update){t.update.name;const i=Ml(e,t.update.name),o=new xr({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=function(a){const l=a.fieldPaths||[];return new ni(l.map(u=>Dn.fromServerFormat(u)))}(t.updateMask);return new Ns(i,o,s,n,r)}return new Sf(i,o,n,r)}if(t.delete){const i=Ml(e,t.delete);return new Z_(i,n)}if(t.verify){const i=Ml(e,t.verify);return new Mq(i,n)}return Ie()}function G$e(e,t){return e&&e.length>0?(je(t!==void 0),e.map(n=>function(r,i){let o=r.updateTime?Lr(r.updateTime):Lr(i);return o.isEqual(Ve.min())&&(o=Lr(i)),new D$e(o,r.transformResults||[])}(n,t))):[]}function Hq(e,t){return{documents:[ix(e,t.path)]}}function qq(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ix(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ix(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Gq(Mt.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Au(c.field),direction:Q$e(c.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(l,u){return l.useProto3Json||K_(u)?u:{value:u}}(e,t.limit);var a;return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function Wq(e){let t=Bq(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(c){const f=Kq(c);return f instanceof Mt&&hI(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(f){return new Zd(Nu(f.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,K_(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,d=c.values||[];return new qc(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,d=c.values||[];return new qc(d,f)}(n.endAt)),wq(t,i,s,o,a,"F",l,u)}function Y$e(e,t){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ie()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function Kq(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Nu(t.unaryFilter.field);return mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Nu(t.unaryFilter.field);return mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nu(t.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Nu(t.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(e):e.fieldFilter!==void 0?function(t){return mt.create(Nu(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Mt.create(t.compositeFilter.filters.map(n=>Kq(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(e):Ie()}function Q$e(e){return V$e[e]}function X$e(e){return B$e[e]}function J$e(e){return U$e[e]}function Au(e){return{fieldPath:e.canonicalString()}}function Nu(e){return Dn.fromServerFormat(e.fieldPath)}function Gq(e){return e instanceof mt?function(t){if(t.op==="=="){if(NM(t.value))return{unaryFilter:{field:Au(t.field),op:"IS_NAN"}};if(AM(t.value))return{unaryFilter:{field:Au(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NM(t.value))return{unaryFilter:{field:Au(t.field),op:"IS_NOT_NAN"}};if(AM(t.value))return{unaryFilter:{field:Au(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(t.field),op:X$e(t.op),value:t.value}}}(e):e instanceof Mt?function(t){const n=t.getFilters().map(r=>Gq(r));return n.length===1?n[0]:{compositeFilter:{op:J$e(t.op),filters:n}}}(e):Ie()}function Z$e(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Yq(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n,r,i,o=Ve.min(),s=Ve.min(),a=Zn.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(t){return new Sa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(t){this.se=t}}function eEe(e,t){let n;if(t.document)n=W$e(e.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=Se.fromSegments(t.noDocument.path),i=iu(t.noDocument.readTime);n=wn.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ie();{const r=Se.fromSegments(t.unknownDocument.path),i=iu(t.unknownDocument.version);n=wn.newUnknownDocument(r,i)}}return t.readTime&&n.setReadTime(function(r){const i=new hn(r[0],r[1]);return Ve.fromTimestamp(i)}(t.readTime)),n}function YM(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:z0(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(i,o){return{name:L0(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Yc(i,o.version.toTimestamp()),createTime:Yc(i,o.createTime.toTimestamp())}}(e.se,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ru(t.version)};else{if(!t.isUnknownDocument())return Ie();r.unknownDocument={path:n.path.toArray(),version:ru(t.version)}}return r}function z0(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ru(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function iu(e){const t=new hn(e.seconds,e.nanoseconds);return Ve.fromTimestamp(t)}function yl(e,t){const n=(t.baseMutations||[]).map(o=>sx(e.se,o));for(let o=0;o<t.mutations.length-1;++o){const s=t.mutations[o];if(o+1<t.mutations.length&&t.mutations[o+1].transform!==void 0){const a=t.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map(o=>sx(e.se,o)),i=hn.fromMillis(t.localWriteTimeMs);return new mI(t.batchId,i,n,r)}function $d(e){const t=iu(e.readTime),n=e.lastLimboFreeSnapshotVersion!==void 0?iu(e.lastLimboFreeSnapshotVersion):Ve.min();let r;var i;return e.query.documents!==void 0?(je((i=e.query).documents.length===1),r=Yi(G_(Bq(i.documents[0])))):r=function(o){return Yi(Wq(o))}(e.query),new Sa(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Zn.fromBase64String(e.resumeToken))}function Xq(e,t){const n=ru(t.snapshotVersion),r=ru(t.lastLimboFreeSnapshotVersion);let i;i=D0(t.target)?Hq(e.se,t.target):qq(e.se,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nu(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Jq(e){const t=Wq({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?nx(t,t.limit,"L"):t}function hS(e,t){return new yI(t.largestBatchId,sx(e.se,t.overlayMutation))}function QM(e,t){const n=t.path.lastSegment();return[e,Mr(t.path.popLast()),n]}function XM(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ru(r.readTime),documentKey:Mr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tEe{getBundleMetadata(t,n){return JM(t).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:iu(i.createTime),version:i.version};var i})}saveBundleMetadata(t,n){return JM(t).put({bundleId:(r=n).id,createTime:ru(Lr(r.createTime)),version:r.version});var r}getNamedQuery(t,n){return ZM(t).get(n).next(r=>{if(r)return{name:(i=r).name,query:Jq(i.bundledQuery),readTime:iu(i.readTime)};var i})}saveNamedQuery(t,n){return ZM(t).put(function(r){return{name:r.name,readTime:ru(Lr(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function JM(e){return tr(e,"bundles")}function ZM(e){return tr(e,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,n){this.serializer=t,this.userId=n}static ie(t,n){const r=n.uid||"";return new eb(t,r)}getOverlay(t,n){return td(t).get(QM(this.userId,n)).next(r=>r?hS(this.serializer,r):null)}getOverlays(t,n){const r=Ro();return ee.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){const i=[];return r.forEach((o,s)=>{const a=new yI(n,s);i.push(this.re(t,a))}),ee.waitFor(i)}removeOverlaysForBatchId(t,n,r){const i=new Set;n.forEach(s=>i.add(Mr(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(td(t).J("collectionPathOverlayIndex",a))}),ee.waitFor(o)}getOverlaysForCollection(t,n,r){const i=Ro(),o=Mr(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return td(t).j("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=hS(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(t,n,r,i){const o=Ro();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return td(t).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const f=hS(this.serializer,u);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):c.done()}).next(()=>o)}re(t,n){return td(t).put(function(r,i,o){const[s,a,l]=QM(i,o.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:j0(r.se,o.mutation)}}(this.serializer,this.userId,n))}}function td(e){return tr(e,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){}oe(t,n){this.ue(t,n),n.ce()}ue(t,n){if("nullValue"in t)this.ae(n,5);else if("booleanValue"in t)this.ae(n,10),n.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(n,15),n.he(yn(t.integerValue));else if("doubleValue"in t){const r=yn(t.doubleValue);isNaN(r)?this.ae(n,13):(this.ae(n,15),qh(r)?n.he(0):n.he(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ae(n,20),typeof r=="string"?n.le(r):(n.le(`${r.seconds||""}`),n.he(r.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,n),this.de(n);else if("bytesValue"in t)this.ae(n,30),n.we(Zl(t.bytesValue)),this.de(n);else if("referenceValue"in t)this._e(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.ae(n,45),n.he(r.latitude||0),n.he(r.longitude||0)}else"mapValue"in t?cq(t)?this.ae(n,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,n),this.de(n)):"arrayValue"in t?(this.ge(t.arrayValue,n),this.de(n)):Ie()}fe(t,n){this.ae(n,25),this.ye(t,n)}ye(t,n){n.le(t)}me(t,n){const r=t.fields||{};this.ae(n,55);for(const i of Object.keys(r))this.fe(i,n),this.ue(r[i],n)}ge(t,n){const r=t.values||[];this.ae(n,50);for(const i of r)this.ue(i,n)}_e(t,n){this.ae(n,37),Se.fromName(t).path.forEach(r=>{this.ae(n,60),this.ye(r,n)})}ae(t,n){t.he(n)}de(t){t.he(2)}}vl.pe=new vl;function nEe(e){if(e===0)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function eL(e){const t=64-function(n){let r=0;for(let i=0;i<8;++i){const o=nEe(255&n[i]);if(r+=o,o!==8)break}return r}(e);return Math.ceil(t/8)}class rEe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Te(r.value),r=n.next();this.Ee()}Ae(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Re(r.value),r=n.next();this.ve()}be(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Te(r);else if(r<2048)this.Te(960|r>>>6),this.Te(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Te(480|r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r);else{const i=n.codePointAt(0);this.Te(240|i>>>18),this.Te(128|63&i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i)}}this.Ee()}Pe(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=n.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.ve()}Ve(t){const n=this.Se(t),r=eL(n);this.De(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ce(t){const n=this.Se(t),r=eL(n);this.De(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(t){this.De(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Se(t){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(t),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Te(t){const n=255&t;n===0?(this.Ne(0),this.Ne(255)):n===255?(this.Ne(255),this.Ne(0)):this.Ne(n)}Re(t){const n=255&t;n===0?(this.Oe(0),this.Oe(255)):n===255?(this.Oe(255),this.Oe(0)):this.Oe(t)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(t){this.De(1),this.buffer[this.position++]=t}Oe(t){this.De(1),this.buffer[this.position++]=~t}De(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class iEe{constructor(t){this.Me=t}we(t){this.Me.Ie(t)}le(t){this.Me.be(t)}he(t){this.Me.Ve(t)}ce(){this.Me.xe()}}class oEe{constructor(t){this.Me=t}we(t){this.Me.Ae(t)}le(t){this.Me.Pe(t)}he(t){this.Me.Ce(t)}ce(){this.Me.ke()}}class nd{constructor(){this.Me=new rEe,this.Fe=new iEe(this.Me),this.Be=new oEe(this.Me)}seed(t){this.Me.seed(t)}Le(t){return t===0?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,n,r,i){this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}qe(){const t=this.directionalValue.length,n=t===0||this.directionalValue[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new wl(this.indexId,this.documentKey,this.arrayValue,r)}}function Fs(e,t){let n=e.indexId-t.indexId;return n!==0?n:(n=tL(e.arrayValue,t.arrayValue),n!==0?n:(n=tL(e.directionalValue,t.directionalValue),n!==0?n:Se.comparator(e.documentKey,t.documentKey)))}function tL(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(r!==0)return r}return e.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sEe{constructor(t){this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];for(const n of t.filters){const r=n;r.isInequality()?this.Ge=r:this.Ke.push(r)}}Qe(t){je(t.collectionGroup===this.collectionId);const n=GE(t);if(n!==void 0&&!this.ze(n))return!1;const r=ul(t);let i=0,o=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(this.Ge!==void 0){const s=r[i];if(!this.je(this.Ge,s)||!this.We(this.Ue[o++],s))return!1;++i}for(;i<r.length;++i){const s=r[i];if(o>=this.Ue.length||!this.We(this.Ue[o++],s))return!1}return!0}ze(t){for(const n of this.Ke)if(this.je(n,t))return!0;return!1}je(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}We(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(e){var t,n;if(je(e instanceof mt||e instanceof Mt),e instanceof mt){if(e instanceof vq){const i=((n=(t=e.value.arrayValue)===null||t===void 0?void 0:t.values)===null||n===void 0?void 0:n.map(o=>mt.create(e.field,"==",o)))||[];return Mt.create(i,"or")}return e}const r=e.filters.map(i=>Zq(i));return Mt.create(r,e.op)}function aEe(e){if(e.getFilters().length===0)return[];const t=ux(Zq(e));return je(e7(t)),ax(t)||lx(t)?[t]:t.getFilters()}function ax(e){return e instanceof mt}function lx(e){return e instanceof Mt&&hI(e)}function e7(e){return ax(e)||lx(e)||function(t){if(t instanceof Mt&&JE(t)){for(const n of t.getFilters())if(!ax(n)&&!lx(n))return!1;return!0}return!1}(e)}function ux(e){if(je(e instanceof mt||e instanceof Mt),e instanceof mt)return e;if(e.filters.length===1)return ux(e.filters[0]);const t=e.filters.map(r=>ux(r));let n=Mt.create(t,e.op);return n=F0(n),e7(n)?n:(je(n instanceof Mt),je(Wc(n)),je(n.filters.length>1),n.filters.reduce((r,i)=>_I(r,i)))}function _I(e,t){let n;return je(e instanceof mt||e instanceof Mt),je(t instanceof mt||t instanceof Mt),n=e instanceof mt?t instanceof mt?function(r,i){return Mt.create([r,i],"and")}(e,t):nL(e,t):t instanceof mt?nL(t,e):function(r,i){if(je(r.filters.length>0&&i.filters.length>0),Wc(r)&&Wc(i))return mq(r,i.getFilters());const o=JE(r)?r:i,s=JE(r)?i:r,a=o.filters.map(l=>_I(l,s));return Mt.create(a,"or")}(e,t),F0(n)}function nL(e,t){if(Wc(t))return mq(t,e.getFilters());{const n=t.filters.map(r=>_I(e,r));return Mt.create(n,"or")}}function F0(e){if(je(e instanceof mt||e instanceof Mt),e instanceof mt)return e;const t=e.getFilters();if(t.length===1)return F0(t[0]);if(hq(e))return e;const n=t.map(i=>F0(i)),r=[];return n.forEach(i=>{i instanceof mt?r.push(i):i instanceof Mt&&(i.op===e.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Mt.create(r,e.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lEe{constructor(){this.He=new bI}addToCollectionParentIndex(t,n){return this.He.add(n),ee.resolve()}getCollectionParents(t,n){return ee.resolve(this.He.getEntries(n))}addFieldIndex(t,n){return ee.resolve()}deleteFieldIndex(t,n){return ee.resolve()}getDocumentsMatchingTarget(t,n){return ee.resolve(null)}getIndexType(t,n){return ee.resolve(0)}getFieldIndexes(t,n){return ee.resolve([])}getNextCollectionGroupToUpdate(t){return ee.resolve(null)}getMinOffset(t,n){return ee.resolve(Ei.min())}getMinOffsetFromCollectionGroup(t,n){return ee.resolve(Ei.min())}updateCollectionGroup(t,n,r){return ee.resolve()}updateIndexEntries(t,n){return ee.resolve()}}class bI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Bt(Nt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Bt(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new Uint8Array(0);class uEe{constructor(t,n){this.user=t,this.databaseId=n,this.Je=new bI,this.Ye=new Ka(r=>nu(r),(r,i)=>Wp(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.Je.has(n)){const r=n.lastSegment(),i=n.popLast();t.addOnCommittedListener(()=>{this.Je.add(n)});const o={collectionId:r,parent:Mr(i)};return rL(t).put(o)}return ee.resolve()}getCollectionParents(t,n){const r=[],i=IDBKeyRange.bound([n,""],[QH(n),""],!1,!0);return rL(t).j(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(No(s.parent))}return r})}addFieldIndex(t,n){const r=ig(t),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=id(t);return o.next(a=>{s.put(XM(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(t,n){const r=ig(t),i=id(t),o=rd(t);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,n){const r=rd(t);let i=!0;const o=new Map;return ee.forEach(this.Ze(n),s=>this.Xe(t,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=ct();const a=[];return ee.forEach(o,(l,u)=>{var c;fe("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`} to execute ${nu(n)}`);const f=function(w,b){const $=GE(b);if($===void 0)return null;for(const _ of M0(w,$.fieldPath))switch(_.op){case"array-contains-any":return _.value.arrayValue.values||[];case"array-contains":return[_.value]}return null}(u,l),d=function(w,b){const $=new Map;for(const _ of ul(b))for(const E of M0(w,_.fieldPath))switch(E.op){case"==":case"in":$.set(_.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return $.set(_.fieldPath.canonicalString(),E.value),Array.from($.values())}return null}(u,l),h=function(w,b){const $=[];let _=!0;for(const E of ul(b)){const C=E.kind===0?jM(w,E.fieldPath,w.startAt):zM(w,E.fieldPath,w.startAt);$.push(C.value),_&&(_=C.inclusive)}return new qc($,_)}(u,l),p=function(w,b){const $=[];let _=!0;for(const E of ul(b)){const C=E.kind===0?zM(w,E.fieldPath,w.endAt):jM(w,E.fieldPath,w.endAt);$.push(C.value),_&&(_=C.inclusive)}return new qc($,_)}(u,l),g=this.tn(l,u,h),v=this.tn(l,u,p),m=this.en(l,u,d),y=this.nn(l.indexId,f,g,h.inclusive,v,p.inclusive,m);return ee.forEach(y,w=>r.H(w,n.limit).next(b=>{b.forEach($=>{const _=Se.fromSegments($.documentKey);s.has(_)||(s=s.add(_),a.push(_))})}))}).next(()=>a)}return ee.resolve(null)})}Ze(t){let n=this.Ye.get(t);return n||(t.filters.length===0?n=[t]:n=aEe(Mt.create(t.filters,"and")).map(r=>ex(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.Ye.set(t,n),n)}nn(t,n,r,i,o,s,a){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),c=[];for(let f=0;f<l;++f){const d=n?this.sn(n[f/u]):rg,h=this.rn(t,d,r[f%u],i),p=this.on(t,d,o[f%u],s),g=a.map(v=>this.rn(t,d,v,!0));c.push(...this.createRange(h,p,g))}return c}rn(t,n,r,i){const o=new wl(t,Se.empty(),n,r);return i?o:o.qe()}on(t,n,r,i){const o=new wl(t,Se.empty(),n,r);return i?o.qe():o}Xe(t,n){const r=new sEe(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,i).next(o=>{let s=null;for(const a of o)r.Qe(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,n){let r=2;const i=this.Ze(n);return ee.forEach(i,o=>this.Xe(t,o).next(s=>{s?r!==0&&s.fields.length<function(a){let l=new Bt(Dn.comparator),u=!1;for(const c of a.filters)for(const f of c.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:l=l.add(f.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(o)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}un(t,n){const r=new nd;for(const i of ul(t)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Le(i.kind);vl.pe.oe(o,s)}return r.$e()}sn(t){const n=new nd;return vl.pe.oe(t,n.Le(0)),n.$e()}cn(t,n){const r=new nd;return vl.pe.oe(Gh(this.databaseId,n),r.Le(function(i){const o=ul(i);return o.length===0?0:o[o.length-1].kind}(t))),r.$e()}en(t,n,r){if(r===null)return[];let i=[];i.push(new nd);let o=0;for(const s of ul(t)){const a=r[o++];for(const l of i)if(this.an(n,s.fieldPath)&&Yh(a))i=this.hn(i,s,a);else{const u=l.Le(s.kind);vl.pe.oe(a,u)}}return this.ln(i)}tn(t,n,r){return this.en(t,n,r.position)}ln(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].$e();return n}hn(t,n,r){const i=[...t],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new nd;l.seed(a.$e()),vl.pe.oe(s,l.Le(n.kind)),o.push(l)}return o}an(t,n){return!!t.filters.find(r=>r instanceof mt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(t,n){const r=ig(t),i=id(t);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(o=>{const s=[];return ee.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(u,c){const f=c?new R0(c.sequenceNumber,new Ei(iu(c.readTime),new Se(No(c.documentKey)),c.largestBatchId)):R0.empty(),d=u.fields.map(([h,p])=>new USe(Dn.fromServerFormat(h),p));return new XH(u.indexId,u.collectionGroup,d,f)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ot(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(t,n,r){const i=ig(t),o=id(t);return this.fn(t).next(s=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>ee.forEach(a,l=>o.put(XM(l.indexId,this.user,s,r)))))}updateIndexEntries(t,n){const r=new Map;return ee.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?ee.resolve(s):this.getFieldIndexes(t,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ee.forEach(a,l=>this.dn(t,i,l).next(u=>{const c=this.wn(o,l);return u.isEqual(c)?ee.resolve():this._n(t,o,l,u,c)}))))})}mn(t,n,r,i){return rd(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.cn(r,n.key),documentKey:n.key.path.toArray()})}gn(t,n,r,i){return rd(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.cn(r,n.key),n.key.path.toArray()])}dn(t,n,r){const i=rd(t);let o=new Bt(Fs);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.cn(r,n)])},(s,a)=>{o=o.add(new wl(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}wn(t,n){let r=new Bt(Fs);const i=this.un(n,t);if(i==null)return r;const o=GE(n);if(o!=null){const s=t.data.field(o.fieldPath);if(Yh(s))for(const a of s.arrayValue.values||[])r=r.add(new wl(n.indexId,t.key,this.sn(a),i))}else r=r.add(new wl(n.indexId,t.key,rg,i));return r}_n(t,n,r,i,o){fe("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(a,l,u,c,f){const d=a.getIterator(),h=l.getIterator();let p=Cu(d),g=Cu(h);for(;p||g;){let v=!1,m=!1;if(p&&g){const y=u(p,g);y<0?m=!0:y>0&&(v=!0)}else p!=null?m=!0:v=!0;v?(c(g),g=Cu(h)):m?(f(p),p=Cu(d)):(p=Cu(d),g=Cu(h))}}(i,o,Fs,a=>{s.push(this.mn(t,n,r,a))},a=>{s.push(this.gn(t,n,r,a))}),ee.waitFor(s)}fn(t){let n=1;return id(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(t,n,r){r=r.sort((s,a)=>Fs(s,a)).filter((s,a,l)=>!a||Fs(s,l[a-1])!==0);const i=[];i.push(t);for(const s of r){const a=Fs(s,t),l=Fs(s,n);if(a===0)i[0]=t.qe();else if(a>0&&l<0)i.push(s),i.push(s.qe());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.yn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,rg,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,rg,[]];o.push(IDBKeyRange.bound(a,l))}return o}yn(t,n){return Fs(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(iL)}getMinOffset(t,n){return ee.mapArray(this.Ze(n),r=>this.Xe(t,r).next(i=>i||Ie())).next(iL)}}function rL(e){return tr(e,"collectionParents")}function rd(e){return tr(e,"indexEntries")}function ig(e){return tr(e,"indexConfiguration")}function id(e){return tr(e,"indexState")}function iL(e){je(e.length!==0);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;fI(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ei(t.readTime,t.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kr{constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Kr(t,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:s},(c,f,d)=>(a++,d.delete()));o.push(l.next(()=>{je(a===1)}));const u=[];for(const c of n.mutations){const f=rq(t,c.key.path,n.batchId);o.push(i.delete(f)),u.push(c.key)}return ee.waitFor(o).next(()=>u)}function V0(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ie();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(41943040,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);class tb{constructor(t,n,r,i){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}static ie(t,n,r,i){je(t.uid!=="");const o=t.isAuthenticated()?t.uid:"";return new tb(o,n,r,i)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vs(t).Z({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(t,n,r,i){const o=Ru(t),s=Vs(t);return s.add({}).next(a=>{je(typeof a=="number");const l=new mI(a,n,r,i),u=function(d,h,p){const g=p.baseMutations.map(m=>j0(d.se,m)),v=p.mutations.map(m=>j0(d.se,m));return{userId:h,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:g,mutations:v}}(this.serializer,this.userId,l),c=[];let f=new Bt((d,h)=>ot(d.canonicalString(),h.canonicalString()));for(const d of i){const h=rq(this.userId,d.key.path,a);f=f.add(d.key.path.popLast()),c.push(s.put(u)),c.push(o.put(h,YSe))}return f.forEach(d=>{c.push(this.indexManager.addToCollectionParentIndex(t,d))}),t.addOnCommittedListener(()=>{this.pn[a]=l.keys()}),ee.waitFor(c).next(()=>l)})}lookupMutationBatch(t,n){return Vs(t).get(n).next(r=>r?(je(r.userId===this.userId),yl(this.serializer,r)):null)}In(t,n){return this.pn[n]?ee.resolve(this.pn[n]):this.lookupMutationBatch(t,n).next(r=>{if(r){const i=r.keys();return this.pn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Vs(t).Z({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(je(a.batchId>=r),o=yl(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vs(t).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vs(t).j("userMutationsIndex",n).next(r=>r.map(i=>yl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=qg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Ru(t).Z({range:i},(s,a,l)=>{const[u,c,f]=s,d=No(c);if(u===this.userId&&n.path.isEqual(d))return Vs(t).get(f).next(h=>{if(!h)throw Ie();je(h.userId===this.userId),o.push(yl(this.serializer,h))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Bt(ot);const i=[];return n.forEach(o=>{const s=qg(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Ru(t).Z({range:a},(u,c,f)=>{const[d,h,p]=u,g=No(h);d===this.userId&&o.path.isEqual(g)?r=r.add(p):f.done()});i.push(l)}),ee.waitFor(i).next(()=>this.Tn(t,r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1,o=qg(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Bt(ot);return Ru(t).Z({range:s},(l,u,c)=>{const[f,d,h]=l,p=No(d);f===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(h)):c.done()}).next(()=>this.Tn(t,a))}Tn(t,n){const r=[],i=[];return n.forEach(o=>{i.push(Vs(t).get(o).next(s=>{if(s===null)throw Ie();je(s.userId===this.userId),r.push(yl(this.serializer,s))}))}),ee.waitFor(i).next(()=>r)}removeMutationBatch(t,n){return t7(t.at,this.userId,n).next(r=>(t.addOnCommittedListener(()=>{this.En(n.batchId)}),ee.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}En(t){delete this.pn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(n=>{if(!n)return ee.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ru(t).Z({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=No(o[1]);i.push(l)}else a.done()}).next(()=>{je(i.length===0)})})}containsKey(t,n){return n7(t,this.userId,n)}An(t){return r7(t).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function n7(e,t,n){const r=qg(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Ru(e).Z({range:o,Y:!0},(a,l,u)=>{const[c,f,d]=a;c===t&&f===i&&(s=!0),u.done()}).next(()=>s)}function Vs(e){return tr(e,"mutations")}function Ru(e){return tr(e,"documentMutations")}function r7(e){return tr(e,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new ou(0)}static bn(){return new ou(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cEe{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.Pn(t).next(n=>{const r=new ou(n.highestTargetId);return n.highestTargetId=r.next(),this.Vn(t,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Pn(t).next(n=>Ve.fromTimestamp(new hn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Pn(t).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(t,n,r){return this.Pn(t).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Vn(t,i)))}addTargetData(t,n){return this.Sn(t,n).next(()=>this.Pn(t).next(r=>(r.targetCount+=1,this.Dn(n,r),this.Vn(t,r))))}updateTargetData(t,n){return this.Sn(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next(()=>Iu(t).delete(n.targetId)).next(()=>this.Pn(t)).next(r=>(je(r.targetCount>0),r.targetCount-=1,this.Vn(t,r)))}removeTargets(t,n,r){let i=0;const o=[];return Iu(t).Z((s,a)=>{const l=$d(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(t,l)))}).next(()=>ee.waitFor(o)).next(()=>i)}forEachTarget(t,n){return Iu(t).Z((r,i)=>{const o=$d(i);n(o)})}Pn(t){return sL(t).get("targetGlobalKey").next(n=>(je(n!==null),n))}Vn(t,n){return sL(t).put("targetGlobalKey",n)}Sn(t,n){return Iu(t).put(Xq(this.serializer,n))}Dn(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.Pn(t).next(n=>n.targetCount)}getTargetData(t,n){const r=nu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Iu(t).Z({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=$d(a);Wp(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(t,n,r){const i=[],o=Js(t);return n.forEach(s=>{const a=Mr(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(t,r,s))}),ee.waitFor(i)}removeMatchingKeys(t,n,r){const i=Js(t);return ee.forEach(n,o=>{const s=Mr(o.path);return ee.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(t,r,o)])})}removeMatchingKeysForTargetId(t,n){const r=Js(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Js(t);let o=ct();return i.Z({range:r,Y:!0},(s,a,l)=>{const u=No(s[1]),c=new Se(u);o=o.add(c)}).next(()=>o)}containsKey(t,n){const r=Mr(n.path),i=IDBKeyRange.bound([r],[QH(r)],!1,!0);let o=0;return Js(t).Z({index:"documentTargetsIndex",Y:!0,range:i},([s,a],l,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ne(t,n){return Iu(t).get(n).next(r=>r?$d(r):null)}}function Iu(e){return tr(e,"targets")}function sL(e){return tr(e,"targetGlobal")}function Js(e){return tr(e,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL([e,t],[n,r]){const i=ot(e,n);return i===0?ot(t,r):i}class fEe{constructor(t){this.Cn=t,this.buffer=new Bt(aL),this.xn=0}Nn(){return++this.xn}kn(t){const n=[t,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aL(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dEe{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return this.On!==null}$n(t){fe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await qa(n)}await this.$n(3e5)})}}class hEe{constructor(t,n){this.Mn=t,this.params=n}calculateTargetCount(t,n){return this.Mn.Fn(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return ee.resolve(ti.ct);const r=new fEe(n);return this.Mn.forEachTarget(t,i=>r.kn(i.sequenceNumber)).next(()=>this.Mn.Bn(t,i=>r.kn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Mn.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Mn.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(oL)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oL):this.Ln(t,n))}getCacheSize(t){return this.Mn.getCacheSize(t)}Ln(t,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(t,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),WE()<=Et.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pEe{constructor(t,n){this.db=t,this.garbageCollector=function(r,i){return new hEe(r,i)}(this,n)}Fn(t){const n=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}qn(t){let n=0;return this.Bn(t,r=>{n++}).next(()=>n)}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}Bn(t,n){return this.Un(t,(r,i)=>n(i))}addReference(t,n,r){return og(t,r)}removeReference(t,n,r){return og(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return og(t,n)}Kn(t,n){return function(r,i){let o=!1;return r7(r).X(s=>n7(r,s,i).next(a=>(a&&(o=!0),ee.resolve(!a)))).next(()=>o)}(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Un(t,(s,a)=>{if(a<=n){const l=this.Kn(t,s).next(u=>{if(!u)return o++,r.getEntry(t,s).next(()=>(r.removeEntry(s,Ve.min()),Js(t).delete([0,Mr(s.path)])))});i.push(l)}}).next(()=>ee.waitFor(i)).next(()=>r.apply(t)).next(()=>o)}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return og(t,n)}Un(t,n){const r=Js(t);let i,o=ti.ct;return r.Z({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{s===0?(o!==ti.ct&&n(new Se(No(i)),o),o=u,i=l):o=ti.ct}).next(()=>{o!==ti.ct&&n(new Se(No(i)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function og(e,t){return Js(e).put(function(n,r){return{targetId:0,path:Mr(n.path),sequenceNumber:r}}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.changes=new Ka(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,wn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mEe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return el(t).put(r)}removeEntry(t,n,r){return el(t).delete(function(i,o){const s=i.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],z0(o),s[s.length-1]]}(n,r))}updateMetadata(t,n){return this.getMetadata(t).next(r=>(r.byteSize+=n,this.Gn(t,r)))}getEntry(t,n){let r=wn.newInvalidDocument(n);return el(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(od(n))},(i,o)=>{r=this.Qn(n,o)}).next(()=>r)}zn(t,n){let r={size:0,document:wn.newInvalidDocument(n)};return el(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(od(n))},(i,o)=>{r={document:this.Qn(n,o),size:V0(o)}}).next(()=>r)}getEntries(t,n){let r=pi();return this.jn(t,n,(i,o)=>{const s=this.Qn(i,o);r=r.insert(i,s)}).next(()=>r)}Wn(t,n){let r=pi(),i=new bn(Se.comparator);return this.jn(t,n,(o,s)=>{const a=this.Qn(o,s);r=r.insert(o,a),i=i.insert(o,V0(s))}).next(()=>({documents:r,Hn:i}))}jn(t,n,r){if(n.isEmpty())return ee.resolve();let i=new Bt(cL);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(od(i.first()),od(i.last())),s=i.getIterator();let a=s.getNext();return el(t).Z({index:"documentKeyIndex",range:o},(l,u,c)=>{const f=Se.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&cL(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?c.G(od(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,n,r,i){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),z0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(t).j(IDBKeyRange.bound(s,a,!0)).next(l=>{let u=pi();for(const c of l){const f=this.Qn(Se.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);f.isFoundDocument()&&(Gp(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(t,n,r,i){let o=pi();const s=uL(n,r),a=uL(n,Ei.max());return el(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,c)=>{const f=this.Qn(Se.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(t){return new gEe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(n=>n.byteSize)}getMetadata(t){return lL(t).get("remoteDocumentGlobalKey").next(n=>(je(!!n),n))}Gn(t,n){return lL(t).put("remoteDocumentGlobalKey",n)}Qn(t,n){if(n){const r=eEe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ve.min())))return r}return wn.newInvalidDocument(t)}}function o7(e){return new mEe(e)}class gEe extends i7{constructor(t,n){super(),this.Jn=t,this.trackRemovals=n,this.Yn=new Ka(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const n=[];let r=0,i=new Bt((o,s)=>ot(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.Yn.get(o);if(n.push(this.Jn.removeEntry(t,o,a.readTime)),s.isValidDocument()){const l=YM(this.Jn.serializer,s);i=i.add(o.path.popLast());const u=V0(l);r+=u-a.size,n.push(this.Jn.addEntry(t,o,l))}else if(r-=a.size,this.trackRemovals){const l=YM(this.Jn.serializer,s.convertToNoDocument(Ve.min()));n.push(this.Jn.addEntry(t,o,l))}}),i.forEach(o=>{n.push(this.Jn.indexManager.addToCollectionParentIndex(t,o))}),n.push(this.Jn.updateMetadata(t,r)),ee.waitFor(n)}getFromCache(t,n){return this.Jn.zn(t,n).next(r=>(this.Yn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,n){return this.Jn.Wn(t,n).next(({documents:r,Hn:i})=>(i.forEach((o,s)=>{this.Yn.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function lL(e){return tr(e,"remoteDocumentGlobal")}function el(e){return tr(e,"remoteDocumentsV14")}function od(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uL(e,t){const n=t.documentKey.path.toArray();return[e,z0(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function cL(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ot(n[o],r[o]),i)return i;return i=ot(n.length,r.length),i||(i=ot(n[n.length-2],r[r.length-2]),i||ot(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yEe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&th(r.mutation,i,ni.empty(),hn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ct()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ct()){const i=Ro();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Sd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Ro();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ct()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=pi();const s=eh(),a=eh();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ns)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),th(c.mutation,u,c.mutation.getFieldMask(),hn.now())):s.set(u.key,ni.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new yEe(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=eh();let i=new bn((s,a)=>s-a),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ni.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ct()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Pq();c.forEach(d=>{if(!o.has(d)){const h=Rq(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):bq(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):ee.resolve(Ro());let a=-1,l=o;return s.next(u=>ee.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?ee.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,ct())).next(c=>({batchId:a,changes:Oq(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Se(n)).next(r=>{let i=Sd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let o=Sd();return this.indexManager.getCollectionParents(t,i).next(s=>ee.forEach(s,a=>{const l=function(u,c){return new Kp(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,f)=>{o=o.insert(c,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,wn.newInvalidDocument(u)))});let s=Sd();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&th(u.mutation,l,ni.empty(),hn.now()),Gp(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vEe{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return ee.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Lr(r.createTime)}),ee.resolve()}getNamedQuery(t,n){return ee.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:Jq(r.bundledQuery),readTime:Lr(r.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wEe{constructor(){this.overlays=new bn(Se.comparator),this.ts=new Map}getOverlay(t,n){return ee.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ro();return ee.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.re(t,n,o)}),ee.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ts.delete(r)),ee.resolve()}getOverlaysForCollection(t,n,r){const i=Ro(),o=n.length+1,s=new Se(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new bn((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ro(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ro(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ee.resolve(a)}re(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yI(n,r));let o=this.ts.get(n);o===void 0&&(o=ct(),this.ts.set(n,o)),this.ts.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.es=new Bt(Kn.ns),this.ss=new Bt(Kn.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,n){const r=new Kn(t,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.us(new Kn(t,n))}cs(t,n){t.forEach(r=>this.removeReference(r,n))}hs(t){const n=new Se(new Nt([])),r=new Kn(n,t),i=new Kn(n,t+1),o=[];return this.ss.forEachInRange([r,i],s=>{this.us(s),o.push(s.key)}),o}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const n=new Se(new Nt([])),r=new Kn(n,t),i=new Kn(n,t+1);let o=ct();return this.ss.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Kn(t,0),r=this.es.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Kn{constructor(t,n){this.key=t,this.ds=n}static ns(t,n){return Se.comparator(t.key,n.key)||ot(t.ds,n.ds)}static rs(t,n){return ot(t.ds,n.ds)||Se.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Ee{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Bt(Kn.ns)}checkEmpty(t){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new mI(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this._s=this._s.add(new Kn(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(t,n){return ee.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ys(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),o=[];return this._s.forEachInRange([r,i],s=>{const a=this.gs(s.ds);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Bt(ot);return n.forEach(i=>{const o=new Kn(i,0),s=new Kn(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([o,s],a=>{r=r.add(a.ds)})}),ee.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;Se.isDocumentKey(o)||(o=o.child(""));const s=new Kn(new Se(o),0);let a=new Bt(ot);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},s),ee.resolve(this.ps(a))}ps(t){const n=[];return t.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){je(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return ee.forEach(n.mutations,i=>{const o=new Kn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this._s=r})}En(t){}containsKey(t,n){const r=new Kn(n,0),i=this._s.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ee.resolve()}Is(t,n){return this.ys(t)}ys(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}gs(t){const n=this.ys(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bEe{constructor(t){this.Ts=t,this.docs=new bn(Se.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(t,n){let r=pi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=pi();const s=n.path,a=new Se(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||fI(ZH(c),r)<=0||(i.has(c.key)||Gp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Ie()}Es(t,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new SEe(this)}getSize(t){return ee.resolve(this.size)}}class SEe extends i7{constructor(t){super(),this.Jn=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(t,i)):this.Jn.removeEntry(r)}),ee.waitFor(n)}getFromCache(t,n){return this.Jn.getEntry(t,n)}getAllFromCache(t,n){return this.Jn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Ee{constructor(t){this.persistence=t,this.As=new Ka(n=>nu(n),Wp),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Rs=0,this.vs=new SI,this.targetCount=0,this.bs=ou.vn()}forEachTarget(t,n){return this.As.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(t){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ee.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),ee.resolve()}Sn(t){this.As.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new ou(n),this.highestTargetId=n),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,n){return this.Sn(n),this.targetCount+=1,ee.resolve()}updateTargetData(t,n){return this.Sn(n),ee.resolve()}removeTargetData(t,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.As.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(t){return ee.resolve(this.targetCount)}getTargetData(t,n){const r=this.As.get(n)||null;return ee.resolve(r)}addMatchingKeys(t,n,r){return this.vs.os(n,r),ee.resolve()}removeMatchingKeys(t,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.vs.hs(n),ee.resolve()}getMatchingKeysForTargetId(t,n){const r=this.vs.fs(n);return ee.resolve(r)}containsKey(t,n){return ee.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(t,n){this.Ps={},this.overlays={},this.Vs=new ti(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new $Ee(this),this.indexManager=new lEe,this.remoteDocumentCache=function(r){return new bEe(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new Qq(n),this.xs=new vEe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wEe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Ps[t.toKey()];return r||(r=new _Ee(n,this.referenceDelegate),this.Ps[t.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,n,r){fe("MemoryPersistence","Starting transaction:",t);const i=new EEe(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(o=>this.referenceDelegate.ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Os(t,n){return ee.or(Object.values(this.Ps).map(r=>()=>r.containsKey(t,n)))}}class EEe extends tq{constructor(t){super(),this.currentSequenceNumber=t}}class nb{constructor(t){this.persistence=t,this.$s=new SI,this.Ms=null}static Fs(t){return new nb(t)}get Bs(){if(this.Ms)return this.Ms;throw Ie()}addReference(t,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),ee.resolve()}removeReference(t,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(t,n){return this.Bs.add(n.toString()),ee.resolve()}removeTarget(t,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Bs.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Ns(){this.Ms=new Set}ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Bs,r=>{const i=Se.fromPath(r);return this.Ls(t,i).next(o=>{o||n.removeEntry(i,Ve.min())})}).next(()=>(this.Ms=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ls(t,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(t){return 0}Ls(t,n){return ee.or([()=>ee.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Os(t,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xEe{constructor(t){this.serializer=t}M(t,n,r,i){const o=new W_("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(t),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CM,{unique:!0}),a.createObjectStore("documentMutations")}(t),fL(t),function(a){a.createObjectStore("remoteDocuments")}(t));let s=ee.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(t),fL(t)),s=s.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ve.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CM,{unique:!0});const c=l.store("mutations"),f=u.map(d=>c.put(d));return ee.waitFor(f)})}(t,o))),s=s.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),r<5&&i>=5&&(s=s.next(()=>this.qs(o))),r<6&&i>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(t),this.Us(o)))),r<7&&i>=7&&(s=s.next(()=>this.Ks(o))),r<8&&i>=8&&(s=s.next(()=>this.Gs(t,o))),r<9&&i>=9&&(s=s.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(t)})),r<10&&i>=10&&(s=s.next(()=>this.Qs(o))),r<11&&i>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(s=s.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:a$e});l.createIndex("collectionPathOverlayIndex",l$e,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",u$e,{unique:!1})})(t)})),r<13&&i>=13&&(s=s.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:QSe});l.createIndex("documentKeyIndex",XSe),l.createIndex("collectionGroupIndex",JSe)}(t)).next(()=>this.zs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.js(t,o))),r<15&&i>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:r$e}).createIndex("sequenceNumberIndex",i$e,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:o$e}).createIndex("documentKeyIndex",s$e,{unique:!1})}(t))),s}Us(t){let n=0;return t.store("remoteDocuments").Z((r,i)=>{n+=V0(i)}).next(()=>{const r={byteSize:n};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(t){const n=t.store("mutationQueues"),r=t.store("mutations");return n.j().next(i=>ee.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",s).next(a=>ee.forEach(a,l=>{je(l.userId===o.userId);const u=yl(this.serializer,l);return t7(t,o.userId,u).next(()=>{})}))}))}Ks(t){const n=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Z((s,a)=>{const l=new Nt(s),u=function(c){return[0,Mr(c)]}(l);o.push(n.get(u).next(c=>c?ee.resolve():(f=>n.put({targetId:0,path:Mr(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>ee.waitFor(o))})}Gs(t,n){t.createObjectStore("collectionParents",{keyPath:n$e});const r=n.store("collectionParents"),i=new bI,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:Mr(l)})}};return n.store("remoteDocuments").Z({Y:!0},(s,a)=>{const l=new Nt(s);return o(l.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([s,a,l],u)=>{const c=No(a);return o(c.popLast())}))}Qs(t){const n=t.store("targets");return n.Z((r,i)=>{const o=$d(i),s=Xq(this.serializer,o);return n.put(s)})}zs(t,n){const r=n.store("remoteDocuments"),i=[];return r.Z((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(u=s,u.document?new Se(Nt.fromString(u.document.name).popFirst(5)):u.noDocument?Se.fromSegments(u.noDocument.path):u.unknownDocument?Se.fromSegments(u.unknownDocument.path):Ie()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(c))}).next(()=>ee.waitFor(i))}js(t,n){const r=n.store("mutations"),i=o7(this.serializer),o=new a7(nb.Fs,this.serializer.se);return r.j().next(s=>{const a=new Map;return s.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:ct();yl(this.serializer,l).keys().forEach(f=>c=c.add(f)),a.set(l.userId,c)}),ee.forEach(a,(l,u)=>{const c=new $r(u),f=eb.ie(this.serializer,c),d=o.getIndexManager(c),h=tb.ie(c,this.serializer,d,o.referenceDelegate);return new s7(i,h,f,d).recalculateAndSaveOverlaysForDocumentKeys(new YE(n,ti.ct),l).next()})})}}function fL(e){e.createObjectStore("targetDocuments",{keyPath:e$e}).createIndex("documentTargetsIndex",t$e,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ZSe,{unique:!0}),e.createObjectStore("targetGlobal")}const pS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $I{constructor(t,n,r,i,o,s,a,l,u,c,f=15){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ws=o,this.window=s,this.document=a,this.Hs=u,this.Js=c,this.Ys=f,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=d=>Promise.resolve(),!$I.D())throw new we(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pEe(this,i),this.si=n+"main",this.serializer=new Qq(l),this.ii=new co(this.si,this.Ys,new xEe(this.serializer)),this.Ds=new cEe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=o7(this.serializer),this.xs=new tEe,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,c===!1&&Cn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(ae.FAILED_PRECONDITION,pS);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ds.getHighestSequenceNumber(t))}).then(t=>{this.Vs=new ti(t,this.Hs)}).then(()=>{this.Ss=!0}).catch(t=>(this.ii&&this.ii.close(),Promise.reject(t)))}hi(t){return this.ni=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.ii.B(async n=>{n.newVersion===null&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ws.enqueueAndForget(async()=>{this.started&&await this.oi()}))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>sg(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(t).next(n=>{n||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(t)).next(n=>this.isPrimary&&!n?this.di(t).next(()=>!1):!!n&&this.wi(t).next(()=>!0))).catch(t=>{if(Wa(t))return fe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ws.enqueueRetryable(()=>this.ni(t)),this.isPrimary=t})}li(t){return sd(t).get("owner").next(n=>ee.resolve(this._i(n)))}mi(t){return sg(t).delete(this.clientId)}async gi(){if(this.isPrimary&&!this.yi(this.ei,18e5)){this.ei=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=tr(n,"clientMetadata");return r.j().next(i=>{const o=this.pi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return ee.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.ri)for(const n of t)this.ri.removeItem(this.Ii(n.clientId))}}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(t){return!!t&&t.ownerId===this.clientId}fi(t){return this.Js?ee.resolve(!0):sd(t).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)){if(this._i(n)&&this.networkEnabled)return!0;if(!this._i(n)){if(!n.allowTabSynchronization)throw new we(ae.FAILED_PRECONDITION,pS);return!1}}return!(!this.networkEnabled||!this.inForeground)||sg(t).j().next(r=>this.pi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&fe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),await this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new YE(t,ti.ct);return this.di(n).next(()=>this.mi(n))}),this.ii.close(),this.vi()}pi(t,n){return t.filter(r=>this.yi(r.updateTimeMs,n)&&!this.Ti(r.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",t=>sg(t).j().next(n=>this.pi(n,18e5).map(r=>r.clientId)))}get started(){return this.Ss}getMutationQueue(t,n){return tb.ie(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new uEe(t,this.serializer.se.databaseId)}getDocumentOverlayCache(t){return eb.ie(this.serializer,t)}getBundleCache(){return this.xs}runTransaction(t,n,r){fe("IndexedDbPersistence","Starting transaction:",t);const i=n==="readonly"?"readonly":"readwrite",o=(s=this.Ys)===15?f$e:s===14?sq:s===13?oq:s===12?c$e:s===11?iq:void Ie();var s;let a;return this.ii.runTransaction(t,i,o,l=>(a=new YE(l,this.Vs?this.Vs.next():ti.ct),n==="readwrite-primary"?this.li(a).next(u=>!!u||this.fi(a)).next(u=>{if(!u)throw Cn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new we(ae.FAILED_PRECONDITION,eq);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Pi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Pi(t){return sd(t).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)&&!this._i(n)&&!(this.Js||this.allowTabSynchronization&&n.allowTabSynchronization))throw new we(ae.FAILED_PRECONDITION,pS)})}wi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sd(t).put("owner",n)}static D(){return co.D()}di(t){const n=sd(t);return n.get("owner").next(r=>this._i(r)?(fe("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ee.resolve())}yi(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(Cn(`Detected an update time that is in the future: ${t} > ${r}`),!1))}ui(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground=this.document.visibilityState==="visible")}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Zs=()=>{this.Ei();const n=/(?:Version|Mobile)\/1[456]/;fbe()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(t){var n;try{const r=((n=this.ri)===null||n===void 0?void 0:n.getItem(this.Ii(t)))!==null;return fe("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Cn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(t){Cn("Failed to set zombie client id.",t)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function sd(e){return tr(e,"owner")}function sg(e){return tr(e,"clientMetadata")}function EI(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}static Di(t,n){let r=ct(),i=ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xI(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.Ci=!1}initialize(t,n){this.xi=t,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ni(t,n).next(o=>o||this.ki(t,n,i,r)).next(o=>o||this.Oi(t,n))}Ni(t,n){if(FM(n))return ee.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nx(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=ct(...o);return this.xi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,s,l.readTime)?this.Ni(t,nx(n,null,"F")):this.Fi(t,u,n,l)}))})))}ki(t,n,r,i){return FM(n)||i.isEqual(Ve.min())?this.Oi(t,n):this.xi.getDocuments(t,r).next(o=>{const s=this.$i(n,o);return this.Mi(n,s,r,i)?this.Oi(t,n):(WE()<=Et.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rx(n)),this.Fi(t,s,n,JH(i,-1)))})}$i(t,n){let r=new Bt(Eq(t));return n.forEach((i,o)=>{Gp(t,o)&&(r=r.add(o))}),r}Mi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Oi(t,n){return WE()<=Et.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",rx(n)),this.xi.getDocumentsMatchingQuery(t,n,Ei.min())}Fi(t,n,r,i){return this.xi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OEe{constructor(t,n,r,i){this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new bn(ot),this.qi=new Ka(o=>nu(o),Wp),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s7(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Li))}}function u7(e,t,n,r){return new OEe(e,t,n,r)}async function c7(e,t){const n=Te(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Gi(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ct();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:s,addedBatchIds:a}))})})}function PEe(e,t){const n=Te(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.Ki.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const c=l.batch,f=c.keys();let d=ee.resolve();return f.forEach(h=>{d=d.next(()=>u.getEntry(a,h)).next(p=>{const g=l.docVersions.get(h);je(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),d.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=ct();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function f7(e){const t=Te(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ds.getLastRemoteSnapshotVersion(n))}function CEe(e,t){const n=Te(e),r=t.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ds.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ds.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.has(f)?h=h.withResumeToken(Zn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,h,c)&&a.push(n.Ds.updateTargetData(o,h))});let l=pi(),u=ct();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(IEe(o,s,t.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(Ve.min())){const c=n.Ds.getLastRemoteSnapshotVersion(o).next(f=>n.Ds.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Li=i,o))}function IEe(e,t,n){let r=ct(),i=ct();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=pi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ve.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:s,ji:i}})}function kEe(e,t){const n=Te(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function B0(e,t){const n=Te(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,t).next(o=>o?(i=o,ee.resolve(i)):n.Ds.allocateTargetId(r).next(s=>(i=new Sa(t,s,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(t,r.targetId)),r})}async function Qc(e,t,n){const r=Te(e),i=r.Li.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Wa(s))throw s;fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.Li=r.Li.remove(t),r.qi.delete(i.target)}function cx(e,t,n){const r=Te(e);let i=Ve.min(),o=ct();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const c=Te(a),f=c.qi.get(u);return f!==void 0?ee.resolve(c.Li.get(f)):c.Ds.getTargetData(l,u)}(r,s,Yi(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(s,t,n?i:Ve.min(),n?o:ct())).next(a=>(p7(r,$q(t),a),{documents:a,Wi:o})))}function d7(e,t){const n=Te(e),r=Te(n.Ds),i=n.Li.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ne(o,t).next(s=>s?s.target:null))}function h7(e,t){const n=Te(e),r=n.Ui.get(t)||Ve.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ki.getAllFromCollectionGroup(i,t,JH(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(p7(n,t,i),i))}function p7(e,t,n){let r=e.Ui.get(t)||Ve.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Ui.set(t,r)}function dL(e,t){return`firestore_clients_${e}_${t}`}function hL(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function mS(e,t){return`firestore_targets_${e}_${t}`}class U0{constructor(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}static Zi(t,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new we(i.error.code,i.error.message))),s?new U0(t,n,i.state,o):(Cn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class nh{constructor(t,n,r){this.targetId=t,this.state=n,this.error=r}static Zi(t,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new we(r.error.code,r.error.message))),o?new nh(t,r.state,i):(Cn("SharedClientState",`Failed to parse target state for ID '${t}': ${n}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class H0{constructor(t,n){this.clientId=t,this.activeTargetIds=n}static Zi(t,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Q_();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=nq(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new H0(t,o):(Cn("SharedClientState",`Failed to parse client data for instance '${t}': ${n}`),null)}}class OI{constructor(t,n){this.clientId=t,this.onlineState=n}static Zi(t){const n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new OI(n.clientId,n.onlineState):(Cn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class fx{constructor(){this.activeTargetIds=Q_()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gS{constructor(t,n,r,i,o){this.window=t,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new bn(ot),this.started=!1,this.ur=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.cr=dL(this.persistenceKey,this.nr),this.ar=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new fx),this.hr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this._r=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.bi();for(const r of t){if(r===this.nr)continue;const i=this.getItem(dL(this.persistenceKey,r));if(i){const o=H0.Zi(r,i);o&&(this.rr=this.rr.insert(o.clientId,o))}}this.mr();const n=this.storage.getItem(this.wr);if(n){const r=this.gr(n);r&&this.yr(r)}for(const r of this.ur)this.ir(r);this.ur=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(t){let n=!1;return this.rr.forEach((r,i)=>{i.activeTargetIds.has(t)&&(n=!0)}),n}addPendingMutation(t){this.Ir(t,"pending")}updateMutationState(t,n,r){this.Ir(t,n,r),this.Tr(t)}addLocalQueryTarget(t){let n="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(mS(this.persistenceKey,t));if(r){const i=nh.Zi(t,r);i&&(n=i.state)}}return this.Er.tr(t),this.mr(),n}removeLocalQueryTarget(t){this.Er.er(t),this.mr()}isLocalQueryTarget(t){return this.Er.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(mS(this.persistenceKey,t))}updateQueryState(t,n,r){this.Ar(t,n,r)}handleUserChange(t,n,r){n.forEach(i=>{this.Tr(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.Rr(t)}notifyBundleLoaded(t){this.vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(t){const n=this.storage.getItem(t);return fe("SharedClientState","READ",t,n),n}setItem(t,n){fe("SharedClientState","SET",t,n),this.storage.setItem(t,n)}removeItem(t){fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ir(t){const n=t;if(n.storageArea===this.storage){if(fe("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void Cn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.hr.test(n.key)){if(n.newValue==null){const r=this.br(n.key);return this.Pr(r,null)}{const r=this.Vr(n.key,n.newValue);if(r)return this.Pr(r.clientId,r)}}else if(this.lr.test(n.key)){if(n.newValue!==null){const r=this.Sr(n.key,n.newValue);if(r)return this.Dr(r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Cr(n.key,n.newValue);if(r)return this.Nr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.gr(n.newValue);if(r)return this.yr(r)}}else if(n.key===this.ar){const r=function(i){let o=ti.ct;if(i!=null)try{const s=JSON.parse(i);je(typeof s=="number"),o=s}catch(s){Cn("SharedClientState","Failed to read sequence number from WebStorage",s)}return o}(n.newValue);r!==ti.ct&&this.sequenceNumberHandler(r)}else if(n.key===this._r){const r=this.kr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Or(i)))}}}else this.ur.push(n)})}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(t,n,r){const i=new U0(this.currentUser,t,n,r),o=hL(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Xi())}Tr(t){const n=hL(this.persistenceKey,this.currentUser,t);this.removeItem(n)}Rr(t){const n={clientId:this.nr,onlineState:t};this.storage.setItem(this.wr,JSON.stringify(n))}Ar(t,n,r){const i=mS(this.persistenceKey,t),o=new nh(t,n,r);this.setItem(i,o.Xi())}vr(t){const n=JSON.stringify(Array.from(t));this.setItem(this._r,n)}br(t){const n=this.hr.exec(t);return n?n[1]:null}Vr(t,n){const r=this.br(t);return H0.Zi(r,n)}Sr(t,n){const r=this.lr.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return U0.Zi(new $r(o),i,n)}Cr(t,n){const r=this.dr.exec(t),i=Number(r[1]);return nh.Zi(i,n)}gr(t){return OI.Zi(t)}kr(t){return JSON.parse(t)}async Dr(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.$r(t.batchId,t.state,t.error);fe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}Nr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}Pr(t,n){const r=n?this.rr.insert(t,n):this.rr.remove(t),i=this.pr(this.rr),o=this.pr(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Fr(s,a).then(()=>{this.rr=r})}yr(t){this.rr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}pr(t){let n=Q_();return t.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class m7{constructor(){this.Br=new fx,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,n,r){this.Lr[t]=n}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new fx,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TEe{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag=null;function yS(){return ag===null?ag=268435456+Math.round(2147483648*Math.random()):ag++,"0x"+ag.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NEe{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="WebChannelConnection";class REe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,n,r,i,o){const s=yS(),a=this.ao(t,n);fe("RestConnection",`Sending RPC '${t}' ${s}:`,a,r);const l={};return this.ho(l,i,o),this.lo(t,a,l,r).then(u=>(fe("RestConnection",`Received RPC '${t}' ${s}: `,u),u),u=>{throw KE("RestConnection",`RPC '${t}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}fo(t,n,r,i,o,s){return this.co(t,n,r,i,o)}ho(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+bf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}ao(t,n){const r=AEe[t];return`${this.ro}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,n,r,i){const o=yS();return new Promise((s,a)=>{const l=new NSe;l.setWithCredentials(!0),l.listenOnce(kSe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dS.NO_ERROR:const c=l.getResponseJson();fe(_r,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case dS.TIMEOUT:fe(_r,`RPC '${t}' ${o} timed out`),a(new we(ae.DEADLINE_EXCEEDED,"Request time out"));break;case dS.HTTP_ERROR:const f=l.getStatus();if(fe(_r,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(v)>=0?v:ae.UNKNOWN}(h.status);a(new we(p,h.message))}else a(new we(ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new we(ae.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{fe(_r,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);fe(_r,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=yS(),o=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=CSe(),a=ISe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new ASe({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");fe(_r,`Creating RPC '${t}' stream ${i}: ${u}`,l);const c=s.createWebChannel(u,l);let f=!1,d=!1;const h=new NEe({Wr:g=>{d?fe(_r,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(f||(fe(_r,`Opening RPC '${t}' stream ${i} transport.`),c.open(),f=!0),fe(_r,`RPC '${t}' stream ${i} sending:`,g),c.send(g))},Hr:()=>c.close()}),p=(g,v,m)=>{g.listen(v,y=>{try{m(y)}catch(w){setTimeout(()=>{throw w},0)}})};return p(c,eg.EventType.OPEN,()=>{d||fe(_r,`RPC '${t}' stream ${i} transport opened.`)}),p(c,eg.EventType.CLOSE,()=>{d||(d=!0,fe(_r,`RPC '${t}' stream ${i} transport closed`),h.so())}),p(c,eg.EventType.ERROR,g=>{d||(d=!0,KE(_r,`RPC '${t}' stream ${i} transport errored:`,g),h.so(new we(ae.UNAVAILABLE,"The operation could not be completed")))}),p(c,eg.EventType.MESSAGE,g=>{var v;if(!d){const m=g.data[0];je(!!m);const y=m,w=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(w){fe(_r,`RPC '${t}' stream ${i} received error:`,w);const b=w.status;let $=function(E){const C=kn[E];if(C!==void 0)return Lq(C)}(b),_=w.message;$===void 0&&($=ae.INTERNAL,_="Unknown error status: "+b+" with message "+w.message),d=!0,h.so(new we($,_)),c.close()}else fe(_r,`RPC '${t}' stream ${i} received:`,m),h.io(m)}}),p(a,TSe.STAT_EVENT,g=>{g.stat===EM.PROXY?fe(_r,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===EM.NOPROXY&&fe(_r,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.no()},0),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(){return typeof window<"u"?window:null}function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(e){return new H$e(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=o,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(t,n,r,i,o,s,a,l){this.Ws=t,this.bo=r,this.Po=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new y7(t,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(t,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,t!==4?this.Co.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Cn(n.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{t(()=>{const i=new we(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(t,n){const r=this.Uo(this.Vo);this.stream=this.Qo(t,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(t){return fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===t?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DEe extends v7{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}Qo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Co.reset();const n=K$e(this.serializer,t),r=function(i){if(!("targetChange"in i))return Ve.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?Lr(o.readTime):Ve.min()}(t);return this.listener.zo(n,r)}jo(t){const n={};n.database=ox(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;return s=D0(a)?{documents:Hq(i,a)}:{query:qq(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=Fq(i,o.resumeToken):o.snapshotVersion.compareTo(Ve.min())>0&&(s.readTime=Yc(i,o.snapshotVersion.toTimestamp())),s}(this.serializer,t);const r=Y$e(this.serializer,t);r&&(n.labels=r),this.Fo(n)}Wo(t){const n={};n.database=ox(this.serializer),n.removeTarget=t,this.Fo(n)}}class MEe extends v7{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const n=G$e(t.writeResults,t.commitTime),r=Lr(t.commitTime);return this.listener.Zo(r,n)}return je(!t.writeResults||t.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=ox(this.serializer),this.Fo(t)}Yo(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>j0(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LEe extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.co(t,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(ae.UNKNOWN,i.toString())})}fo(t,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.fo(t,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ae.UNKNOWN,o.toString())})}terminate(){this.eu=!0}}class jEe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,t==="Online"&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Cn(n),this.ru=!1):fe("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zEe{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=o,this._u.qr(s=>{r.enqueueAndForget(async()=>{vu(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Te(a);l.du.add(4),await $f(l),l.mu.set("Unknown"),l.du.delete(4),await Xp(l)}(this))})}),this.mu=new jEe(r,i)}}async function Xp(e){if(vu(e))for(const t of e.wu)await t(!0)}async function $f(e){for(const t of e.wu)await t(!1)}function ib(e,t){const n=Te(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),II(n)?CI(n):xf(n).No()&&PI(n,t))}function Jh(e,t){const n=Te(e),r=xf(n);n.fu.delete(t),r.No()&&w7(n,t),n.fu.size===0&&(r.No()?r.$o():vu(n)&&n.mu.set("Unknown"))}function PI(e,t){e.gu.Ot(t.targetId),xf(e).jo(t)}function w7(e,t){e.gu.Ot(t),xf(e).Wo(t)}function CI(e){e.gu=new F$e({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.fu.get(t)||null}),xf(e).start(),e.mu.ou()}function II(e){return vu(e)&&!xf(e).xo()&&e.fu.size>0}function vu(e){return Te(e).du.size===0}function _7(e){e.gu=void 0}async function FEe(e){e.fu.forEach((t,n)=>{PI(e,t)})}async function VEe(e,t){_7(e),II(e)?(e.mu.au(t),CI(e)):e.mu.set("Unknown")}async function BEe(e,t,n){if(e.mu.set("Online"),t instanceof zq&&t.state===2&&t.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.fu.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.fu.delete(s),r.gu.removeTarget(s))}(e,t)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await q0(e,r)}else if(t instanceof Yg?e.gu.Kt(t):t instanceof jq?e.gu.Jt(t):e.gu.zt(t),!n.isEqual(Ve.min()))try{const r=await f7(e.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.gu.Xt(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(Zn.EMPTY_BYTE_STRING,l.snapshotVersion)),w7(i,a);const u=new Sa(l.target,a,1,l.sequenceNumber);PI(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(e,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await q0(e,r)}}async function q0(e,t,n){if(!Wa(t))throw t;e.du.add(1),await $f(e),e.mu.set("Offline"),n||(n=()=>f7(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),e.du.delete(1),await Xp(e)})}function b7(e,t){return t().catch(n=>q0(e,n,t))}async function Ef(e){const t=Te(e),n=Ma(t);let r=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;UEe(t);)try{const i=await kEe(t.localStore,r);if(i===null){t.lu.length===0&&n.$o();break}r=i.batchId,HEe(t,i)}catch(i){await q0(t,i)}S7(t)&&$7(t)}function UEe(e){return vu(e)&&e.lu.length<10}function HEe(e,t){e.lu.push(t);const n=Ma(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function S7(e){return vu(e)&&!Ma(e).xo()&&e.lu.length>0}function $7(e){Ma(e).start()}async function qEe(e){Ma(e).tu()}async function WEe(e){const t=Ma(e);for(const n of e.lu)t.Yo(n.mutations)}async function KEe(e,t,n){const r=e.lu.shift(),i=gI.from(r,t,n);await b7(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ef(e)}async function GEe(e,t){t&&Ma(e).Jo&&await async function(n,r){if(i=r.code,z$e(i)&&i!==ae.ABORTED){const o=n.lu.shift();Ma(n).Oo(),await b7(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ef(n)}var i}(e,t),S7(e)&&$7(e)}async function mL(e,t){const n=Te(e);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=vu(n);n.du.add(3),await $f(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.du.delete(3),await Xp(n)}async function dx(e,t){const n=Te(e);t?(n.du.delete(2),await Xp(n)):t||(n.du.add(2),await $f(n),n.mu.set("Unknown"))}function xf(e){return e.yu||(e.yu=function(t,n,r){const i=Te(t);return i.nu(),new DEe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:FEe.bind(null,e),Zr:VEe.bind(null,e),zo:BEe.bind(null,e)}),e.wu.push(async t=>{t?(e.yu.Oo(),II(e)?CI(e):e.mu.set("Unknown")):(await e.yu.stop(),_7(e))})),e.yu}function Ma(e){return e.pu||(e.pu=function(t,n,r){const i=Te(t);return i.nu(),new MEe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Jr:qEe.bind(null,e),Zr:GEe.bind(null,e),Xo:WEe.bind(null,e),Zo:KEe.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Oo(),await Ef(e)):(await e.pu.stop(),e.lu.length>0&&(fe("RemoteStore",`Stopping write stream with ${e.lu.length} pending writes`),e.lu=[]))})),e.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new kI(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TI(e,t){if(Cn("AsyncQueue",`${t}: ${e}`),Wa(e))return new we(ae.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Sd(),this.sortedSet=new bn(this.comparator)}static emptySet(t){return new vc(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof vc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new vc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.Iu=new bn(Se.comparator)}track(t){const n=t.doc.key,r=this.Iu.get(n);r?t.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,t):t.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Iu=this.Iu.remove(n):t.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):Ie():this.Iu=this.Iu.insert(n,t)}Tu(){const t=[];return this.Iu.inorderTraversal((n,r)=>{t.push(r)}),t}}class Xc{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Xc(t,n,vc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Y_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YEe{constructor(){this.Eu=void 0,this.listeners=[]}}class QEe{constructor(){this.queries=new Ka(t=>Sq(t),Y_),this.onlineState="Unknown",this.Au=new Set}}async function E7(e,t){const n=Te(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new YEe),i)try{o.Eu=await n.onListen(r)}catch(s){const a=TI(s,`Initialization of query '${rx(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,o),o.listeners.push(t),t.Ru(n.onlineState),o.Eu&&t.vu(o.Eu)&&AI(n)}async function x7(e,t){const n=Te(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function XEe(e,t){const n=Te(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.vu(i)&&(r=!0);s.Eu=i}}r&&AI(n)}function JEe(e,t,n){const r=Te(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function AI(e){e.Au.forEach(t=>{t.next()})}class O7{constructor(t,n,r){this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Xc(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),n=!0):this.Du(t,this.onlineState)&&(this.Cu(t),n=!0),this.Vu=t,n}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),n=!0),n}Du(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Su(t){if(t.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(t){t=Xc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(t){this.key=t}}class C7{constructor(t){this.key=t}}class ZEe{constructor(t,n){this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ct(),this.mutatedKeys=ct(),this.Ku=Eq(t),this.Gu=new vc(this.Ku)}get Qu(){return this.Lu}zu(t,n){const r=n?n.ju:new gL,i=n?n.Gu:this.Gu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=Gp(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.Wu(d,h)||(r.track({type:2,doc:h}),v=!0,(l&&this.Ku(h,l)>0||u&&this.Ku(h,u)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(a=!0)),v&&(h?(s=s.add(h),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Gu:s,ju:r,Mi:a,mutatedKeys:o}}Wu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const o=t.ju.Tu();o.sort((u,c)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return h(f)-h(d)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const s=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,o.length!==0||l?{snapshot:new Xc(this.query,t.Gu,i,o,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:s}:{Yu:s}}Ru(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new gL,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=ct(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return t.forEach(r=>{this.Uu.has(r)||n.push(new C7(r))}),this.Uu.forEach(r=>{t.has(r)||n.push(new P7(r))}),n}Xu(t){this.Lu=t.Wi,this.Uu=ct();const n=this.zu(t.documents);return this.applyChanges(n,!0)}tc(){return Xc.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class exe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class txe{constructor(t){this.key=t,this.ec=!1}}class nxe{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nc={},this.sc=new Ka(a=>Sq(a),Y_),this.ic=new Map,this.rc=new Set,this.oc=new bn(Se.comparator),this.uc=new Map,this.cc=new SI,this.ac={},this.hc=new Map,this.lc=ou.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function rxe(e,t){const n=LI(e);let r,i;const o=n.sc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.tc();else{const s=await B0(n.localStore,Yi(t));n.isPrimaryClient&&ib(n.remoteStore,s);const a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await NI(n,t,r,a==="current",s.resumeToken)}return i}async function NI(e,t,n,r,i){e.dc=(f,d,h)=>async function(p,g,v,m){let y=g.view.zu(v);y.Mi&&(y=await cx(p.localStore,g.query,!1).then(({documents:$})=>g.view.zu($,y)));const w=m&&m.targetChanges.get(g.targetId),b=g.view.applyChanges(y,p.isPrimaryClient,w);return hx(p,g.targetId,b.Yu),b.snapshot}(e,f,d,h);const o=await cx(e.localStore,t,!0),s=new ZEe(t,o.Wi),a=s.zu(o.documents),l=Qp.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);hx(e,n,u.Yu);const c=new exe(t,n,s);return e.sc.set(t,c),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),u.snapshot}async function ixe(e,t){const n=Te(e),r=n.sc.get(t),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(o=>!Y_(o,t))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Jh(n.remoteStore,r.targetId),Jc(n,r.targetId)}).catch(qa)):(Jc(n,r.targetId),await Qc(n.localStore,r.targetId,!0))}async function oxe(e,t,n){const r=jI(e);try{const i=await function(o,s){const a=Te(o),l=hn.now(),u=s.reduce((d,h)=>d.add(h.key),ct());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=pi(),p=ct();return a.Ki.getEntries(d,u).next(g=>{h=g,h.forEach((v,m)=>{m.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,h)).next(g=>{c=g;const v=[];for(const m of s){const y=L$e(m,c.get(m.key).overlayedDocument);y!=null&&v.push(new Ns(m.key,y,fq(y.value.mapValue),cr.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,v,s)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:Oq(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.ac[o.currentUser.toKey()];l||(l=new bn(ot)),l=l.insert(s,a),o.ac[o.currentUser.toKey()]=l}(r,i.batchId,n),await Ga(r,i.changes),await Ef(r.remoteStore)}catch(i){const o=TI(i,"Failed to persist write");n.reject(o)}}async function I7(e,t){const n=Te(e);try{const r=await CEe(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.uc.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ec=!0:i.modifiedDocuments.size>0?je(s.ec):i.removedDocuments.size>0&&(je(s.ec),s.ec=!1))}),await Ga(n,r,t)}catch(r){await qa(r)}}function yL(e,t,n){const r=Te(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((o,s)=>{const a=s.view.Ru(t);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Te(o);a.onlineState=s;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.Ru(s)&&(l=!0)}),l&&AI(a)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sxe(e,t,n){const r=Te(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.uc.get(t),o=i&&i.key;if(o){let s=new bn(Se.comparator);s=s.insert(o,wn.newNoDocument(o,Ve.min()));const a=ct().add(o),l=new Yp(Ve.min(),new Map,new Bt(ot),s,a);await I7(r,l),r.oc=r.oc.remove(o),r.uc.delete(t),MI(r)}else await Qc(r.localStore,t,!1).then(()=>Jc(r,t,n)).catch(qa)}async function axe(e,t){const n=Te(e),r=t.batch.batchId;try{const i=await PEe(n.localStore,t);DI(n,r,null),RI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ga(n,i)}catch(i){await qa(i)}}async function lxe(e,t,n){const r=Te(e);try{const i=await function(o,s){const a=Te(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>(je(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);DI(r,t,n),RI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ga(r,i)}catch(i){await qa(i)}}function RI(e,t){(e.hc.get(t)||[]).forEach(n=>{n.resolve()}),e.hc.delete(t)}function DI(e,t,n){const r=Te(e);let i=r.ac[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Jc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ic.get(t))e.sc.delete(r),n&&e.nc.wc(r,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(r=>{e.cc.containsKey(r)||k7(e,r)})}function k7(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);n!==null&&(Jh(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),MI(e))}function hx(e,t,n){for(const r of n)r instanceof P7?(e.cc.addReference(r.key,t),uxe(e,r)):r instanceof C7?(fe("SyncEngine","Document no longer in limbo: "+r.key),e.cc.removeReference(r.key,t),e.cc.containsKey(r.key)||k7(e,r.key)):Ie()}function uxe(e,t){const n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(fe("SyncEngine","New document in limbo: "+n),e.rc.add(r),MI(e))}function MI(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new Se(Nt.fromString(t)),r=e.lc.next();e.uc.set(r,new txe(n)),e.oc=e.oc.insert(n,r),ib(e.remoteStore,new Sa(Yi(G_(n.path)),r,2,ti.ct))}}async function Ga(e,t,n){const r=Te(e),i=[],o=[],s=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{s.push(r.dc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=xI.Di(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.nc.zo(i),await async function(a,l){const u=Te(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>ee.forEach(l,f=>ee.forEach(f.Vi,d=>u.persistence.referenceDelegate.addReference(c,f.targetId,d)).next(()=>ee.forEach(f.Si,d=>u.persistence.referenceDelegate.removeReference(c,f.targetId,d)))))}catch(c){if(!Wa(c))throw c;fe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const d=u.Li.get(f),h=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(h);u.Li=u.Li.insert(f,p)}}}(r.localStore,o))}async function cxe(e,t){const n=Te(e);if(!n.currentUser.isEqual(t)){fe("SyncEngine","User change. New user:",t.toKey());const r=await c7(n.localStore,t);n.currentUser=t,function(i,o){i.hc.forEach(s=>{s.forEach(a=>{a.reject(new we(ae.CANCELLED,o))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ga(n,r.Qi)}}function fxe(e,t){const n=Te(e),r=n.uc.get(t);if(r&&r.ec)return ct().add(r.key);{let i=ct();const o=n.ic.get(t);if(!o)return i;for(const s of o){const a=n.sc.get(s);i=i.unionWith(a.view.Qu)}return i}}async function dxe(e,t){const n=Te(e),r=await cx(n.localStore,t.query,!0),i=t.view.Xu(r);return n.isPrimaryClient&&hx(n,t.targetId,i.Yu),i}async function hxe(e,t){const n=Te(e);return h7(n.localStore,t).then(r=>Ga(n,r))}async function pxe(e,t,n,r){const i=Te(e),o=await function(s,a){const l=Te(s),u=Te(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.In(c,a).next(f=>f?l.localDocuments.getDocuments(c,f):ee.resolve(null)))}(i.localStore,t);o!==null?(n==="pending"?await Ef(i.remoteStore):n==="acknowledged"||n==="rejected"?(DI(i,t,r||null),RI(i,t),function(s,a){Te(Te(s).mutationQueue).En(a)}(i.localStore,t)):Ie(),await Ga(i,o)):fe("SyncEngine","Cannot apply mutation batch with id: "+t)}async function mxe(e,t){const n=Te(e);if(LI(n),jI(n),t===!0&&n.fc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await vL(n,r.toArray());n.fc=!0,await dx(n.remoteStore,!0);for(const o of i)ib(n.remoteStore,o)}else if(t===!1&&n.fc!==!1){const r=[];let i=Promise.resolve();n.ic.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Jc(n,s),Qc(n.localStore,s,!0))),Jh(n.remoteStore,s)}),await i,await vL(n,r),function(o){const s=Te(o);s.uc.forEach((a,l)=>{Jh(s.remoteStore,l)}),s.cc.ls(),s.uc=new Map,s.oc=new bn(Se.comparator)}(n),n.fc=!1,await dx(n.remoteStore,!1)}}async function vL(e,t,n){const r=Te(e),i=[],o=[];for(const s of t){let a;const l=r.ic.get(s);if(l&&l.length!==0){a=await B0(r.localStore,Yi(l[0]));for(const u of l){const c=r.sc.get(u),f=await dxe(r,c);f.snapshot&&o.push(f.snapshot)}}else{const u=await d7(r.localStore,s);a=await B0(r.localStore,u),await NI(r,T7(u),s,!1,a.resumeToken)}i.push(a)}return r.nc.zo(o),i}function T7(e){return wq(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function gxe(e){const t=Te(e);return Te(Te(t.localStore).persistence).bi()}async function yxe(e,t,n,r){const i=Te(e);if(i.fc)return void fe("SyncEngine","Ignoring unexpected query state notification.");const o=i.ic.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await h7(i.localStore,$q(o[0])),a=Yp.createSynthesizedRemoteEventForCurrentChange(t,n==="current",Zn.EMPTY_BYTE_STRING);await Ga(i,s,a);break}case"rejected":await Qc(i.localStore,t,!0),Jc(i,t,r);break;default:Ie()}}async function vxe(e,t,n){const r=LI(e);if(r.fc){for(const i of t){if(r.ic.has(i)){fe("SyncEngine","Adding an already active target "+i);continue}const o=await d7(r.localStore,i),s=await B0(r.localStore,o);await NI(r,T7(o),s.targetId,!1,s.resumeToken),ib(r.remoteStore,s)}for(const i of n)r.ic.has(i)&&await Qc(r.localStore,i,!1).then(()=>{Jh(r.remoteStore,i),Jc(r,i)}).catch(qa)}}function LI(e){const t=Te(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=I7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fxe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sxe.bind(null,t),t.nc.zo=XEe.bind(null,t.eventManager),t.nc.wc=JEe.bind(null,t.eventManager),t}function jI(e){const t=Te(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=axe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lxe.bind(null,t),t}class px{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=rb(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return u7(this.persistence,new l7,t.initialUser,this.serializer)}createPersistence(t){return new a7(nb.Fs,this.serializer)}createSharedClientState(t){return new m7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class A7 extends px{constructor(t,n,r){super(),this.mc=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.mc.initialize(this,t),await jI(this.mc.syncEngine),await Ef(this.mc.remoteStore),await this.persistence.hi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(t){return u7(this.persistence,new l7,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new dEe(r,t.asyncQueue,n)}createIndexBackfillerScheduler(t,n){const r=new KSe(n,this.persistence);return new WSe(t.asyncQueue,r)}createPersistence(t){const n=EI(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new $I(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,g7(),Qg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new m7}}class wxe extends A7{constructor(t,n){super(t,n,!1),this.mc=t,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const n=this.mc.syncEngine;this.sharedClientState instanceof gS&&(this.sharedClientState.syncEngine={$r:pxe.bind(null,n),Mr:yxe.bind(null,n),Fr:vxe.bind(null,n),bi:gxe.bind(null,n),Or:hxe.bind(null,n)},await this.sharedClientState.start()),await this.persistence.hi(async r=>{await mxe(this.mc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(t){const n=g7();if(!gS.D(n))throw new we(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=EI(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new gS(n,t.asyncQueue,r,t.clientId,t.initialUser)}}class zI{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yL(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cxe.bind(null,this.syncEngine),await dx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new QEe}createDatastore(t){const n=rb(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new REe(i));var i;return function(o,s,a,l){return new LEe(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=a=>yL(this.syncEngine,a,0),s=pL.D()?new pL:new TEe,new zEe(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(t,n){return function(r,i,o,s,a,l,u){const c=new nxe(r,i,o,s,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Te(t);fe("RemoteStore","RemoteStore shutting down."),n.du.add(5),await $f(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Cn("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _xe{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$r.UNAUTHENTICATED,this.clientId=YH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=TI(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function vS(e,t){e.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await c7(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function wL(e,t){e.asyncQueue.verifyOperationInProgress();const n=await R7(e);fe("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>mL(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>mL(t.remoteStore,o)),e._onlineComponents=t}function bxe(e){return e.name==="FirebaseError"?e.code===ae.FAILED_PRECONDITION||e.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function R7(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await vS(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bxe(n))throw n;KE("Error using user provided cache. Falling back to memory cache: "+n),await vS(e,new px)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await vS(e,new px);return e._offlineComponents}async function FI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await wL(e,e._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await wL(e,new zI))),e._onlineComponents}function D7(e){return R7(e).then(t=>t.persistence)}function M7(e){return FI(e).then(t=>t.remoteStore)}function Sxe(e){return FI(e).then(t=>t.syncEngine)}async function L7(e){const t=await FI(e),n=t.eventManager;return n.onListen=rxe.bind(null,t.syncEngine),n.onUnlisten=ixe.bind(null,t.syncEngine),n}function $xe(e){return e.asyncQueue.enqueue(async()=>{const t=await D7(e),n=await M7(e);return t.setNetworkEnabled(!0),function(r){const i=Te(r);return i.du.delete(0),Xp(i)}(n)})}function Exe(e){return e.asyncQueue.enqueue(async()=>{const t=await D7(e),n=await M7(e);return t.setNetworkEnabled(!1),async function(r){const i=Te(r);i.du.add(0),await $f(i),i.mu.set("Offline")}(n)})}function xxe(e,t,n={}){const r=new mo;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new N7({next:f=>{o.enqueueAndForget(()=>x7(i,c));const d=f.docs.has(s);!d&&f.fromCache?l.reject(new we(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&a&&a.source==="server"?l.reject(new we(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new O7(G_(s.path),u,{includeMetadataChanges:!0,xu:!0});return E7(i,c)}(await L7(e),e.asyncQueue,t,n,r)),r.promise}function Oxe(e,t,n={}){const r=new mo;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new N7({next:f=>{o.enqueueAndForget(()=>x7(i,c)),f.fromCache&&a.source==="server"?l.reject(new we(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new O7(s,u,{includeMetadataChanges:!0,xu:!0});return E7(i,c)}(await L7(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(e,t,n){if(!n)throw new we(ae.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Pxe(e,t,n,r){if(t===!0&&r===!0)throw new we(ae.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function bL(e){if(!Se.isDocumentKey(e))throw new we(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function SL(e){if(Se.isDocumentKey(e))throw new we(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ob(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ie()}function vo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new we(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ob(e);throw new we(ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new we(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Pxe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $L({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $L(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new DSe;switch(n.type){case"firstParty":return new jSe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=_L.get(t);n&&(fe("ComponentProvider","Removing Datastore"),_L.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jr(this.firestore,t,this._key)}}class Of{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Of(this.firestore,t,this._query)}}class $a extends Of{constructor(t,n,r){super(t,n,G_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jr(this.firestore,null,new Se(t))}withConverter(t){return new $a(this.firestore,t,this._path)}}function BI(e,t,...n){if(e=Xn(e),j7("collection","path",t),e instanceof VI){const r=Nt.fromString(t,...n);return SL(r),new $a(e,null,r)}{if(!(e instanceof jr||e instanceof $a))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return SL(r),new $a(e.firestore,null,r)}}function go(e,t,...n){if(e=Xn(e),arguments.length===1&&(t=YH.A()),j7("doc","path",t),e instanceof VI){const r=Nt.fromString(t,...n);return bL(r),new jr(e,null,new Se(r))}{if(!(e instanceof jr||e instanceof $a))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return bL(r),new jr(e.firestore,e instanceof $a?e.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cxe{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new y7(this,"async_queue_retry"),this.qc=()=>{const n=Qg();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=Qg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=Qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new mo;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!Wa(t))throw t;fe("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Cn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(t,n,r){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const i=kI.createAndSchedule(this,t,n,r,o=>this.Qc(o));return this.$c.push(i),i}Uc(){this.Mc&&Ie()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ixe=-1;class Ya extends VI{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Cxe,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||z7(this),this._firestoreClient.terminate()}}function kxe(e,t,n){n||(n="(default)");const r=yf(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Lh(o,t))return i;throw new we(ae.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new we(ae.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Pf(e){return e._firestoreClient||z7(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function z7(e){var t,n,r;const i=e._freezeSettings(),o=function(s,a,l,u){return new p$e(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new _xe(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Txe(e){if(e._initialized&&!e._terminated)throw new we(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new mo;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!co.D())return Promise.resolve();const r=n+"main";await co.delete(r)}(EI(e._databaseId,e._persistenceKey)),t.resolve()}catch(n){t.reject(n)}}),t.promise}function Axe(e){return $xe(Pf(e=vo(e,Ya)))}function Nxe(e){return Exe(Pf(e=vo(e,Ya)))}function Rxe(e){return _1e(e.app,"firestore",e._databaseId.database),e._delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zc(Zn.fromBase64String(t))}catch(n){throw new we(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Zc(Zn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new we(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new we(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new we(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ot(this._lat,t._lat)||ot(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dxe=/^__.*__$/;class Mxe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ns(t,this.data,this.fieldMask,n,this.fieldTransforms):new Sf(t,this.data,n,this.fieldTransforms)}}class F7{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ns(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function V7(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class qI{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Jc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new qI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.ea(t),i}na(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return W0(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(t.length===0)throw this.ia("Document fields must not be empty");if(V7(this.Yc)&&Dxe.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class Lxe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||rb(t)}ua(t,n,r,i=!1){return new qI({Yc:t,methodName:n,oa:r,path:Dn.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sb(e){const t=e._freezeSettings(),n=rb(e._databaseId);return new Lxe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function B7(e,t,n,r,i,o={}){const s=e.ua(o.merge||o.mergeFields?2:0,t,n,i);WI("Data must be an object, but it was:",s,r);const a=q7(r,s);let l,u;if(o.merge)l=new ni(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=mx(t,f,n);if(!s.contains(d))throw new we(ae.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);K7(c,d)||c.push(d)}l=new ni(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Mxe(new xr(a),l,u)}class ab extends UI{_toFieldTransform(t){if(t.Yc!==2)throw t.Yc===1?t.ia(`${this._methodName}() can only appear at the top level of your update data`):t.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ab}}function U7(e,t,n,r){const i=e.ua(1,t,n);WI("Data must be an object, but it was:",i,r);const o=[],s=xr.empty();yu(r,(l,u)=>{const c=KI(t,l,n);u=Xn(u);const f=i.na(c);if(u instanceof ab)o.push(c);else{const d=Zp(u,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new ni(o);return new F7(s,a,i.fieldTransforms)}function H7(e,t,n,r,i,o){const s=e.ua(1,t,n),a=[mx(t,r,n)],l=[i];if(o.length%2!=0)throw new we(ae.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(mx(t,o[d])),l.push(o[d+1]);const u=[],c=xr.empty();for(let d=a.length-1;d>=0;--d)if(!K7(u,a[d])){const h=a[d];let p=l[d];p=Xn(p);const g=s.na(h);if(p instanceof ab)u.push(h);else{const v=Zp(p,g);v!=null&&(u.push(h),c.set(h,v))}}const f=new ni(u);return new F7(c,f,s.fieldTransforms)}function jxe(e,t,n,r=!1){return Zp(n,e.ua(r?4:3,t))}function Zp(e,t){if(W7(e=Xn(e)))return WI("Unsupported field value:",t,e),q7(e,t);if(e instanceof UI)return function(n,r){if(!V7(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&t.Yc!==4)throw t.ia("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Zp(s,r.sa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Xn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return k$e(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=hn.fromDate(n);return{timestampValue:Yc(r.serializer,i)}}if(n instanceof hn){const i=new hn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yc(r.serializer,i)}}if(n instanceof HI)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zc)return{bytesValue:Fq(r.serializer,n._byteString)};if(n instanceof jr){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.ia(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${ob(n)}`)}(e,t)}function q7(e,t){const n={};return aq(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yu(e,(r,i)=>{const o=Zp(i,t.Xc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function W7(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof hn||e instanceof HI||e instanceof Zc||e instanceof jr||e instanceof UI)}function WI(e,t,n){if(!W7(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ob(n);throw r==="an object"?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function mx(e,t,n){if((t=Xn(t))instanceof Jp)return t._internalPath;if(typeof t=="string")return KI(e,t);throw W0("Field path arguments must be of type string or ",e,!1,void 0,n)}const zxe=new RegExp("[~\\*/\\[\\]]");function KI(e,t,n){if(t.search(zxe)>=0)throw W0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jp(...t.split("."))._internalPath}catch{throw W0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function W0(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new we(ae.INVALID_ARGUMENT,a+e+l)}function K7(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Fxe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(GI("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fxe extends G7{data(){return super.data()}}function GI(e,t){return typeof t=="string"?KI(e,t):t instanceof Jp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vxe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new we(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YI{}class Bxe extends YI{}function Y7(e,t,...n){let r=[];t instanceof YI&&r.push(t),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof QI).length,s=i.filter(a=>a instanceof lb).length;if(o>1||o>0&&s>0)throw new we(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class lb extends Bxe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new lb(t,n,r)}_apply(t){const n=this._parse(t);return Q7(t._query,n),new Of(t.firestore,t.converter,tx(t._query,n))}_parse(t){const n=sb(t.firestore);return function(i,o,s,a,l,u,c){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new we(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){xL(c,u);const d=[];for(const h of c)d.push(EL(a,i,h));f={arrayValue:{values:d}}}else f=EL(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||xL(c,u),f=jxe(s,o,c,u==="in"||u==="not-in");return mt.create(l,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Uxe(e,t,n){const r=t,i=GI("where",e);return lb._create(i,r,n)}class QI extends YI{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new QI(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mt.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)Q7(o,a),o=tx(o,a)}(t._query,n),new Of(t.firestore,t.converter,tx(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function EL(e,t,n){if(typeof(n=Xn(n))=="string"){if(n==="")throw new we(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bq(t)&&n.indexOf("/")!==-1)throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Nt.fromString(n));if(!Se.isDocumentKey(r))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gh(e,new Se(r))}if(n instanceof jr)return Gh(e,n._key);throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ob(n)}.`)}function xL(e,t){if(!Array.isArray(e)||e.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Q7(e,t){if(t.isInequality()){const r=pI(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new we(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=_q(e);o!==null&&Hxe(e,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Hxe(e,t,n){if(!n.isEqual(t))throw new we(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class qxe{convertValue(t,n="none"){switch(tu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Zl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Ie()}}convertObject(t,n){const r={};return yu(t.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new HI(yn(t.latitude),yn(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=uq(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wh(t));default:return null}}convertTimestamp(t){const n=Ra(t);return new hn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Nt.fromString(t);je(Yq(r));const i=new eu(r.get(1),r.get(3)),o=new Se(r.popFirst(5));return i.isEqual(n)||Cn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class J7 extends G7{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(GI("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xg extends J7{data(t={}){return super.data(t)}}class Wxe{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ed(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Xg(this._firestore,this._userDataWriter,r.key,r,new Ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Xg(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ed(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Xg(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ed(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:Kxe(s.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kxe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(e){e=vo(e,jr);const t=vo(e.firestore,Ya);return xxe(Pf(t),e._key).then(n=>Yxe(t,e,n))}class Z7 extends qxe{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new jr(this.firestore,null,n)}}function eW(e){e=vo(e,Of);const t=vo(e.firestore,Ya),n=Pf(t),r=new Z7(t);return Vxe(e._query),Oxe(n,e._query).then(i=>new Wxe(t,r,e,i))}function Gxe(e,t,n){e=vo(e,jr);const r=vo(e.firestore,Ya),i=X7(e.converter,t,n);return JI(r,[B7(sb(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,cr.none())])}function XI(e,t,n,...r){e=vo(e,jr);const i=vo(e.firestore,Ya),o=sb(i);let s;return s=typeof(t=Xn(t))=="string"||t instanceof Jp?H7(o,"updateDoc",e._key,t,n,r):U7(o,"updateDoc",e._key,t),JI(i,[s.toMutation(e._key,cr.exists(!0))])}function JI(e,t){return function(n,r){const i=new mo;return n.asyncQueue.enqueueAndForget(async()=>oxe(await Sxe(n),r,i)),i.promise}(Pf(e),t)}function Yxe(e,t,n){const r=n.docs.get(t._key),i=new Z7(e);return new J7(e,i,t._key,r,new Ed(n.hasPendingWrites,n.fromCache),t.converter)}class Qxe{constructor(t){let n;this.kind="persistent",t!=null&&t.tabManager?(t.tabManager._initialize(t),n=t.tabManager):(n=eOe(void 0),n._initialize(t)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function Xxe(e){return new Qxe(e)}class Jxe{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=new zI,this._offlineComponentProvider=new A7(this._onlineComponentProvider,t==null?void 0:t.cacheSizeBytes,this.forceOwnership)}}class Zxe{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=new zI,this._offlineComponentProvider=new wxe(this._onlineComponentProvider,t==null?void 0:t.cacheSizeBytes)}}function eOe(e){return new Jxe(e==null?void 0:e.forceOwnership)}function tOe(){return new Zxe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nOe{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sb(t)}set(t,n,r){this._verifyNotCommitted();const i=wS(t,this._firestore),o=X7(i.converter,n,r),s=B7(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,cr.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const o=wS(t,this._firestore);let s;return s=typeof(n=Xn(n))=="string"||n instanceof Jp?H7(this._dataReader,"WriteBatch.update",o._key,n,r,i):U7(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,cr.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=wS(t,this._firestore);return this._mutations=this._mutations.concat(new Z_(n._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wS(e,t){if((e=Xn(e)).firestore!==t)throw new we(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(e){return Pf(e=vo(e,Ya)),new nOe(e,t=>JI(e,t))}(function(e,t=!0){(function(n){bf=n})(vf),Na(new $s("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Ya(new MSe(n.getProvider("auth-internal")),new FSe(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new we(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),ms(xM,"3.10.0",e),ms(xM,"3.10.0","esm2017")})();function lg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nW={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var f=typeof lg=="function"&&lg;if(!c&&f)return f(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var g=r[u][1][p];return s(g||p)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof lg=="function"&&lg,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,u=new s(p),c=o.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var f=new o.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var v=o.document.createElement("script");v.onreadystatechange=function(){p(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},o.document.documentElement.appendChild(v)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var v,m,y=h.length;y;){for(m=h,h=[],v=-1;++v<y;)m[v]();y=h.length}d=!1}r.exports=g;function g(v){h.push(v)===1&&!d&&a()}}).call(this,typeof ns<"u"?ns:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=f;function f($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,$!==s&&g(this,$)}f.prototype.catch=function($){return this.then(null,$)},f.prototype.then=function($,_){if(typeof $!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var E=new this.constructor(s);if(this.state!==c){var C=this.state===u?$:_;h(E,C,this.outcome)}else this.queue.push(new d(E,$,_));return E};function d($,_,E){this.promise=$,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function($){a.resolve(this.promise,$)},d.prototype.otherCallFulfilled=function($){h(this.promise,this.onFulfilled,$)},d.prototype.callRejected=function($){a.reject(this.promise,$)},d.prototype.otherCallRejected=function($){h(this.promise,this.onRejected,$)};function h($,_,E){o(function(){var C;try{C=_(E)}catch(N){return a.reject($,N)}C===$?a.reject($,new TypeError("Cannot resolve promise with itself")):a.resolve($,C)})}a.resolve=function($,_){var E=v(p,_);if(E.status==="error")return a.reject($,E.value);var C=E.value;if(C)g($,C);else{$.state=u,$.outcome=_;for(var N=-1,L=$.queue.length;++N<L;)$.queue[N].callFulfilled(_)}return $},a.reject=function($,_){$.state=l,$.outcome=_;for(var E=-1,C=$.queue.length;++E<C;)$.queue[E].callRejected(_);return $};function p($){var _=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof _=="function")return function(){_.apply($,arguments)}}function g($,_){var E=!1;function C(B){E||(E=!0,a.reject($,B))}function N(B){E||(E=!0,a.resolve($,B))}function L(){_(N,C)}var M=v(L);M.status==="error"&&C(M.value)}function v($,_){var E={};try{E.value=$(_),E.status="success"}catch(C){E.status="error",E.value=C}return E}f.resolve=m;function m($){return $ instanceof this?$:a.resolve(new this(s),$)}f.reject=y;function y($){var _=new this(s);return a.reject(_,$)}f.all=w;function w($){var _=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=$.length,C=!1;if(!E)return this.resolve([]);for(var N=new Array(E),L=0,M=-1,B=new this(s);++M<E;)F($[M],M);return B;function F(R,J){_.resolve(R).then(re,function(ie){C||(C=!0,a.reject(B,ie))});function re(ie){N[J]=ie,++L===E&&!C&&(C=!0,a.resolve(B,N))}}}f.race=b;function b($){var _=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=$.length,C=!1;if(!E)return this.resolve([]);for(var N=-1,L=new this(s);++N<E;)M($[N]);return L;function M(B){_.resolve(B).then(function(F){C||(C=!0,a.resolve(L,F))},function(F){C||(C=!0,a.reject(L,F))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof ns<"u"?ns:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function s(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var T=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),j=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!T||j)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(T,j){T=T||[],j=j||{};try{return new Blob(T,j)}catch(W){if(W.name!=="TypeError")throw W;for(var A=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,K=new A,Y=0;Y<T.length;Y+=1)K.append(T[Y]);return K.getBlob(j.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(T,j){j&&T.then(function(A){j(null,A)},function(A){j(A)})}function h(T,j,A){typeof j=="function"&&T.then(j),typeof A=="function"&&T.catch(A)}function p(T){return typeof T!="string"&&(console.warn(T+" used as a key, but it is not a string."),T=String(T)),T}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var v="local-forage-detect-blob-support",m=void 0,y={},w=Object.prototype.toString,b="readonly",$="readwrite";function _(T){for(var j=T.length,A=new ArrayBuffer(j),K=new Uint8Array(A),Y=0;Y<j;Y++)K[Y]=T.charCodeAt(Y);return A}function E(T){return new f(function(j){var A=T.transaction(v,$),K=c([""]);A.objectStore(v).put(K,"key"),A.onabort=function(Y){Y.preventDefault(),Y.stopPropagation(),j(!1)},A.oncomplete=function(){var Y=navigator.userAgent.match(/Chrome\/(\d+)/),W=navigator.userAgent.match(/Edge\//);j(W||!Y||parseInt(Y[1],10)>=43)}}).catch(function(){return!1})}function C(T){return typeof m=="boolean"?f.resolve(m):E(T).then(function(j){return m=j,m})}function N(T){var j=y[T.name],A={};A.promise=new f(function(K,Y){A.resolve=K,A.reject=Y}),j.deferredOperations.push(A),j.dbReady?j.dbReady=j.dbReady.then(function(){return A.promise}):j.dbReady=A.promise}function L(T){var j=y[T.name],A=j.deferredOperations.pop();if(A)return A.resolve(),A.promise}function M(T,j){var A=y[T.name],K=A.deferredOperations.pop();if(K)return K.reject(j),K.promise}function B(T,j){return new f(function(A,K){if(y[T.name]=y[T.name]||P(),T.db)if(j)N(T),T.db.close();else return A(T.db);var Y=[T.name];j&&Y.push(T.version);var W=l.open.apply(l,Y);j&&(W.onupgradeneeded=function(se){var de=W.result;try{de.createObjectStore(T.storeName),se.oldVersion<=1&&de.createObjectStore(v)}catch(ge){if(ge.name==="ConstraintError")console.warn('The database "'+T.name+'" has been upgraded from version '+se.oldVersion+" to version "+se.newVersion+', but the storage "'+T.storeName+'" already exists.');else throw ge}}),W.onerror=function(se){se.preventDefault(),K(W.error)},W.onsuccess=function(){var se=W.result;se.onversionchange=function(de){de.target.close()},A(se),L(T)}})}function F(T){return B(T,!1)}function R(T){return B(T,!0)}function J(T,j){if(!T.db)return!0;var A=!T.db.objectStoreNames.contains(T.storeName),K=T.version<T.db.version,Y=T.version>T.db.version;if(K&&(T.version!==j&&console.warn('The database "'+T.name+`" can't be downgraded from version `+T.db.version+" to version "+T.version+"."),T.version=T.db.version),Y||A){if(A){var W=T.db.version+1;W>T.version&&(T.version=W)}return!0}return!1}function re(T){return new f(function(j,A){var K=new FileReader;K.onerror=A,K.onloadend=function(Y){var W=btoa(Y.target.result||"");j({__local_forage_encoded_blob:!0,data:W,type:T.type})},K.readAsBinaryString(T)})}function ie(T){var j=_(atob(T.data));return c([j],{type:T.type})}function G(T){return T&&T.__local_forage_encoded_blob}function Q(T){var j=this,A=j._initReady().then(function(){var K=y[j._dbInfo.name];if(K&&K.dbReady)return K.dbReady});return h(A,T,T),A}function q(T){N(T);for(var j=y[T.name],A=j.forages,K=0;K<A.length;K++){var Y=A[K];Y._dbInfo.db&&(Y._dbInfo.db.close(),Y._dbInfo.db=null)}return T.db=null,F(T).then(function(W){return T.db=W,J(T)?R(T):W}).then(function(W){T.db=j.db=W;for(var se=0;se<A.length;se++)A[se]._dbInfo.db=W}).catch(function(W){throw M(T,W),W})}function O(T,j,A,K){K===void 0&&(K=1);try{var Y=T.db.transaction(T.storeName,j);A(null,Y)}catch(W){if(K>0&&(!T.db||W.name==="InvalidStateError"||W.name==="NotFoundError"))return f.resolve().then(function(){if(!T.db||W.name==="NotFoundError"&&!T.db.objectStoreNames.contains(T.storeName)&&T.version<=T.db.version)return T.db&&(T.version=T.db.version+1),R(T)}).then(function(){return q(T).then(function(){O(T,j,A,K-1)})}).catch(A);A(W)}}function P(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function z(T){var j=this,A={db:null};if(T)for(var K in T)A[K]=T[K];var Y=y[A.name];Y||(Y=P(),y[A.name]=Y),Y.forages.push(j),j._initReady||(j._initReady=j.ready,j.ready=Q);var W=[];function se(){return f.resolve()}for(var de=0;de<Y.forages.length;de++){var ge=Y.forages[de];ge!==j&&W.push(ge._initReady().catch(se))}var ye=Y.forages.slice(0);return f.all(W).then(function(){return A.db=Y.db,F(A)}).then(function(ve){return A.db=ve,J(A,j._defaultConfig.version)?R(A):ve}).then(function(ve){A.db=Y.db=ve,j._dbInfo=A;for(var Ae=0;Ae<ye.length;Ae++){var ft=ye[Ae];ft!==j&&(ft._dbInfo.db=A.db,ft._dbInfo.version=A.version)}})}function I(T,j){var A=this;T=p(T);var K=new f(function(Y,W){A.ready().then(function(){O(A._dbInfo,b,function(se,de){if(se)return W(se);try{var ge=de.objectStore(A._dbInfo.storeName),ye=ge.get(T);ye.onsuccess=function(){var ve=ye.result;ve===void 0&&(ve=null),G(ve)&&(ve=ie(ve)),Y(ve)},ye.onerror=function(){W(ye.error)}}catch(ve){W(ve)}})}).catch(W)});return d(K,j),K}function k(T,j){var A=this,K=new f(function(Y,W){A.ready().then(function(){O(A._dbInfo,b,function(se,de){if(se)return W(se);try{var ge=de.objectStore(A._dbInfo.storeName),ye=ge.openCursor(),ve=1;ye.onsuccess=function(){var Ae=ye.result;if(Ae){var ft=Ae.value;G(ft)&&(ft=ie(ft));var Tt=T(ft,Ae.key,ve++);Tt!==void 0?Y(Tt):Ae.continue()}else Y()},ye.onerror=function(){W(ye.error)}}catch(Ae){W(Ae)}})}).catch(W)});return d(K,j),K}function V(T,j,A){var K=this;T=p(T);var Y=new f(function(W,se){var de;K.ready().then(function(){return de=K._dbInfo,w.call(j)==="[object Blob]"?C(de.db).then(function(ge){return ge?j:re(j)}):j}).then(function(ge){O(K._dbInfo,$,function(ye,ve){if(ye)return se(ye);try{var Ae=ve.objectStore(K._dbInfo.storeName);ge===null&&(ge=void 0);var ft=Ae.put(ge,T);ve.oncomplete=function(){ge===void 0&&(ge=null),W(ge)},ve.onabort=ve.onerror=function(){var Tt=ft.error?ft.error:ft.transaction.error;se(Tt)}}catch(Tt){se(Tt)}})}).catch(se)});return d(Y,A),Y}function Z(T,j){var A=this;T=p(T);var K=new f(function(Y,W){A.ready().then(function(){O(A._dbInfo,$,function(se,de){if(se)return W(se);try{var ge=de.objectStore(A._dbInfo.storeName),ye=ge.delete(T);de.oncomplete=function(){Y()},de.onerror=function(){W(ye.error)},de.onabort=function(){var ve=ye.error?ye.error:ye.transaction.error;W(ve)}}catch(ve){W(ve)}})}).catch(W)});return d(K,j),K}function oe(T){var j=this,A=new f(function(K,Y){j.ready().then(function(){O(j._dbInfo,$,function(W,se){if(W)return Y(W);try{var de=se.objectStore(j._dbInfo.storeName),ge=de.clear();se.oncomplete=function(){K()},se.onabort=se.onerror=function(){var ye=ge.error?ge.error:ge.transaction.error;Y(ye)}}catch(ye){Y(ye)}})}).catch(Y)});return d(A,T),A}function be(T){var j=this,A=new f(function(K,Y){j.ready().then(function(){O(j._dbInfo,b,function(W,se){if(W)return Y(W);try{var de=se.objectStore(j._dbInfo.storeName),ge=de.count();ge.onsuccess=function(){K(ge.result)},ge.onerror=function(){Y(ge.error)}}catch(ye){Y(ye)}})}).catch(Y)});return d(A,T),A}function ce(T,j){var A=this,K=new f(function(Y,W){if(T<0){Y(null);return}A.ready().then(function(){O(A._dbInfo,b,function(se,de){if(se)return W(se);try{var ge=de.objectStore(A._dbInfo.storeName),ye=!1,ve=ge.openKeyCursor();ve.onsuccess=function(){var Ae=ve.result;if(!Ae){Y(null);return}T===0||ye?Y(Ae.key):(ye=!0,Ae.advance(T))},ve.onerror=function(){W(ve.error)}}catch(Ae){W(Ae)}})}).catch(W)});return d(K,j),K}function xe(T){var j=this,A=new f(function(K,Y){j.ready().then(function(){O(j._dbInfo,b,function(W,se){if(W)return Y(W);try{var de=se.objectStore(j._dbInfo.storeName),ge=de.openKeyCursor(),ye=[];ge.onsuccess=function(){var ve=ge.result;if(!ve){K(ye);return}ye.push(ve.key),ve.continue()},ge.onerror=function(){Y(ge.error)}}catch(ve){Y(ve)}})}).catch(Y)});return d(A,T),A}function Ue(T,j){j=g.apply(this,arguments);var A=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||A.name,T.storeName=T.storeName||A.storeName);var K=this,Y;if(!T.name)Y=f.reject("Invalid arguments");else{var W=T.name===A.name&&K._dbInfo.db,se=W?f.resolve(K._dbInfo.db):F(T).then(function(de){var ge=y[T.name],ye=ge.forages;ge.db=de;for(var ve=0;ve<ye.length;ve++)ye[ve]._dbInfo.db=de;return de});T.storeName?Y=se.then(function(de){if(de.objectStoreNames.contains(T.storeName)){var ge=de.version+1;N(T);var ye=y[T.name],ve=ye.forages;de.close();for(var Ae=0;Ae<ve.length;Ae++){var ft=ve[Ae];ft._dbInfo.db=null,ft._dbInfo.version=ge}var Tt=new f(function(Dt,In){var En=l.open(T.name,ge);En.onerror=function(Ni){var Lf=En.result;Lf.close(),In(Ni)},En.onupgradeneeded=function(){var Ni=En.result;Ni.deleteObjectStore(T.storeName)},En.onsuccess=function(){var Ni=En.result;Ni.close(),Dt(Ni)}});return Tt.then(function(Dt){ye.db=Dt;for(var In=0;In<ve.length;In++){var En=ve[In];En._dbInfo.db=Dt,L(En._dbInfo)}}).catch(function(Dt){throw(M(T,Dt)||f.resolve()).catch(function(){}),Dt})}}):Y=se.then(function(de){N(T);var ge=y[T.name],ye=ge.forages;de.close();for(var ve=0;ve<ye.length;ve++){var Ae=ye[ve];Ae._dbInfo.db=null}var ft=new f(function(Tt,Dt){var In=l.deleteDatabase(T.name);In.onerror=function(){var En=In.result;En&&En.close(),Dt(In.error)},In.onblocked=function(){console.warn('dropInstance blocked for database "'+T.name+'" until all open connections are closed')},In.onsuccess=function(){var En=In.result;En&&En.close(),Tt(En)}});return ft.then(function(Tt){ge.db=Tt;for(var Dt=0;Dt<ye.length;Dt++){var In=ye[Dt];L(In._dbInfo)}}).catch(function(Tt){throw(M(T,Tt)||f.resolve()).catch(function(){}),Tt})})}return d(Y,j),Y}var _t={_driver:"asyncStorage",_initStorage:z,_support:u(),iterate:k,getItem:I,setItem:V,removeItem:Z,clear:oe,length:be,key:ce,keys:xe,dropInstance:Ue};function Ft(){return typeof openDatabase=="function"}var Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Le="~~local_forage_type~",rt=/^~~local_forage_type~([^~]+)~/,Xe="__lfsc__:",nn=Xe.length,Kt="arbf",yt="blob",bt="si08",Ge="ui08",at="uic8",Ct="si16",Pt="si32",ln="ur16",X="ui32",ue="fl32",$e="fl64",ze=nn+Kt.length,_e=Object.prototype.toString;function Fe(T){var j=T.length*.75,A=T.length,K,Y=0,W,se,de,ge;T[T.length-1]==="="&&(j--,T[T.length-2]==="="&&j--);var ye=new ArrayBuffer(j),ve=new Uint8Array(ye);for(K=0;K<A;K+=4)W=Qe.indexOf(T[K]),se=Qe.indexOf(T[K+1]),de=Qe.indexOf(T[K+2]),ge=Qe.indexOf(T[K+3]),ve[Y++]=W<<2|se>>4,ve[Y++]=(se&15)<<4|de>>2,ve[Y++]=(de&3)<<6|ge&63;return ye}function Ee(T){var j=new Uint8Array(T),A="",K;for(K=0;K<j.length;K+=3)A+=Qe[j[K]>>2],A+=Qe[(j[K]&3)<<4|j[K+1]>>4],A+=Qe[(j[K+1]&15)<<2|j[K+2]>>6],A+=Qe[j[K+2]&63];return j.length%3===2?A=A.substring(0,A.length-1)+"=":j.length%3===1&&(A=A.substring(0,A.length-2)+"=="),A}function Me(T,j){var A="";if(T&&(A=_e.call(T)),T&&(A==="[object ArrayBuffer]"||T.buffer&&_e.call(T.buffer)==="[object ArrayBuffer]")){var K,Y=Xe;T instanceof ArrayBuffer?(K=T,Y+=Kt):(K=T.buffer,A==="[object Int8Array]"?Y+=bt:A==="[object Uint8Array]"?Y+=Ge:A==="[object Uint8ClampedArray]"?Y+=at:A==="[object Int16Array]"?Y+=Ct:A==="[object Uint16Array]"?Y+=ln:A==="[object Int32Array]"?Y+=Pt:A==="[object Uint32Array]"?Y+=X:A==="[object Float32Array]"?Y+=ue:A==="[object Float64Array]"?Y+=$e:j(new Error("Failed to get type for BinaryArray"))),j(Y+Ee(K))}else if(A==="[object Blob]"){var W=new FileReader;W.onload=function(){var se=Le+T.type+"~"+Ee(this.result);j(Xe+yt+se)},W.readAsArrayBuffer(T)}else try{j(JSON.stringify(T))}catch(se){console.error("Couldn't convert value into a JSON string: ",T),j(null,se)}}function un(T){if(T.substring(0,nn)!==Xe)return JSON.parse(T);var j=T.substring(ze),A=T.substring(nn,ze),K;if(A===yt&&rt.test(j)){var Y=j.match(rt);K=Y[1],j=j.substring(Y[0].length)}var W=Fe(j);switch(A){case Kt:return W;case yt:return c([W],{type:K});case bt:return new Int8Array(W);case Ge:return new Uint8Array(W);case at:return new Uint8ClampedArray(W);case Ct:return new Int16Array(W);case ln:return new Uint16Array(W);case Pt:return new Int32Array(W);case X:return new Uint32Array(W);case ue:return new Float32Array(W);case $e:return new Float64Array(W);default:throw new Error("Unkown type: "+A)}}var St={serialize:Me,deserialize:un,stringToBuffer:Fe,bufferToString:Ee};function it(T,j,A,K){T.executeSql("CREATE TABLE IF NOT EXISTS "+j.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],A,K)}function rn(T){var j=this,A={db:null};if(T)for(var K in T)A[K]=typeof T[K]!="string"?T[K].toString():T[K];var Y=new f(function(W,se){try{A.db=openDatabase(A.name,String(A.version),A.description,A.size)}catch(de){return se(de)}A.db.transaction(function(de){it(de,A,function(){j._dbInfo=A,W()},function(ge,ye){se(ye)})},se)});return A.serializer=St,Y}function Rt(T,j,A,K,Y,W){T.executeSql(A,K,Y,function(se,de){de.code===de.SYNTAX_ERR?se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[j.storeName],function(ge,ye){ye.rows.length?W(ge,de):it(ge,j,function(){ge.executeSql(A,K,Y,W)},W)},W):W(se,de)},W)}function Ds(T,j){var A=this;T=p(T);var K=new f(function(Y,W){A.ready().then(function(){var se=A._dbInfo;se.db.transaction(function(de){Rt(de,se,"SELECT * FROM "+se.storeName+" WHERE key = ? LIMIT 1",[T],function(ge,ye){var ve=ye.rows.length?ye.rows.item(0).value:null;ve&&(ve=se.serializer.deserialize(ve)),Y(ve)},function(ge,ye){W(ye)})})}).catch(W)});return d(K,j),K}function nr(T,j){var A=this,K=new f(function(Y,W){A.ready().then(function(){var se=A._dbInfo;se.db.transaction(function(de){Rt(de,se,"SELECT * FROM "+se.storeName,[],function(ge,ye){for(var ve=ye.rows,Ae=ve.length,ft=0;ft<Ae;ft++){var Tt=ve.item(ft),Dt=Tt.value;if(Dt&&(Dt=se.serializer.deserialize(Dt)),Dt=T(Dt,Tt.key,ft+1),Dt!==void 0){Y(Dt);return}}Y()},function(ge,ye){W(ye)})})}).catch(W)});return d(K,j),K}function Vr(T,j,A,K){var Y=this;T=p(T);var W=new f(function(se,de){Y.ready().then(function(){j===void 0&&(j=null);var ge=j,ye=Y._dbInfo;ye.serializer.serialize(j,function(ve,Ae){Ae?de(Ae):ye.db.transaction(function(ft){Rt(ft,ye,"INSERT OR REPLACE INTO "+ye.storeName+" (key, value) VALUES (?, ?)",[T,ve],function(){se(ge)},function(Tt,Dt){de(Dt)})},function(ft){if(ft.code===ft.QUOTA_ERR){if(K>0){se(Vr.apply(Y,[T,ge,A,K-1]));return}de(ft)}})})}).catch(de)});return d(W,A),W}function Br(T,j,A){return Vr.apply(this,[T,j,A,1])}function Hn(T,j){var A=this;T=p(T);var K=new f(function(Y,W){A.ready().then(function(){var se=A._dbInfo;se.db.transaction(function(de){Rt(de,se,"DELETE FROM "+se.storeName+" WHERE key = ?",[T],function(){Y()},function(ge,ye){W(ye)})})}).catch(W)});return d(K,j),K}function Sn(T){var j=this,A=new f(function(K,Y){j.ready().then(function(){var W=j._dbInfo;W.db.transaction(function(se){Rt(se,W,"DELETE FROM "+W.storeName,[],function(){K()},function(de,ge){Y(ge)})})}).catch(Y)});return d(A,T),A}function Gt(T){var j=this,A=new f(function(K,Y){j.ready().then(function(){var W=j._dbInfo;W.db.transaction(function(se){Rt(se,W,"SELECT COUNT(key) as c FROM "+W.storeName,[],function(de,ge){var ye=ge.rows.item(0).c;K(ye)},function(de,ge){Y(ge)})})}).catch(Y)});return d(A,T),A}function $t(T,j){var A=this,K=new f(function(Y,W){A.ready().then(function(){var se=A._dbInfo;se.db.transaction(function(de){Rt(de,se,"SELECT key FROM "+se.storeName+" WHERE id = ? LIMIT 1",[T+1],function(ge,ye){var ve=ye.rows.length?ye.rows.item(0).key:null;Y(ve)},function(ge,ye){W(ye)})})}).catch(W)});return d(K,j),K}function mr(T){var j=this,A=new f(function(K,Y){j.ready().then(function(){var W=j._dbInfo;W.db.transaction(function(se){Rt(se,W,"SELECT key FROM "+W.storeName,[],function(de,ge){for(var ye=[],ve=0;ve<ge.rows.length;ve++)ye.push(ge.rows.item(ve).key);K(ye)},function(de,ge){Y(ge)})})}).catch(Y)});return d(A,T),A}function ki(T){return new f(function(j,A){T.transaction(function(K){K.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Y,W){for(var se=[],de=0;de<W.rows.length;de++)se.push(W.rows.item(de).name);j({db:T,storeNames:se})},function(Y,W){A(W)})},function(K){A(K)})})}function qn(T,j){j=g.apply(this,arguments);var A=this.config();T=typeof T!="function"&&T||{},T.name||(T.name=T.name||A.name,T.storeName=T.storeName||A.storeName);var K=this,Y;return T.name?Y=new f(function(W){var se;T.name===A.name?se=K._dbInfo.db:se=openDatabase(T.name,"","",0),T.storeName?W({db:se,storeNames:[T.storeName]}):W(ki(se))}).then(function(W){return new f(function(se,de){W.db.transaction(function(ge){function ye(Tt){return new f(function(Dt,In){ge.executeSql("DROP TABLE IF EXISTS "+Tt,[],function(){Dt()},function(En,Ni){In(Ni)})})}for(var ve=[],Ae=0,ft=W.storeNames.length;Ae<ft;Ae++)ve.push(ye(W.storeNames[Ae]));f.all(ve).then(function(){se()}).catch(function(Tt){de(Tt)})},function(ge){de(ge)})})}):Y=f.reject("Invalid arguments"),d(Y,j),Y}var kr={_driver:"webSQLStorage",_initStorage:rn,_support:Ft(),iterate:nr,getItem:Ds,setItem:Br,removeItem:Hn,clear:Sn,length:Gt,key:$t,keys:mr,dropInstance:qn};function Ti(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function U(T,j){var A=T.name+"/";return T.storeName!==j.storeName&&(A+=T.storeName+"/"),A}function D(){var T="_localforage_support_test";try{return localStorage.setItem(T,!0),localStorage.removeItem(T),!1}catch{return!0}}function H(){return!D()||localStorage.length>0}function ne(T){var j=this,A={};if(T)for(var K in T)A[K]=T[K];return A.keyPrefix=U(T,j._defaultConfig),H()?(j._dbInfo=A,A.serializer=St,f.resolve()):f.reject()}function te(T){var j=this,A=j.ready().then(function(){for(var K=j._dbInfo.keyPrefix,Y=localStorage.length-1;Y>=0;Y--){var W=localStorage.key(Y);W.indexOf(K)===0&&localStorage.removeItem(W)}});return d(A,T),A}function Ce(T,j){var A=this;T=p(T);var K=A.ready().then(function(){var Y=A._dbInfo,W=localStorage.getItem(Y.keyPrefix+T);return W&&(W=Y.serializer.deserialize(W)),W});return d(K,j),K}function le(T,j){var A=this,K=A.ready().then(function(){for(var Y=A._dbInfo,W=Y.keyPrefix,se=W.length,de=localStorage.length,ge=1,ye=0;ye<de;ye++){var ve=localStorage.key(ye);if(ve.indexOf(W)===0){var Ae=localStorage.getItem(ve);if(Ae&&(Ae=Y.serializer.deserialize(Ae)),Ae=T(Ae,ve.substring(se),ge++),Ae!==void 0)return Ae}}});return d(K,j),K}function Pe(T,j){var A=this,K=A.ready().then(function(){var Y=A._dbInfo,W;try{W=localStorage.key(T)}catch{W=null}return W&&(W=W.substring(Y.keyPrefix.length)),W});return d(K,j),K}function Je(T){var j=this,A=j.ready().then(function(){for(var K=j._dbInfo,Y=localStorage.length,W=[],se=0;se<Y;se++){var de=localStorage.key(se);de.indexOf(K.keyPrefix)===0&&W.push(de.substring(K.keyPrefix.length))}return W});return d(A,T),A}function Re(T){var j=this,A=j.keys().then(function(K){return K.length});return d(A,T),A}function Ze(T,j){var A=this;T=p(T);var K=A.ready().then(function(){var Y=A._dbInfo;localStorage.removeItem(Y.keyPrefix+T)});return d(K,j),K}function lt(T,j,A){var K=this;T=p(T);var Y=K.ready().then(function(){j===void 0&&(j=null);var W=j;return new f(function(se,de){var ge=K._dbInfo;ge.serializer.serialize(j,function(ye,ve){if(ve)de(ve);else try{localStorage.setItem(ge.keyPrefix+T,ye),se(W)}catch(Ae){(Ae.name==="QuotaExceededError"||Ae.name==="NS_ERROR_DOM_QUOTA_REACHED")&&de(Ae),de(Ae)}})})});return d(Y,A),Y}function qt(T,j){if(j=g.apply(this,arguments),T=typeof T!="function"&&T||{},!T.name){var A=this.config();T.name=T.name||A.name,T.storeName=T.storeName||A.storeName}var K=this,Y;return T.name?Y=new f(function(W){T.storeName?W(U(T,K._defaultConfig)):W(T.name+"/")}).then(function(W){for(var se=localStorage.length-1;se>=0;se--){var de=localStorage.key(se);de.indexOf(W)===0&&localStorage.removeItem(de)}}):Y=f.reject("Invalid arguments"),d(Y,j),Y}var He={_driver:"localStorageWrapper",_initStorage:ne,_support:Ti(),iterate:le,getItem:Ce,setItem:lt,removeItem:Ze,clear:te,length:Re,key:Pe,keys:Je,dropInstance:qt},Vt=function(j,A){return j===A||typeof j=="number"&&typeof A=="number"&&isNaN(j)&&isNaN(A)},st=function(j,A){for(var K=j.length,Y=0;Y<K;){if(Vt(j[Y],A))return!0;Y++}return!1},kt=Array.isArray||function(T){return Object.prototype.toString.call(T)==="[object Array]"},Mn={},Tr={},Ln={INDEXEDDB:_t,WEBSQL:kr,LOCALSTORAGE:He},bo=[Ln.INDEXEDDB._driver,Ln.WEBSQL._driver,Ln.LOCALSTORAGE._driver],Ur=["dropInstance"],$n=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ur),ke={description:"",driver:bo.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function pt(T,j){T[j]=function(){var A=arguments;return T.ready().then(function(){return T[j].apply(T,A)})}}function cn(){for(var T=1;T<arguments.length;T++){var j=arguments[T];if(j)for(var A in j)j.hasOwnProperty(A)&&(kt(j[A])?arguments[0][A]=j[A].slice():arguments[0][A]=j[A])}return arguments[0]}var gr=function(){function T(j){s(this,T);for(var A in Ln)if(Ln.hasOwnProperty(A)){var K=Ln[A],Y=K._driver;this[A]=Y,Mn[Y]||this.defineDriver(K)}this._defaultConfig=cn({},ke),this._config=cn({},this._defaultConfig,j),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return T.prototype.config=function(A){if((typeof A>"u"?"undefined":o(A))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var K in A){if(K==="storeName"&&(A[K]=A[K].replace(/\W/g,"_")),K==="version"&&typeof A[K]!="number")return new Error("Database version must be a number.");this._config[K]=A[K]}return"driver"in A&&A.driver?this.setDriver(this._config.driver):!0}else return typeof A=="string"?this._config[A]:this._config},T.prototype.defineDriver=function(A,K,Y){var W=new f(function(se,de){try{var ge=A._driver,ye=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!A._driver){de(ye);return}for(var ve=$n.concat("_initStorage"),Ae=0,ft=ve.length;Ae<ft;Ae++){var Tt=ve[Ae],Dt=!st(Ur,Tt);if((Dt||A[Tt])&&typeof A[Tt]!="function"){de(ye);return}}var In=function(){for(var Lf=function($Y){return function(){var EY=new Error("Method "+$Y+" is not implemented by the current driver"),zk=f.reject(EY);return d(zk,arguments[arguments.length-1]),zk}},Lb=0,SY=Ur.length;Lb<SY;Lb++){var jb=Ur[Lb];A[jb]||(A[jb]=Lf(jb))}};In();var En=function(Lf){Mn[ge]&&console.info("Redefining LocalForage driver: "+ge),Mn[ge]=A,Tr[ge]=Lf,se()};"_support"in A?A._support&&typeof A._support=="function"?A._support().then(En,de):En(!!A._support):En(!0)}catch(Ni){de(Ni)}});return h(W,K,Y),W},T.prototype.driver=function(){return this._driver||null},T.prototype.getDriver=function(A,K,Y){var W=Mn[A]?f.resolve(Mn[A]):f.reject(new Error("Driver not found."));return h(W,K,Y),W},T.prototype.getSerializer=function(A){var K=f.resolve(St);return h(K,A),K},T.prototype.ready=function(A){var K=this,Y=K._driverSet.then(function(){return K._ready===null&&(K._ready=K._initDriver()),K._ready});return h(Y,A,A),Y},T.prototype.setDriver=function(A,K,Y){var W=this;kt(A)||(A=[A]);var se=this._getSupportedDrivers(A);function de(){W._config.driver=W.driver()}function ge(Ae){return W._extend(Ae),de(),W._ready=W._initStorage(W._config),W._ready}function ye(Ae){return function(){var ft=0;function Tt(){for(;ft<Ae.length;){var Dt=Ae[ft];return ft++,W._dbInfo=null,W._ready=null,W.getDriver(Dt).then(ge).catch(Tt)}de();var In=new Error("No available storage method found.");return W._driverSet=f.reject(In),W._driverSet}return Tt()}}var ve=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=ve.then(function(){var Ae=se[0];return W._dbInfo=null,W._ready=null,W.getDriver(Ae).then(function(ft){W._driver=ft._driver,de(),W._wrapLibraryMethodsWithReady(),W._initDriver=ye(se)})}).catch(function(){de();var Ae=new Error("No available storage method found.");return W._driverSet=f.reject(Ae),W._driverSet}),h(this._driverSet,K,Y),this._driverSet},T.prototype.supports=function(A){return!!Tr[A]},T.prototype._extend=function(A){cn(this,A)},T.prototype._getSupportedDrivers=function(A){for(var K=[],Y=0,W=A.length;Y<W;Y++){var se=A[Y];this.supports(se)&&K.push(se)}return K},T.prototype._wrapLibraryMethodsWithReady=function(){for(var A=0,K=$n.length;A<K;A++)pt(this,$n[A])},T.prototype.createInstance=function(A){return new T(A)},T}(),Ai=new gr;r.exports=Ai},{3:3}]},{},[4])(4)})})(nW);var rOe=nW.exports;const iOe=Wo(rOe),rW=S_({name:"flags",initialState:{showAdmin:!1,showHelpText:!1,trialRecord:{},trrackExists:!1,iframeAnswers:[]},reducers:{setTrrackExists:(e,t)=>{e.trrackExists=t.payload},toggleShowAdmin:e=>{e.showAdmin=!e.showAdmin},toggleShowHelpText:e=>{e.showHelpText=!e.showHelpText},setIframeAnswers:(e,t)=>{e.iframeAnswers=t.payload},updateResponseBlockValidation:(e,{payload:t})=>{if(t.trialId.length===0)return e;e.trialRecord[t.trialId]||(e.trialRecord[t.trialId]={valid:{aboveStimulus:!1,belowStimulus:!1,sidebar:!1},answers:{},provenanceGraph:null}),e.trialRecord[t.trialId].valid[t.location]=t.status;const n=e.trialRecord[t.trialId].answers;t.provenanceGraph!==void 0&&(e.trialRecord[t.trialId].provenanceGraph=t.provenanceGraph),e.trialRecord[t.trialId].answers={...n,...t.answers}}}}),{toggleShowAdmin:sBe,toggleShowHelpText:iW,setTrrackExists:oW,updateResponseBlockValidation:sW,setIframeAnswers:aW}=rW.actions,ZI=$C({reducer:rW.reducer}),ek=S.createContext({}),Cf=UU(ek),em=WU(ek);function oOe({trialId:e,status:t,provenanceGraph:n,answers:r}){ZI.dispatch(sW({location:"sidebar",trialId:e,status:t,provenanceGraph:n,answers:r}))}function sOe(e){return Cf(t=>{var r;if(e.length===0)return!0;const n=(r=t.trialRecord[e])==null?void 0:r.valid;return n?Object.values(n).every(i=>i):!1})}function aOe(e){return Cf(t=>{var r;if(e.length===0)return null;const n=(r=t.trialRecord[e])==null?void 0:r.answers;return n||null})}const gx="__active_session";function lOe(e){const t={};return e.forEach((n,r,i)=>{t[n]={complete:!1,next:i[r+1]||"end"}}),t}async function uOe(e,t,n,r){const i=iOe.createInstance({name:"sessions"}),o=lOe(n),s=Object.assign({},...Object.keys(o).map(v=>({[v]:{}}))),a={studyIdentifiers:{pid:r.pid,study_id:e,session_id:crypto.randomUUID()},...s,order:n},l={steps:o,config:t},u=_E.createTrrackableSlice({name:"trrackedStudySlice",initialState:a,reducers:{saveTrialAnswer(v,{payload:m}){v[m.trialName]={complete:!0,answer:m.answer,startTime:m.startTime,provenanceGraph:m.provenanceGraph,endTime:m.endTime}}}}),c=S_({name:"studySlice",initialState:l,reducers:{setConfig(v,m){v.config=m.payload},completeStep(v,m){v.steps[m.payload].complete=!0}}}),{store:f,trrack:d,trrackStore:h}=_E.configureTrrackableStore({reducer:{trrackedSlice:u.reducer,unTrrackedSlice:c.reducer},slices:[u,c]}),p=await cOe(i,e)||d.root.id,g=await r.initialize(e,p,d);return g||await OL(i,e,d.root.id),ZI.dispatch(oW(!!g)),d.currentChange(v=>{v==="new"&&r.saveNewProvenanceNode(d)}),{store:f,trrack:d,trrackStore:h,actions:u.actions,async clearCache(){await Rxe(r.firestore),await Txe(r.firestore),r.startFirestore(),await i.clear()},restoreSession(){g&&g.restoreSession()},startNewSession(){g&&g.createNew().then(()=>OL(i,e,d.root.id))},loadGraph(v){d.import(v)}}}async function OL(e,t,n){const r=await e.getItem(gx)||{};r[t]=n,e.setItem(gx,r)}async function cOe(e,t){const n=await e.getItem(gx)||{};return n&&n[t]}const lW=S.createContext(null);function ub(){return S.useContext(lW)}function uW(){return ub().actions}const fOe=KU,wo=_me;function dOe(){return wo(e=>e.trrackedSlice)}function hOe(e){const[t]=E3();return x(UJ,{...e,to:{pathname:e.to,search:t.toString()}})}function tk(){return du().pathname.split("/")[1]}function Rs(){return du().pathname.split("/")[2]}function nk(){const e=Rs(),t=wo(r=>r.unTrrackedSlice.config),{steps:n}=wo(r=>r.unTrrackedSlice);return e==="end"||e===""||!t?null:e&&n[e]&&(n[e].next||"end")}function yx(e){return structuredClone(e)}function pOe({label:e="Next",process:t=null,to:n="auto",disabled:r=!1}){const i=Va(),o=`/${tk()}/${nk()}`;return x(jo,{type:"submit",disabled:r||n==="auto"&&!o,onClick:async()=>{t&&t(),n==="auto"&&o&&i(`${o}${window.location.search}`),n!=="auto"&&i(`${n}${window.location.search}`)},children:e})}function vx(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var mOe=Object.defineProperty,PL=Object.getOwnPropertySymbols,gOe=Object.prototype.hasOwnProperty,yOe=Object.prototype.propertyIsEnumerable,CL=(e,t,n)=>t in e?mOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vOe=(e,t)=>{for(var n in t||(t={}))gOe.call(t,n)&&CL(e,n,t[n]);if(PL)for(var n of PL(t))yOe.call(t,n)&&CL(e,n,t[n]);return e};function cW(e,t){if(t===null||typeof t!="object")return{};const n=vOe({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const wOe="__MANTINE_FORM_INDEX__";function IL(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${wOe}`)):!1:!1}function kL(e,t,n){typeof n.value=="object"&&(n.value=Ju(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Ju(e){if(typeof e!="object")return e;var t=0,n,r,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(e.__proto__||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(Ju(s))})):o==="[object Map]"?(i=new Map,e.forEach(function(s,a){i.set(Ju(a),Ju(s))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(Ju(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)kL(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||kL(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function fW(e){return typeof e!="string"?[]:e.split(".")}function cb(e,t,n){const r=fW(e);if(r.length===0)return n;const i=Ju(n);if(r.length===1)return i[r[0]]=t,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=t,i}function ts(e,t){const n=fW(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function TL(e){const t=vx(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function wx(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,o)=>{const s=e[o],a=`${n===""?"":`${n}.`}${o}`,l=ts(a,t);let u=!1;return typeof s=="function"&&(i[a]=s(l,t,a)),typeof s=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,f)=>wx(s,t,`${a}.${f}`,i))),typeof s=="object"&&typeof l=="object"&&l!==null&&(u||wx(s,t,a,i)),i},r)}function _x(e,t){return TL(typeof e=="function"?e(t):wx(e,t))}function ug(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=_x(t,n),i=Object.keys(r.errors).find(o=>e.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}function _Oe(e,{from:t,to:n},r){const i=ts(e,r);if(!Array.isArray(i))return r;const o=[...i],s=i[t];return o.splice(t,1),o.splice(n,0,s),cb(e,o,r)}var bOe=Object.defineProperty,AL=Object.getOwnPropertySymbols,SOe=Object.prototype.hasOwnProperty,$Oe=Object.prototype.propertyIsEnumerable,NL=(e,t,n)=>t in e?bOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EOe=(e,t)=>{for(var n in t||(t={}))SOe.call(t,n)&&NL(e,n,t[n]);if(AL)for(var n of AL(t))$Oe.call(t,n)&&NL(e,n,t[n]);return e};function xOe(e,{from:t,to:n},r){const i=`${e}.${t}`,o=`${e}.${n}`,s=EOe({},r);return Object.keys(r).every(a=>{let l,u;if(a.startsWith(i)&&(l=a,u=a.replace(i,o)),a.startsWith(o)&&(l=a.replace(o,i),u=a),l&&u){const c=s[l],f=s[u];return f===void 0?delete s[l]:s[l]=f,c===void 0?delete s[u]:s[u]=c,!1}return!0}),s}function OOe(e,t,n){const r=ts(e,n);return Array.isArray(r)?cb(e,r.filter((i,o)=>o!==t),n):n}var POe=Object.defineProperty,RL=Object.getOwnPropertySymbols,COe=Object.prototype.hasOwnProperty,IOe=Object.prototype.propertyIsEnumerable,DL=(e,t,n)=>t in e?POe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kOe=(e,t)=>{for(var n in t||(t={}))COe.call(t,n)&&DL(e,n,t[n]);if(RL)for(var n of RL(t))IOe.call(t,n)&&DL(e,n,t[n]);return e};function ML(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function LL(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let o=n;r===-1&&(o=cW(`${i}.${t}`,o));const s=kOe({},o),a=new Set;return Object.entries(o).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=ML(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=ML(l,i),f=l.replace(`${i}.${c}`,`${i}.${c+r}`);s[f]=u,a.add(f),a.has(l)||delete s[l]}),s}function TOe(e,t,n,r){const i=ts(e,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,t),cb(e,o,r)}function jL(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function AOe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var NOe=Object.defineProperty,ROe=Object.defineProperties,DOe=Object.getOwnPropertyDescriptors,zL=Object.getOwnPropertySymbols,MOe=Object.prototype.hasOwnProperty,LOe=Object.prototype.propertyIsEnumerable,FL=(e,t,n)=>t in e?NOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bs=(e,t)=>{for(var n in t||(t={}))MOe.call(t,n)&&FL(e,n,t[n]);if(zL)for(var n of zL(t))LOe.call(t,n)&&FL(e,n,t[n]);return e},_S=(e,t)=>ROe(e,DOe(t));function jOe({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:i=!0,validateInputOnChange:o=!1,validateInputOnBlur:s=!1,transformValues:a=u=>u,validate:l}={}){const[u,c]=S.useState(r),[f,d]=S.useState(n),[h,p]=S.useState(e),[g,v]=S.useState(vx(t)),m=S.useRef(e),y=k=>{m.current=k},w=S.useCallback(()=>c({}),[]),b=k=>{const V=k?Bs(Bs({},h),k):h;y(V),d({})},$=S.useCallback(k=>v(V=>vx(typeof k=="function"?k(V):k)),[]),_=S.useCallback(()=>v({}),[]),E=S.useCallback(()=>{p(e),_(),y(e),d({}),w()},[]),C=S.useCallback((k,V)=>$(Z=>_S(Bs({},Z),{[k]:V})),[]),N=S.useCallback(k=>$(V=>{if(typeof k!="string")return V;const Z=Bs({},V);return delete Z[k],Z}),[]),L=S.useCallback(k=>d(V=>{if(typeof k!="string")return V;const Z=cW(k,V);return delete Z[k],Z}),[]),M=S.useCallback((k,V)=>{const Z=IL(k,o);L(k),c(oe=>_S(Bs({},oe),{[k]:!0})),p(oe=>{const be=cb(k,V,oe);if(Z){const ce=ug(k,l,be);ce.hasError?C(k,ce.error):N(k)}return be}),!Z&&i&&C(k,null)},[]),B=S.useCallback(k=>{p(V=>{const Z=typeof k=="function"?k(V):k;return Bs(Bs({},V),Z)}),i&&_()},[]),F=S.useCallback((k,V)=>{L(k),p(Z=>_Oe(k,V,Z)),v(Z=>xOe(k,V,Z))},[]),R=S.useCallback((k,V)=>{L(k),p(Z=>OOe(k,V,Z)),v(Z=>LL(k,V,Z,-1))},[]),J=S.useCallback((k,V,Z)=>{L(k),p(oe=>TOe(k,V,Z,oe)),v(oe=>LL(k,Z,oe,1))},[]),re=S.useCallback(()=>{const k=_x(l,h);return v(k.errors),k},[h,l]),ie=S.useCallback(k=>{const V=ug(k,l,h);return V.hasError?C(k,V.error):N(k),V},[h,l]),G=(k,{type:V="input",withError:Z=!0,withFocus:oe=!0}={})=>{const ce={onChange:AOe(xe=>M(k,xe))};return Z&&(ce.error=g[k]),V==="checkbox"?ce.checked=ts(k,h):ce.value=ts(k,h),oe&&(ce.onFocus=()=>c(xe=>_S(Bs({},xe),{[k]:!0})),ce.onBlur=()=>{if(IL(k,s)){const xe=ug(k,l,h);xe.hasError?C(k,xe.error):N(k)}}),ce},Q=(k,V)=>Z=>{Z==null||Z.preventDefault();const oe=re();oe.hasErrors?V==null||V(oe.errors,h,Z):k==null||k(a(h),Z)},q=k=>a(k||h),O=S.useCallback(k=>{k.preventDefault(),E()},[]),P=k=>{if(k){const Z=ts(k,f);if(typeof Z=="boolean")return Z;const oe=ts(k,h),be=ts(k,m.current);return!c2(oe,be)}return Object.keys(f).length>0?jL(f):!c2(h,m.current)},z=S.useCallback(k=>jL(u,k),[u]),I=S.useCallback(k=>k?!ug(k,l,h).hasError:!_x(l,h).hasErrors,[h,l]);return{values:h,errors:g,setValues:B,setErrors:$,setFieldValue:M,setFieldError:C,clearFieldError:N,clearErrors:_,reset:E,validate:re,validateField:ie,reorderListItem:F,removeListItem:R,insertListItem:J,getInputProps:G,onSubmit:Q,onReset:O,isDirty:P,isTouched:z,setTouched:c,setDirty:d,resetTouched:w,resetDirty:b,isValid:I,getTransformedValues:q}}const dW=(e,t)=>{let n={};return e.forEach(r=>{n={...n,[`${t}/${r.id}`]:r.type==="iframe"?[]:""}}),{...n}},zOe=(e,t)=>{let n={};return e.forEach(r=>{r.required&&(n={...n,[`${t}/${r.id}`]:i=>{if(Array.isArray(i)){if(r.requiredValue!=null&&!Array.isArray(r.requiredValue))return"Incorrect required value";if(r.requiredValue!=null&&Array.isArray(r.requiredValue)){if(r.requiredValue.length!==i.length)return"Incorrect input";const o=[...r.requiredValue].sort(),s=[...i].sort();return o.every((a,l)=>a===s[l])?null:"Incorrect input"}return i.length===0?"Empty input":null}return r.required&&r.requiredValue!=null&&i!=null?i.toString()!==r.requiredValue.toString()?"Incorrect input":null:i==null?"Empty input":null}})}),n};function hW(e,t){const[n,r]=S.useState(null),i=jOe({initialValues:dW(e,t),validate:zOe(e,t)});return S.useEffect(()=>{n!==t&&(r(t),i.reset())},[n,i,t]),i}function FOe(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=e[n[r]],o=t[n[r]];if(JSON.stringify(i)!==JSON.stringify(o))return!1}return!0}function xs(e,t,n){var s;const{requiredValue:r,requiredLabel:i}=e;let o="";return t.checked&&Array.isArray(r)?o=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:o=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(s=n.find(a=>a.value===r))==null?void 0:s.label:r.toString())} to continue.`:null,o}const VOe=Object.freeze(Object.defineProperty({__proto__:null,areAnswersEqual:FOe,generateErrorMessage:xs,generateInitFields:dW,useAnswerField:hW},Symbol.toStringTag,{value:"Module"}));function BOe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:o}=e;return x(Av.Group,{label:r,withAsterisk:i,...n,error:xs(e,n,o),children:x(Ia,{mt:"md",children:o.map(s=>x(Av,{disabled:t,value:s.value,label:s.label},s.value))})})}function UOe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:o,options:s}=e;return x(tn,{children:x(_U,{disabled:t,label:i,placeholder:r,data:s,withAsterisk:o,radius:"md",size:"md",...n,error:xs(e,n,s)})})}function HOe({response:e,disabled:t,answer:n}){const{prompt:r}=e;return he(tn,{children:[x(wt,{fz:"md",fw:500,children:r}),x(Dc,{children:(n.value||[]).map(i=>x(Dc.Item,{children:i},i))})]})}function pW({response:e,disabled:t,answer:n}){const{prompt:r,required:i,options:o,leftLabel:s,rightLabel:a}=e;return x(tn,{children:he(e0.Group,{name:"radioInput",label:r,withAsterisk:i,size:"md",...n,error:xs(e,n,o),children:[s?x(wt,{children:s}):null,x(Ia,{mt:"xs",children:o.map(l=>x(e0,{disabled:t,value:l.value,label:l.label},l.label))}),x(wt,{children:a})]})})}function qOe({response:e,disabled:t,answer:n}){const{preset:r}=e,i=[];for(let s=1;s<=+r;s++)i.push({label:`${s}`,value:`${s}`});const o={...e,type:"radio",options:i};return x(pW,{disabled:t,response:o,answer:n})}function WOe({response:e,disabled:t,answer:n}){const{prompt:r,required:i,min:o,max:s,placeholder:a}=e;return x(tn,{children:x(JB,{disabled:t,placeholder:a,label:r,withAsterisk:i,radius:"md",size:"md",min:o,max:s,...n,error:xs(e,n)})})}function KOe({response:e,disabled:t,answer:n}){const{prompt:r,options:i}=e,o=xs(e,n);return he(Al,{spacing:2,children:[x(wt,{fz:"md",fw:500,children:r}),x(OP,{disabled:t,labelAlwaysOn:!0,sx:{marginTop:"5px",marginBottom:"30px"},marks:i,...n,error:xs(e,n),styles:s=>({mark:{width:12,height:12,borderRadius:6,transform:"translateX(-3px) translateY(-2px)"},markFilled:{borderColor:s.colors.blue[6]},markLabel:{fontSize:s.fontSizes.sm,marginBottom:5,marginTop:0},thumb:{height:24,width:24,backgroundColor:s.white,borderWidth:1,boxShadow:s.shadows.sm},label:{top:-4,height:28,lineHeight:28,width:28,padding:0,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:700,color:"orange",backgroundColor:"transparent"}})}),o?x(wt,{size:12,c:"#fa5252",children:o}):null]})}function GOe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:o}=e;return x(tn,{children:x(xP,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:o,...n,value:n.value||"",error:xs(e,n)})})}function YOe({response:e,disabled:t,answer:n}){const{placeholder:r,prompt:i,required:o}=e;return x(tn,{children:x(OB,{disabled:t,placeholder:r,label:i,radius:"md",size:"md",withAsterisk:o,...n,value:n.value||"",error:xs(e,n)})})}function QOe({status:e=null,disabled:t=!!(e!=null&&e.complete),response:n,answer:r,storedAnswer:i}){const[o]=E3();let s;if(n.paramCapture){const u=o.get(n.paramCapture);u&&(s={value:u})}const a=t||!!s,l=i?{value:i}:s||r;return x(tn,{children:he(We,{sx:{margin:10,padding:5},children:[n.type==="numerical"&&x(WOe,{response:n,disabled:a,answer:l}),n.type==="shortText"&&x(GOe,{response:n,disabled:a,answer:l}),n.type==="longText"&&x(YOe,{response:n,disabled:a,answer:l}),n.type==="likert"&&x(qOe,{response:n,disabled:a,answer:l}),n.type==="dropdown"&&x(UOe,{response:n,disabled:a,answer:l}),n.type==="slider"&&x(KOe,{response:n,disabled:a,answer:l}),n.type==="radio"&&x(pW,{response:n,disabled:a,answer:l}),n.type==="checkbox"&&x(BOe,{response:n,disabled:a,answer:l}),n.type==="iframe"&&x(HOe,{response:n,disabled:a,answer:l})]})})}function XOe(){const e=dOe().survey;return Object.keys(e||{}).length>0?e:null}function K0({config:e,location:t,status:n=null,style:r}){var B,F;const{trialId:i=null,studyId:o=null}=mp(),s=du().pathname,a=n==null?void 0:n.answer,l=e,u=((B=l==null?void 0:l.response)==null?void 0:B.filter(R=>R.location?R.location===t:t==="belowStimulus"))||[],c=XOe(),{saveTrialAnswer:f}=uW(),d=fOe(),h=em(),p=hW(u,s),g=sOe(s),v=aOe(s),[m,y]=c4(!a),[w,b]=S.useState(!1),$=Rs(),_=nk(),E=Cf(R=>R),C=(((F=l==null?void 0:l.correctAnswer)==null?void 0:F.length)||0)>0,N=S.useMemo(()=>Date.now(),[]),L=t===((l==null?void 0:l.nextButtonLocation)||"belowStimulus");S.useEffect(()=>{const R=u.find(J=>J.type==="iframe");if(R){const J=`${s}/${R.id}`;p.setValues({...p.values,[J]:E.iframeAnswers})}},[E.iframeAnswers]),S.useEffect(()=>{h(sW({location:t,trialId:s,status:p.isValid(),answers:yx(p.values)}))},[p.values,s]);const M=S.useCallback(()=>{const R=yx(v),J=E.trialRecord[s].provenanceGraph;n!=null&&n.complete||(d(f({trialName:$,trialId:i||"NoID",answer:R,provenanceGraph:J||void 0,startTime:N,endTime:Date.now()})),h(aW([]))),y(!m)},[v,p.values,d,c,e==null?void 0:e.type,$,m,f,n,y,i]);return he("div",{style:r,children:[u.map(R=>{var J,re;return he(Fi.Fragment,{children:[x(QOe,{status:n,storedAnswer:R.type==="iframe"?(v||{})[`${s}/${R.id}`]:null,answer:{...p.getInputProps(`${s}/${R.id}`,{type:R.type==="checkbox"?"checkbox":"input"})},response:R}),C&&w&&he(wt,{children:["The correct answer is: ",(re=(J=l.correctAnswer)==null?void 0:J.find(ie=>ie.id===R.id))==null?void 0:re.answer]})]},`${R.id}-${s}`)}),he(Ia,{position:"right",spacing:"xs",mt:"xl",children:[C&&L&&x(jo,{onClick:()=>b(!0),disabled:!p.isValid(),children:"Check Answer"}),L&&x(pOe,{disabled:C?!w:!(n!=null&&n.complete)&&!g,to:`/${o}/${_}`,process:()=>{b(!1),M()},label:l.nextButtonText||"Next"})]})]})}const cg="@REVISIT_COMMS",JOe={minHeight:"500px",width:"100%",border:0,marginTop:"-50px"};function ZOe({path:e,parameters:t}){const{saveTrialAnswer:n}=uW(),r=em(),i=KU(),o=S.useRef(null),s=S.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),a=Rs(),l=Va(),u=nk(),c=S.useCallback((f,d)=>{var h,p;(p=(h=o.current)==null?void 0:h.contentWindow)==null||p.postMessage({error:!1,type:`${cg}/${f}`,iframeId:s,message:d},"*")},[o,s]);return S.useEffect(()=>{const f=d=>{const h=d.data;if(typeof h=="object"&&s===h.iframeId)switch(h.type){case`${cg}/WINDOW_READY`:t&&c("STUDY_DATA",t);break;case`${cg}/READY`:o.current&&(o.current.style.height=`${h.message.documentHeight}px`);break;case`${cg}/ANSWERS`:r(aW(h.message.answer));break}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[r,u,a,i,s,l,t,c,n]),x("div",{children:x("iframe",{ref:o,src:`${Qo}${e}?trialid=${a}&id=${s}`,style:JOe})})}const ePe={maxWidth:"100%"},tPe=({path:e,style:t={}})=>{const n={...ePe,...t};return x(Sp,{mx:"auto",src:`${Qo}${e}`,style:n})},If=e=>{const t=S.useRef(null),n=VL(e),[r,i]=S.useState(0),[o,s]=S.useState(0);S.useEffect(()=>{const l=t.current;if(l){const u=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const f=c[0];r!==f.contentRect.width&&i(f.contentRect.width),o!==f.contentRect.height&&s(f.contentRect.height)});return u.observe(l),()=>u.unobserve(l)}},[o,r]);const a=VL({...n,width:n.width||r,height:n.height||o});return[t,a]},VL=e=>{const t={...e,marginTop:e.marginTop||10,marginRight:e.marginRight||10,marginBottom:e.marginBottom||40,marginLeft:e.marginLeft||75};return{...t,boundedHeight:t.height?Math.max(t.height-t.marginTop-t.marginBottom,0):0,boundedWidth:t.width?Math.max(t.width-t.marginLeft-t.marginRight,0):0}},nPe=Object.freeze(Object.defineProperty({__proto__:null,useChartDimensions:If},Symbol.toStringTag,{value:"Module"}));function Jg(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mW(e){let t,n,r;e.length!==2?(t=Jg,n=(a,l)=>Jg(e(a),l),r=(a,l)=>e(a)-l):(t=e===Jg||e===rPe?e:iPe,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function iPe(){return 0}function oPe(e){return e===null?NaN:+e}const sPe=mW(Jg),aPe=sPe.right;mW(oPe).center;const lPe=aPe;class BL extends Map{constructor(t,n=fPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(UL(this,t))}has(t){return super.has(UL(this,t))}set(t,n){return super.set(uPe(this,t),n)}delete(t){return super.delete(cPe(this,t))}}function UL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uPe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function cPe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}const dPe=Math.sqrt(50),hPe=Math.sqrt(10),pPe=Math.sqrt(2);function G0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=dPe?10:o>=hPe?5:o>=pPe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?G0(e,t,n*2):[a,l,u]}function mPe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?G0(t,e,n):G0(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function bx(e,t,n){return t=+t,e=+e,n=+n,G0(e,t,n)[2]}function gPe(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?bx(t,e,n):bx(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function yPe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}var vPe={value:()=>{}};function gW(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zg(n)}function Zg(e){this._=e}function wPe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zg.prototype=gW.prototype={constructor:Zg,on:function(e,t){var n=this._,r=wPe(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=_Pe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=HL(n[i],e.name,t);else if(t==null)for(i in n)n[i]=HL(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zg(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function _Pe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function HL(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=vPe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Sx="http://www.w3.org/1999/xhtml";const qL={svg:"http://www.w3.org/2000/svg",xhtml:Sx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fb(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),qL.hasOwnProperty(t)?{space:qL[t],local:e}:e}function bPe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Sx&&t.documentElement.namespaceURI===Sx?t.createElement(e):t.createElementNS(n,e)}}function SPe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yW(e){var t=fb(e);return(t.local?SPe:bPe)(t)}function $Pe(){}function rk(e){return e==null?$Pe:function(){return this.querySelector(e)}}function EPe(e){typeof e!="function"&&(e=rk(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new xi(r,this._parents)}function xPe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function OPe(){return[]}function vW(e){return e==null?OPe:function(){return this.querySelectorAll(e)}}function PPe(e){return function(){return xPe(e.apply(this,arguments))}}function CPe(e){typeof e=="function"?e=PPe(e):e=vW(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new xi(r,i)}function wW(e){return function(){return this.matches(e)}}function _W(e){return function(t){return t.matches(e)}}var IPe=Array.prototype.find;function kPe(e){return function(){return IPe.call(this.children,e)}}function TPe(){return this.firstElementChild}function APe(e){return this.select(e==null?TPe:kPe(typeof e=="function"?e:_W(e)))}var NPe=Array.prototype.filter;function RPe(){return Array.from(this.children)}function DPe(e){return function(){return NPe.call(this.children,e)}}function MPe(e){return this.selectAll(e==null?RPe:DPe(typeof e=="function"?e:_W(e)))}function LPe(e){typeof e!="function"&&(e=wW(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new xi(r,this._parents)}function bW(e){return new Array(e.length)}function jPe(){return new xi(this._enter||this._groups.map(bW),this._parents)}function Y0(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Y0.prototype={constructor:Y0,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function zPe(e){return function(){return e}}function FPe(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Y0(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function VPe(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(d[a]=h=s.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<f;++a)h=s.call(e,o[a],a,o)+"",(l=u.get(h))?(r[a]=l,l.__data__=o[a],u.delete(h)):n[a]=new Y0(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(d[a])===l&&(i[a]=l)}function BPe(e){return e.__data__}function UPe(e,t){if(!arguments.length)return Array.from(this,BPe);var n=t?VPe:FPe,r=this._parents,i=this._groups;typeof e!="function"&&(e=zPe(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=HPe(e.call(c,c&&c.__data__,u,r)),p=h.length,g=a[u]=new Array(p),v=s[u]=new Array(p),m=l[u]=new Array(d);n(c,f,g,v,m,h,t);for(var y=0,w=0,b,$;y<p;++y)if(b=g[y]){for(y>=w&&(w=y+1);!($=v[w])&&++w<p;);b._next=$||null}}return s=new xi(s,r),s._enter=a,s._exit=l,s}function HPe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qPe(){return new xi(this._exit||this._groups.map(bW),this._parents)}function WPe(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function KPe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,d=a[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)a[l]=n[l];return new xi(a,this._parents)}function GPe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function YPe(e){e||(e=QPe);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new xi(i,this._parents).order()}function QPe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function XPe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function JPe(){return Array.from(this)}function ZPe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function eCe(){let e=0;for(const t of this)++e;return e}function tCe(){return!this.node()}function nCe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function rCe(e){return function(){this.removeAttribute(e)}}function iCe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oCe(e,t){return function(){this.setAttribute(e,t)}}function sCe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function aCe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function lCe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function uCe(e,t){var n=fb(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?iCe:rCe:typeof t=="function"?n.local?lCe:aCe:n.local?sCe:oCe)(n,t))}function SW(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cCe(e){return function(){this.style.removeProperty(e)}}function fCe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function dCe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function hCe(e,t,n){return arguments.length>1?this.each((t==null?cCe:typeof t=="function"?dCe:fCe)(e,t,n??"")):ef(this.node(),e)}function ef(e,t){return e.style.getPropertyValue(t)||SW(e).getComputedStyle(e,null).getPropertyValue(t)}function pCe(e){return function(){delete this[e]}}function mCe(e,t){return function(){this[e]=t}}function gCe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function yCe(e,t){return arguments.length>1?this.each((t==null?pCe:typeof t=="function"?gCe:mCe)(e,t)):this.node()[e]}function $W(e){return e.trim().split(/^|\s+/)}function ik(e){return e.classList||new EW(e)}function EW(e){this._node=e,this._names=$W(e.getAttribute("class")||"")}EW.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function xW(e,t){for(var n=ik(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function OW(e,t){for(var n=ik(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function vCe(e){return function(){xW(this,e)}}function wCe(e){return function(){OW(this,e)}}function _Ce(e,t){return function(){(t.apply(this,arguments)?xW:OW)(this,e)}}function bCe(e,t){var n=$W(e+"");if(arguments.length<2){for(var r=ik(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?_Ce:t?vCe:wCe)(n,t))}function SCe(){this.textContent=""}function $Ce(e){return function(){this.textContent=e}}function ECe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function xCe(e){return arguments.length?this.each(e==null?SCe:(typeof e=="function"?ECe:$Ce)(e)):this.node().textContent}function OCe(){this.innerHTML=""}function PCe(e){return function(){this.innerHTML=e}}function CCe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ICe(e){return arguments.length?this.each(e==null?OCe:(typeof e=="function"?CCe:PCe)(e)):this.node().innerHTML}function kCe(){this.nextSibling&&this.parentNode.appendChild(this)}function TCe(){return this.each(kCe)}function ACe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NCe(){return this.each(ACe)}function RCe(e){var t=typeof e=="function"?e:yW(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function DCe(){return null}function MCe(e,t){var n=typeof e=="function"?e:yW(e),r=t==null?DCe:typeof t=="function"?t:rk(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function LCe(){var e=this.parentNode;e&&e.removeChild(this)}function jCe(){return this.each(LCe)}function zCe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FCe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function VCe(e){return this.select(e?FCe:zCe)}function BCe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function UCe(e){return function(t){e.call(this,t,this.__data__)}}function HCe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function qCe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function WCe(e,t,n){return function(){var r=this.__on,i,o=UCe(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function KCe(e,t,n){var r=HCe(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?WCe:qCe,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function PW(e,t,n){var r=SW(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function GCe(e,t){return function(){return PW(this,e,t)}}function YCe(e,t){return function(){return PW(this,e,t.apply(this,arguments))}}function QCe(e,t){return this.each((typeof t=="function"?YCe:GCe)(e,t))}function*XCe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var CW=[null];function xi(e,t){this._groups=e,this._parents=t}function tm(){return new xi([[document.documentElement]],CW)}function JCe(){return this}xi.prototype=tm.prototype={constructor:xi,select:EPe,selectAll:CPe,selectChild:APe,selectChildren:MPe,filter:LPe,data:UPe,enter:jPe,exit:qPe,join:WPe,merge:KPe,selection:JCe,order:GPe,sort:YPe,call:XPe,nodes:JPe,node:ZPe,size:eCe,empty:tCe,each:nCe,attr:uCe,style:hCe,property:yCe,classed:bCe,text:xCe,html:ICe,raise:TCe,lower:NCe,append:RCe,insert:MCe,remove:jCe,clone:VCe,datum:BCe,on:KCe,dispatch:QCe,[Symbol.iterator]:XCe};function bS(e){return typeof e=="string"?new xi([[document.querySelector(e)]],[document.documentElement]):new xi([[e]],CW)}function ZCe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function eIe(e,t){if(e=ZCe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function ok(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function IW(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nm(){}var Zh=.7,Q0=1/Zh,wc="\\s*([+-]?\\d+)\\s*",ep="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tIe=/^#([0-9a-f]{3,8})$/,nIe=new RegExp(`^rgb\\(${wc},${wc},${wc}\\)$`),rIe=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),iIe=new RegExp(`^rgba\\(${wc},${wc},${wc},${ep}\\)$`),oIe=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${ep}\\)$`),sIe=new RegExp(`^hsl\\(${ep},${Vo},${Vo}\\)$`),aIe=new RegExp(`^hsla\\(${ep},${Vo},${Vo},${ep}\\)$`),WL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ok(nm,su,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KL,formatHex:KL,formatHex8:lIe,formatHsl:uIe,formatRgb:GL,toString:GL});function KL(){return this.rgb().formatHex()}function lIe(){return this.rgb().formatHex8()}function uIe(){return kW(this).formatHsl()}function GL(){return this.rgb().formatRgb()}function su(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tIe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?YL(t):n===3?new ri(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nIe.exec(e))?new ri(t[1],t[2],t[3],1):(t=rIe.exec(e))?new ri(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=iIe.exec(e))?fg(t[1],t[2],t[3],t[4]):(t=oIe.exec(e))?fg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sIe.exec(e))?JL(t[1],t[2]/100,t[3]/100,1):(t=aIe.exec(e))?JL(t[1],t[2]/100,t[3]/100,t[4]):WL.hasOwnProperty(e)?YL(WL[e]):e==="transparent"?new ri(NaN,NaN,NaN,0):null}function YL(e){return new ri(e>>16&255,e>>8&255,e&255,1)}function fg(e,t,n,r){return r<=0&&(e=t=n=NaN),new ri(e,t,n,r)}function cIe(e){return e instanceof nm||(e=su(e)),e?(e=e.rgb(),new ri(e.r,e.g,e.b,e.opacity)):new ri}function $x(e,t,n,r){return arguments.length===1?cIe(e):new ri(e,t,n,r??1)}function ri(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ok(ri,$x,IW(nm,{brighter(e){return e=e==null?Q0:Math.pow(Q0,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zh:Math.pow(Zh,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ri(Ll(this.r),Ll(this.g),Ll(this.b),X0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QL,formatHex:QL,formatHex8:fIe,formatRgb:XL,toString:XL}));function QL(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}`}function fIe(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}${Pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function XL(){const e=X0(this.opacity);return`${e===1?"rgb(":"rgba("}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${e===1?")":`, ${e})`}`}function X0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ll(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pl(e){return e=Ll(e),(e<16?"0":"")+e.toString(16)}function JL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new uo(e,t,n,r)}function kW(e){if(e instanceof uo)return new uo(e.h,e.s,e.l,e.opacity);if(e instanceof nm||(e=su(e)),!e)return new uo;if(e instanceof uo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new uo(s,a,l,e.opacity)}function dIe(e,t,n,r){return arguments.length===1?kW(e):new uo(e,t,n,r??1)}function uo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ok(uo,dIe,IW(nm,{brighter(e){return e=e==null?Q0:Math.pow(Q0,e),new uo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zh:Math.pow(Zh,e),new uo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ri(SS(e>=240?e-240:e+120,i,r),SS(e,i,r),SS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new uo(ZL(this.h),dg(this.s),dg(this.l),X0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=X0(this.opacity);return`${e===1?"hsl(":"hsla("}${ZL(this.h)}, ${dg(this.s)*100}%, ${dg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ZL(e){return e=(e||0)%360,e<0?e+360:e}function dg(e){return Math.max(0,Math.min(1,e||0))}function SS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sk=e=>()=>e;function hIe(e,t){return function(n){return e+n*t}}function pIe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function mIe(e){return(e=+e)==1?TW:function(t,n){return n-t?pIe(t,n,e):sk(isNaN(t)?n:t)}}function TW(e,t){var n=t-e;return n?hIe(e,n):sk(isNaN(e)?t:e)}const J0=function e(t){var n=mIe(t);function r(i,o){var s=n((i=$x(i)).r,(o=$x(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=TW(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function gIe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function yIe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vIe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ak(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function wIe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ao(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _Ie(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ak(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ex=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$S=new RegExp(Ex.source,"g");function bIe(e){return function(){return e}}function SIe(e){return function(t){return e(t)+""}}function AW(e,t){var n=Ex.lastIndex=$S.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Ex.exec(e))&&(i=$S.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ao(r,i)})),n=$S.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?SIe(l[0].x):bIe(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function ak(e,t){var n=typeof t,r;return t==null||n==="boolean"?sk(t):(n==="number"?ao:n==="string"?(r=su(t))?(t=r,J0):AW:t instanceof su?J0:t instanceof Date?wIe:yIe(t)?gIe:Array.isArray(t)?vIe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_Ie:ao)(e,t)}function $Ie(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ej=180/Math.PI,xx={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function NW(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ej,skewX:Math.atan(l)*ej,scaleX:s,scaleY:a}}var hg;function EIe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xx:NW(t.a,t.b,t.c,t.d,t.e,t.f)}function xIe(e){return e==null||(hg||(hg=document.createElementNS("http://www.w3.org/2000/svg","g")),hg.setAttribute("transform",e),!(e=hg.transform.baseVal.consolidate()))?xx:(e=e.matrix,NW(e.a,e.b,e.c,e.d,e.e,e.f))}function RW(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:ao(u,f)},{i:g-2,x:ao(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:ao(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:ao(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:ao(u,f)},{i:g-2,x:ao(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,g=d.length,v;++p<g;)f[(v=d[p]).i]=v.x(h);return f.join("")}}}var OIe=RW(EIe,"px, ","px)","deg)"),PIe=RW(xIe,", ",")",")"),tf=0,xd=0,ad=0,DW=1e3,Z0,Od,ew=0,au=0,db=0,tp=typeof performance=="object"&&performance.now?performance:Date,MW=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function lk(){return au||(MW(CIe),au=tp.now()+db)}function CIe(){au=0}function tw(){this._call=this._time=this._next=null}tw.prototype=LW.prototype={constructor:tw,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?lk():+n)+(t==null?0:+t),!this._next&&Od!==this&&(Od?Od._next=this:Z0=this,Od=this),this._call=e,this._time=n,Ox()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ox())}};function LW(e,t,n){var r=new tw;return r.restart(e,t,n),r}function IIe(){lk(),++tf;for(var e=Z0,t;e;)(t=au-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tf}function tj(){au=(ew=tp.now())+db,tf=xd=0;try{IIe()}finally{tf=0,TIe(),au=0}}function kIe(){var e=tp.now(),t=e-ew;t>DW&&(db-=t,ew=e)}function TIe(){for(var e,t=Z0,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Z0=n);Od=e,Ox(r)}function Ox(e){if(!tf){xd&&(xd=clearTimeout(xd));var t=e-au;t>24?(e<1/0&&(xd=setTimeout(tj,e-tp.now()-db)),ad&&(ad=clearInterval(ad))):(ad||(ew=tp.now(),ad=setInterval(kIe,DW)),tf=1,MW(tj))}}function nj(e,t,n){var r=new tw;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var AIe=gW("start","end","cancel","interrupt"),NIe=[],jW=0,rj=1,Px=2,ey=3,ij=4,Cx=5,ty=6;function hb(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;RIe(e,n,{name:t,index:r,group:i,on:AIe,tween:NIe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:jW})}function uk(e,t){var n=_o(e,t);if(n.state>jW)throw new Error("too late; already scheduled");return n}function Yo(e,t){var n=_o(e,t);if(n.state>ey)throw new Error("too late; already running");return n}function _o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function RIe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=LW(o,0,n.time);function o(u){n.state=rj,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,h;if(n.state!==rj)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===ey)return nj(s);h.state===ij?(h.state=ty,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=ty,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(nj(function(){n.state===ey&&(n.state=ij,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Px,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Px){for(n.state=ey,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Cx,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Cx&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ty,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function DIe(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Px&&r.state<Cx,r.state=ty,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function MIe(e){return this.each(function(){DIe(this,e)})}function LIe(e,t){var n,r;return function(){var i=Yo(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function jIe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Yo(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function zIe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=_o(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?LIe:jIe)(n,e,t))}function ck(e,t,n){var r=e._id;return e.each(function(){var i=Yo(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return _o(i,r).value[t]}}function zW(e,t){var n;return(typeof t=="number"?ao:t instanceof su?J0:(n=su(t))?(t=n,J0):AW)(e,t)}function FIe(e){return function(){this.removeAttribute(e)}}function VIe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function BIe(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function UIe(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function HIe(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function qIe(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function WIe(e,t){var n=fb(e),r=n==="transform"?PIe:zW;return this.attrTween(e,typeof t=="function"?(n.local?qIe:HIe)(n,r,ck(this,"attr."+e,t)):t==null?(n.local?VIe:FIe)(n):(n.local?UIe:BIe)(n,r,t))}function KIe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function GIe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function YIe(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&GIe(e,o)),n}return i._value=t,i}function QIe(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&KIe(e,o)),n}return i._value=t,i}function XIe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=fb(e);return this.tween(n,(r.local?YIe:QIe)(r,t))}function JIe(e,t){return function(){uk(this,e).delay=+t.apply(this,arguments)}}function ZIe(e,t){return t=+t,function(){uk(this,e).delay=t}}function eke(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JIe:ZIe)(t,e)):_o(this.node(),t).delay}function tke(e,t){return function(){Yo(this,e).duration=+t.apply(this,arguments)}}function nke(e,t){return t=+t,function(){Yo(this,e).duration=t}}function rke(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tke:nke)(t,e)):_o(this.node(),t).duration}function ike(e,t){if(typeof t!="function")throw new Error;return function(){Yo(this,e).ease=t}}function oke(e){var t=this._id;return arguments.length?this.each(ike(t,e)):_o(this.node(),t).ease}function ske(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Yo(this,e).ease=n}}function ake(e){if(typeof e!="function")throw new Error;return this.each(ske(this._id,e))}function lke(e){typeof e!="function"&&(e=wW(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Os(r,this._parents,this._name,this._id)}function uke(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new Os(s,this._parents,this._name,this._id)}function cke(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function fke(e,t,n){var r,i,o=cke(t)?uk:Yo;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function dke(e,t){var n=this._id;return arguments.length<2?_o(this.node(),n).on.on(e):this.each(fke(n,e,t))}function hke(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function pke(){return this.on("end.remove",hke(this._id))}function mke(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rk(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=e.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,hb(u[d],t,n,d,u,_o(c,n)));return new Os(o,this._parents,t,n)}function gke(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vW(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,p=_o(c,n),g=0,v=d.length;g<v;++g)(h=d[g])&&hb(h,t,n,g,d,p);o.push(d),s.push(c)}return new Os(o,s,t,n)}var yke=tm.prototype.constructor;function vke(){return new yke(this._groups,this._parents)}function wke(e,t){var n,r,i;return function(){var o=ef(this,e),s=(this.style.removeProperty(e),ef(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function FW(e){return function(){this.style.removeProperty(e)}}function _ke(e,t,n){var r,i=n+"",o;return function(){var s=ef(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function bke(e,t,n){var r,i,o;return function(){var s=ef(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),ef(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function Ske(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=Yo(this,e),u=l.on,c=l.value[o]==null?a||(a=FW(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function $ke(e,t,n){var r=(e+="")=="transform"?OIe:zW;return t==null?this.styleTween(e,wke(e,r)).on("end.style."+e,FW(e)):typeof t=="function"?this.styleTween(e,bke(e,r,ck(this,"style."+e,t))).each(Ske(this._id,e)):this.styleTween(e,_ke(e,r,t),n).on("end.style."+e,null)}function Eke(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function xke(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Eke(e,s,n)),r}return o._value=t,o}function Oke(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,xke(e,t,n??""))}function Pke(e){return function(){this.textContent=e}}function Cke(e){return function(){var t=e(this);this.textContent=t??""}}function Ike(e){return this.tween("text",typeof e=="function"?Cke(ck(this,"text",e)):Pke(e==null?"":e+""))}function kke(e){return function(t){this.textContent=e.call(this,t)}}function Tke(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&kke(i)),t}return r._value=e,r}function Ake(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Tke(e))}function Nke(){for(var e=this._name,t=this._id,n=VW(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=_o(l,t);hb(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Os(r,this._parents,e,n)}function Rke(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=Yo(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var Dke=0;function Os(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function VW(){return++Dke}var Xo=tm.prototype;Os.prototype={constructor:Os,select:mke,selectAll:gke,selectChild:Xo.selectChild,selectChildren:Xo.selectChildren,filter:lke,merge:uke,selection:vke,transition:Nke,call:Xo.call,nodes:Xo.nodes,node:Xo.node,size:Xo.size,empty:Xo.empty,each:Xo.each,on:dke,attr:WIe,attrTween:XIe,style:$ke,styleTween:Oke,text:Ike,textTween:Ake,remove:pke,tween:zIe,delay:eke,duration:rke,ease:oke,easeVarying:ake,end:Rke,[Symbol.iterator]:Xo[Symbol.iterator]};const Mke=e=>+e;function Lke(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jke={time:null,delay:0,duration:250,ease:Lke};function zke(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Fke(e){var t,n;e instanceof Os?(t=e._id,e=e._name):(t=VW(),(n=jke).time=lk(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&hb(l,e,t,u,s,n||zke(l,t));return new Os(r,this._parents,e,t)}tm.prototype.interrupt=MIe;tm.prototype.transition=Fke;const Ix=Math.PI,kx=2*Ix,cl=1e-6,Vke=kx-cl;function BW(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Bke(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BW;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Uke{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BW:Bke(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>cl)if(!(Math.abs(f*l-u*c)>cl)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+u*u,v=h*h+p*p,m=Math.sqrt(g),y=Math.sqrt(d),w=o*Math.tan((Ix-Math.acos((g+d-v)/(2*m*y)))/2),b=w/y,$=w/m;Math.abs(b-1)>cl&&this._append`L${t+b*c},${n+b*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+$*l},${this._y1=n+$*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>cl||Math.abs(this._y1-c)>cl)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%kx+kx),d>Vke?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>cl&&this._append`A${r},${r},0,${+(d>=Ix)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Hke(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nw(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nf(e){return e=nw(Math.abs(e)),e?e[1]:NaN}function qke(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Wke(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Kke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rw(e){if(!(t=Kke.exec(e)))throw new Error("invalid format: "+e);var t;return new fk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rw.prototype=fk.prototype;function fk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gke(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var UW;function Yke(e,t){var n=nw(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(UW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+nw(e,Math.max(0,t+o-1))[0]}function oj(e,t){var n=nw(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Hke,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oj(e*100,t),r:oj,s:Yke,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aj(e){return e}var lj=Array.prototype.map,uj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Qke(e){var t=e.grouping===void 0||e.thousands===void 0?aj:qke(lj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?aj:Wke(lj.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=rw(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,v=f.zero,m=f.width,y=f.comma,w=f.precision,b=f.trim,$=f.type;$==="n"?(y=!0,$="g"):sj[$]||(w===void 0&&(w=12),b=!0,$="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var _=g==="$"?n:g==="#"&&/[boxX]/.test($)?"0"+$.toLowerCase():"",E=g==="$"?r:/[%p]/.test($)?s:"",C=sj[$],N=/[defgprs%]/.test($);w=w===void 0?6:/[gprs]/.test($)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(M){var B=_,F=E,R,J,re;if($==="c")F=C(M)+F,M="";else{M=+M;var ie=M<0||1/M<0;if(M=isNaN(M)?l:C(Math.abs(M),w),b&&(M=Gke(M)),ie&&+M==0&&p!=="+"&&(ie=!1),B=(ie?p==="("?p:a:p==="-"||p==="("?"":p)+B,F=($==="s"?uj[8+UW/3]:"")+F+(ie&&p==="("?")":""),N){for(R=-1,J=M.length;++R<J;)if(re=M.charCodeAt(R),48>re||re>57){F=(re===46?i+M.slice(R+1):M.slice(R))+F,M=M.slice(0,R);break}}}y&&!v&&(M=t(M,1/0));var G=B.length+M.length+F.length,Q=G<m?new Array(m-G+1).join(d):"";switch(y&&v&&(M=t(Q+M,Q.length?m-F.length:1/0),Q=""),h){case"<":M=B+M+F+Q;break;case"=":M=B+Q+M+F;break;case"^":M=Q.slice(0,G=Q.length>>1)+B+M+F+Q.slice(G);break;default:M=Q+B+M+F;break}return o(M)}return L.toString=function(){return f+""},L}function c(f,d){var h=u((f=rw(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(nf(d)/3)))*3,g=Math.pow(10,-p),v=uj[8+p/3];return function(m){return h(g*m)+v}}return{format:u,formatPrefix:c}}var pg,HW,qW;Xke({thousands:",",grouping:[3],currency:["$",""]});function Xke(e){return pg=Qke(e),HW=pg.format,qW=pg.formatPrefix,pg}function Jke(e){return Math.max(0,-nf(Math.abs(e)))}function Zke(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nf(t)/3)))*3-nf(Math.abs(e)))}function eTe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nf(t)-nf(e))+1}function tTe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function nTe(){return this.eachAfter(tTe)}function rTe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function iTe(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function oTe(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function sTe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function aTe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function lTe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function uTe(e){for(var t=this,n=cTe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function cTe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function fTe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function dTe(){return Array.from(this)}function hTe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function pTe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*mTe(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function dk(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=vTe)):t===void 0&&(t=yTe);for(var n=new iw(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new iw(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(_Te)}function gTe(){return dk(this).eachBefore(wTe)}function yTe(e){return e.children}function vTe(e){return Array.isArray(e)?e[1]:null}function wTe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function _Te(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function iw(e){this.data=e,this.depth=this.height=0,this.parent=null}iw.prototype=dk.prototype={constructor:iw,count:nTe,each:rTe,eachAfter:oTe,eachBefore:iTe,find:sTe,sum:aTe,sort:lTe,path:uTe,ancestors:fTe,descendants:dTe,leaves:hTe,links:pTe,copy:gTe,[Symbol.iterator]:mTe};function bTe(e){return e==null?null:STe(e)}function STe(e){if(typeof e!="function")throw new Error;return e}function cj(){return 0}function $Te(e){return function(){return e}}const ETe=1664525,xTe=1013904223,fj=4294967296;function OTe(){let e=1;return()=>(e=(ETe*e+xTe)%fj)/fj}function PTe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CTe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function ITe(e,t){for(var n=0,r=(e=CTe(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&WW(s,o)?++n:(s=TTe(i=kTe(i,o)),n=0);return s}function kTe(e,t){var n,r;if(ES(t,e))return[t];for(n=0;n<e.length;++n)if(mg(t,e[n])&&ES(Pd(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(mg(Pd(e[n],e[r]),t)&&mg(Pd(e[n],t),e[r])&&mg(Pd(e[r],t),e[n])&&ES(KW(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function mg(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function WW(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function ES(e,t){for(var n=0;n<t.length;++n)if(!WW(e,t[n]))return!1;return!0}function TTe(e){switch(e.length){case 1:return ATe(e[0]);case 2:return Pd(e[0],e[1]);case 3:return KW(e[0],e[1],e[2])}}function ATe(e){return{x:e.x,y:e.y,r:e.r}}function Pd(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+s+u/f*c)/2,r:(f+i+a)/2}}function KW(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-s,h=r-u,p=i-a,g=i-c,v=l-o,m=f-o,y=r*r+i*i-o*o,w=y-s*s-a*a+l*l,b=y-u*u-c*c+f*f,$=h*p-d*g,_=(p*b-g*w)/($*2)-r,E=(g*v-p*m)/$,C=(h*w-d*b)/($*2)-i,N=(d*m-h*v)/$,L=E*E+N*N-1,M=2*(o+_*E+C*N),B=_*_+C*C-o*o,F=-(Math.abs(L)>1e-6?(M+Math.sqrt(M*M-4*L*B))/(2*L):B/M);return{x:r+_+E*F,y:i+C+N*F,r:F}}function dj(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function hj(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function pj(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function gg(e){this._=e,this.next=null,this.previous=null}function NTe(e,t){if(!(o=(e=PTe(e)).length))return 0;var n,r,i,o,s,a,l,u,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;dj(r,n,i=e[2]),n=new gg(n),r=new gg(r),i=new gg(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){dj(n._,r._,i=e[l]),i=new gg(i),u=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(hj(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(hj(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=pj(n);(i=i.next)!==r;)(a=pj(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=ITe(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function RTe(e){return Math.sqrt(e.value)}function DTe(){var e=null,t=1,n=1,r=cj;function i(o){const s=OTe();return o.x=t/2,o.y=n/2,e?o.eachBefore(mj(e)).eachAfter(xS(r,.5,s)).eachBefore(gj(1)):o.eachBefore(mj(RTe)).eachAfter(xS(cj,1,s)).eachAfter(xS(r,o.r/Math.min(t,n),s)).eachBefore(gj(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=bTe(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:$Te(+o),i):r},i}function mj(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function xS(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=NTe(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function gj(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function hk(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const yj=Symbol("implicit");function GW(){var e=new BL,t=[],n=[],r=yj;function i(o){let s=e.get(o);if(s===void 0){if(r!==yj)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new BL;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return GW(t,n).unknown(r)},hk.apply(i,arguments),i}function pb(){var e=GW().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),p+=(g-p-o*(d-l))*c,s=o*(1-l),a&&(p=Math.round(p),s=Math.round(s));var v=yPe(d).map(function(m){return p+o*m});return n(h?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return pb(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},hk.apply(f(),arguments)}function MTe(e){return function(){return e}}function LTe(e){return+e}var vj=[0,1];function Zu(e){return e}function Tx(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:MTe(isNaN(t)?NaN:.5)}function jTe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zTe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Tx(i,r),o=n(s,o)):(r=Tx(r,i),o=n(o,s)),function(a){return o(r(a))}}function FTe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Tx(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=lPe(e,a,1,r)-1;return o[l](i[l](a))}}function VTe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function BTe(){var e=vj,t=vj,n=ak,r,i,o,s=Zu,a,l,u;function c(){var d=Math.min(e.length,t.length);return s!==Zu&&(s=jTe(e[0],e[d-1])),a=d>2?FTe:zTe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(t,e.map(r),ao)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,LTe),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=$Ie,c()},f.clamp=function(d){return arguments.length?(s=d?!0:Zu,c()):s!==Zu},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function UTe(){return BTe()(Zu,Zu)}function HTe(e,t,n,r){var i=gPe(e,t,n),o;switch(r=rw(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Zke(i,s))&&(r.precision=o),qW(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=eTe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Jke(i))&&(r.precision=o-(r.type==="%")*2);break}}return HW(r)}function qTe(e){var t=e.domain;return e.ticks=function(n){var r=t();return mPe(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return HTe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=bx(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function rm(){var e=UTe();return e.copy=function(){return VTe(e,rm())},hk.apply(e,arguments),qTe(e)}function zn(e){return function(){return e}}const wj=Math.abs,br=Math.atan2,tl=Math.cos,WTe=Math.max,OS=Math.min,$o=Math.sin,ec=Math.sqrt,Hr=1e-12,np=Math.PI,ow=np/2,ny=2*np;function KTe(e){return e>1?0:e<-1?np:Math.acos(e)}function _j(e){return e>=1?ow:e<=-1?-ow:Math.asin(e)}function GTe(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Uke(t)}function YTe(e){return e.innerRadius}function QTe(e){return e.outerRadius}function XTe(e){return e.startAngle}function JTe(e){return e.endAngle}function ZTe(e){return e&&e.padAngle}function eAe(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,f=a-o,d=f*l-c*u;if(!(d*d<Hr))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function yg(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/ec(a*a+l*l),c=u*l,f=-u*a,d=e+c,h=t+f,p=n+c,g=r+f,v=(d+p)/2,m=(h+g)/2,y=p-d,w=g-h,b=y*y+w*w,$=i-o,_=d*g-p*h,E=(w<0?-1:1)*ec(WTe(0,$*$*b-_*_)),C=(_*w-y*E)/b,N=(-_*y-w*E)/b,L=(_*w+y*E)/b,M=(-_*y+w*E)/b,B=C-v,F=N-m,R=L-v,J=M-m;return B*B+F*F>R*R+J*J&&(C=L,N=M),{cx:C,cy:N,x01:-c,y01:-f,x11:C*(i/$-1),y11:N*(i/$-1)}}function bj(){var e=YTe,t=QTe,n=zn(0),r=null,i=XTe,o=JTe,s=ZTe,a=null,l=GTe(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-ow,g=o.apply(this,arguments)-ow,v=wj(g-p),m=g>p;if(a||(a=c=l()),h<d&&(f=h,h=d,d=f),!(h>Hr))a.moveTo(0,0);else if(v>ny-Hr)a.moveTo(h*tl(p),h*$o(p)),a.arc(0,0,h,p,g,!m),d>Hr&&(a.moveTo(d*tl(g),d*$o(g)),a.arc(0,0,d,g,p,m));else{var y=p,w=g,b=p,$=g,_=v,E=v,C=s.apply(this,arguments)/2,N=C>Hr&&(r?+r.apply(this,arguments):ec(d*d+h*h)),L=OS(wj(h-d)/2,+n.apply(this,arguments)),M=L,B=L,F,R;if(N>Hr){var J=_j(N/d*$o(C)),re=_j(N/h*$o(C));(_-=J*2)>Hr?(J*=m?1:-1,b+=J,$-=J):(_=0,b=$=(p+g)/2),(E-=re*2)>Hr?(re*=m?1:-1,y+=re,w-=re):(E=0,y=w=(p+g)/2)}var ie=h*tl(y),G=h*$o(y),Q=d*tl($),q=d*$o($);if(L>Hr){var O=h*tl(w),P=h*$o(w),z=d*tl(b),I=d*$o(b),k;if(v<np)if(k=eAe(ie,G,z,I,O,P,Q,q)){var V=ie-k[0],Z=G-k[1],oe=O-k[0],be=P-k[1],ce=1/$o(KTe((V*oe+Z*be)/(ec(V*V+Z*Z)*ec(oe*oe+be*be)))/2),xe=ec(k[0]*k[0]+k[1]*k[1]);M=OS(L,(d-xe)/(ce-1)),B=OS(L,(h-xe)/(ce+1))}else M=B=0}E>Hr?B>Hr?(F=yg(z,I,ie,G,h,B,m),R=yg(O,P,Q,q,h,B,m),a.moveTo(F.cx+F.x01,F.cy+F.y01),B<L?a.arc(F.cx,F.cy,B,br(F.y01,F.x01),br(R.y01,R.x01),!m):(a.arc(F.cx,F.cy,B,br(F.y01,F.x01),br(F.y11,F.x11),!m),a.arc(0,0,h,br(F.cy+F.y11,F.cx+F.x11),br(R.cy+R.y11,R.cx+R.x11),!m),a.arc(R.cx,R.cy,B,br(R.y11,R.x11),br(R.y01,R.x01),!m))):(a.moveTo(ie,G),a.arc(0,0,h,y,w,!m)):a.moveTo(ie,G),!(d>Hr)||!(_>Hr)?a.lineTo(Q,q):M>Hr?(F=yg(Q,q,O,P,d,-M,m),R=yg(ie,G,z,I,d,-M,m),a.lineTo(F.cx+F.x01,F.cy+F.y01),M<L?a.arc(F.cx,F.cy,M,br(F.y01,F.x01),br(R.y01,R.x01),!m):(a.arc(F.cx,F.cy,M,br(F.y01,F.x01),br(F.y11,F.x11),!m),a.arc(0,0,d,br(F.cy+F.y11,F.cx+F.x11),br(R.cy+R.y11,R.cx+R.x11),m),a.arc(R.cx,R.cy,M,br(R.y11,R.x11),br(R.y01,R.x01),!m))):a.arc(0,0,d,$,b,m)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-np/2;return[tl(f)*c,$o(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:zn(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:zn(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:zn(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:zn(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:zn(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:zn(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:zn(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function YW(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tAe(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function nAe(e){return e}function rAe(){var e=nAe,t=tAe,n=null,r=zn(0),i=zn(ny),o=zn(0);function s(a){var l,u=(a=YW(a)).length,c,f,d=0,h=new Array(u),p=new Array(u),g=+r.apply(this,arguments),v=Math.min(ny,Math.max(-ny,i.apply(this,arguments)-g)),m,y=Math.min(Math.abs(v)/u,o.apply(this,arguments)),w=y*(v<0?-1:1),b;for(l=0;l<u;++l)(b=p[h[l]=l]=+e(a[l],l,a))>0&&(d+=b);for(t!=null?h.sort(function($,_){return t(p[$],p[_])}):n!=null&&h.sort(function($,_){return n(a[$],a[_])}),l=0,f=d?(v-u*w)/d:0;l<u;++l,g=m)c=h[l],b=p[c],m=g+(b>0?b*f:0)+w,p[c]={data:a[c],index:l,value:b,startAngle:g,endAngle:m,padAngle:y};return p}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:zn(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,n=null,s):t},s.sort=function(a){return arguments.length?(n=a,t=null,s):n},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:zn(+a),s):r},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:zn(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:zn(+a),s):o},s}function Sj(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $j(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function iAe(e,t){return e[t]}function oAe(e){const t=[];return t.key=e,t}function sAe(){var e=zn([]),t=$j,n=Sj,r=iAe;function i(o){var s=Array.from(e.apply(this,arguments),oAe),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=YW(t(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:zn(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:zn(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?$j:typeof o=="function"?o:zn(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Sj,i):n},i}function Cd(e,t,n){this.k=e,this.x=t,this.y=n}Cd.prototype={constructor:Cd,scale:function(e){return e===1?this:new Cd(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Cd(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Cd.prototype;function aAe(){const e=zC.create(),t=e.register("save-interaction",(r,i)=>{r.interactions.push({...i,timestamp:Date.now()})}),n=AC({registry:e,initialState:{interactions:[]}});return{trrack:n,actions:{saveInteraction(r,i){n.apply(r,t(i))}}}}const QW=S.createContext(null);function im(e){const{actions:t}=S.useContext(QW),n=S.useCallback(i=>{t.saveInteraction("Hover start",{id:e,action:"mouseEnter",objectID:i.name})},[t,e]),r=S.useCallback(i=>{t.saveInteraction("Hover Complete",{id:e,action:"mouseLeave",objectID:i.name})},[t,e]);return{handleMouseEnter:n,handleMouseLeave:r}}const lAe=Object.freeze(Object.defineProperty({__proto__:null,useHoverInteraction:im},Symbol.toStringTag,{value:"Module"})),XW=({trialId:e,data:t,xScale:n,yScale:r,height:i})=>{const{handleMouseEnter:o,handleMouseLeave:s}=im(e);return x("g",{children:t.map((a,l)=>x("rect",{x:n(a.name),y:r(a.value),width:n.bandwidth(),height:i-r(a.value),fill:"transparent",onMouseEnter:()=>o(a),onMouseLeave:()=>s(a),stroke:"currentColor"},l))})},uAe=Object.freeze(Object.defineProperty({__proto__:null,Bars:XW},Symbol.toStringTag,{value:"Module"})),pk=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=o=>o})=>{const o=S.useMemo(()=>{const s=rm().domain(e).range(t),a=t[1]-t[0],u=Math.max(1,Math.floor(a/30));return i(s.ticks(u).map(c=>({value:c,xOffset:s(c)})))},[e,t,i]);return he("g",{children:[x("path",{d:["M",0,t[0],"h",r,"V",t[1],"h",-r].join(" "),fill:"none",stroke:"currentColor"}),n&&o.map(({value:s,xOffset:a})=>he("g",{transform:`translate(0,${a})`,children:[x("line",{x2:`${r}`,stroke:"currentColor"}),x("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-10px)"},children:s},s)]},s))]})},cAe=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisV:pk},Symbol.toStringTag,{value:"Module"})),JW=({domain:e=["A","B","C","D","E"],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=o=>o})=>{const o=S.useMemo(()=>{const s=pb().domain(e).range(t).padding(.2);return i(e.map(a=>({value:a,xOffset:(s(a)||0)+s.bandwidth()/2-5})))},[e,t,i]);return he("g",{children:[x("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&o.map(({value:s,xOffset:a})=>x("g",{transform:`translate(${a}, 10)`,children:x("circle",{r:2,cx:0,cy:0,children:s},s)},s))]})},fAe=Object.freeze(Object.defineProperty({__proto__:null,OrdinalAxisHWithDotMarks:JW},Symbol.toStringTag,{value:"Module"})),dAe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,width:400,height:400},hAe=({parameters:e,trialId:t})=>{const[r,i]=If(dAe),o=pb().domain(e.data.map(u=>u.name)).range([0,i.boundedWidth]).padding(.2),s=rm().domain([100,0]).range([0,i.boundedHeight]),a=u=>u.filter((c,f)=>f===0||f===u.length-1),l=u=>u.filter((c,f)=>e.selectedIndices.includes(f));return x("div",{className:"Chart__wrapper",ref:r,style:{height:400},children:x("svg",{width:i.width,height:i.height,children:he("g",{transform:`translate(${[i.marginLeft,i.marginTop].join(",")})`,children:[x("g",{transform:`translate(${[6,i.boundedHeight].join(",")})`,children:x(JW,{domain:o.domain(),range:o.range(),withTick:!0,tickLen:0,tickFilter:l})}),x("g",{transform:`translate(${[0,0].join(",")})`,children:x(pk,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:a})}),x("g",{transform:`translate(${[0,0].join(",")})`,children:x(XW,{data:e.data,trialId:t,xScale:o,yScale:s,height:i.boundedHeight})})]})})})},pAe=Object.freeze(Object.defineProperty({__proto__:null,default:hAe},Symbol.toStringTag,{value:"Module"})),ZW=({data:e,trialId:t})=>{const{handleMouseEnter:n,handleMouseLeave:r}=im(t);return x("g",{children:e.map(({bubble:i,data:o},s)=>x("circle",{cx:i.x,cy:i.y,r:i.r,fill:"transparent",stroke:"currentColor",onMouseEnter:()=>n(o),onMouseLeave:()=>r(o)},s))})},mAe=Object.freeze(Object.defineProperty({__proto__:null,Bubbles:ZW},Symbol.toStringTag,{value:"Module"})),mk=({positions:e})=>x("g",{children:e.map((t,n)=>x("circle",{cx:t.x,cy:t.y,r:2,fill:"black",stroke:"currentColor"},n))}),gAe=Object.freeze(Object.defineProperty({__proto__:null,DotMarks:mk},Symbol.toStringTag,{value:"Module"})),yAe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},vAe=({data:e},t=100,n=100)=>{const i={children:e.map(a=>+a.value).map(a=>({value:a}))},o=DTe().size([t-10,n-10]).padding(1.5),s=dk(i).sum(a=>a.value);return o(s).descendants().filter(a=>!a.children).map((a,l)=>({bubble:a,data:e[l]}))},wAe=(e,t)=>e.filter((n,r)=>t.includes(r)).map(({bubble:n})=>({x:n.x,y:n.y})),_Ae=({parameters:e,trialId:t})=>{const[n,r]=If(yAe),i=vAe(e,r.width,r.height),o=wAe(i,e.selectedIndices);return x("div",{className:"Chart__wrapper",ref:n,style:{height:"400px"},children:x("svg",{width:r.width,height:r.height,children:he("g",{transform:`translate(${[r.marginLeft/2,r.marginTop/2].join(",")})`,children:[x(ZW,{data:i,trialId:t}),x(mk,{positions:o})]})})})},bAe=Object.freeze(Object.defineProperty({__proto__:null,default:_Ae},Symbol.toStringTag,{value:"Module"})),SAe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:650,width:850},$Ae=({parameters:e,trialId:t,setAnswer:n})=>{const[r,i]=If(SAe),[o,s]=S.useState(100),[a,l]=S.useState(100),u=du().pathname,[c,f]=S.useState(300),d=e.taskid,{actions:h,trrack:p}=S.useMemo(()=>{const v=zC.create(),m=v.register("click",(w,b)=>(w.clickX=b.clickX,w.clickY=b.clickY,w.distance=b.distance,w)),y=AC({registry:v,initialState:{distance:0,speed:10,clickX:0,clickY:0}});return{actions:{click:m},trrack:y}},[]),g=S.useCallback(v=>{const m=bS("#movingCircle"),y=bS("#clickAccuracySvg"),w=eIe(v,y.node()),b=[+m.attr("cx"),+m.attr("cy")],$=Math.round(Math.sqrt((w[0]-b[0])**2+(w[1]-b[1])**2))+"px";p.apply("Clicked",h.click({distance:+$,clickX:w[0],clickY:w[1]})),n({trialId:u,status:!0,provenanceGraph:p.graph.backend,answers:{[`${u}/${d}`]:[...new Set([$])]}})},[h,u,n,d,p]);return S.useEffect(()=>{const v=Math.random()*800,m=Math.random()*600,w=Math.sqrt((v-o)**2+(m-a)**2)/c*1e3;bS(r.current).select("circle").transition().duration(w).ease(Mke).attr("cx",v).attr("cy",m).on("end",()=>{s(v),l(m)})},[r,c,o,a]),he(tn,{children:[x("div",{className:"Chart__wrapper",ref:r,onClick:g,style:{height:"650px"},children:x("svg",{id:"clickAccuracySvg",width:i.width,height:i.height,children:he("g",{transform:`translate(${[i.marginLeft/2,i.marginTop/2].join(",")})`,children:[x("rect",{width:"800",height:"600",stroke:"black",strokeWidth:"5",fill:"none"}),x("circle",{id:"movingCircle",cx:"100",cy:"100",r:"10"})]})})}),he(We,{children:["Adjust speed (px/s):",x(OP,{w:800,min:10,max:1e3,value:c,onChange:f})]})]})},EAe=Object.freeze(Object.defineProperty({__proto__:null,default:$Ae},Symbol.toStringTag,{value:"Module"})),eK=({trialId:e,arcs:t,data:n})=>{const{handleMouseEnter:r,handleMouseLeave:i}=im(e);return x("g",{children:t.map((o,s)=>x("path",{d:o(),fill:"transparent",stroke:"currentColor",onMouseEnter:()=>r(n[s]),onMouseLeave:()=>i(n[s])},s))})},xAe=Object.freeze(Object.defineProperty({__proto__:null,Slices:eK},Symbol.toStringTag,{value:"Module"})),tK=({positions:e})=>x("g",{children:e.map((t,n)=>x("g",{transform:`translate(${t.centroid()})`,children:x("circle",{r:2,cx:0,cy:0},n)},n))}),OAe=Object.freeze(Object.defineProperty({__proto__:null,SlicesDotMarks:tK},Symbol.toStringTag,{value:"Module"})),PAe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:500},CAe=rAe().value(e=>e.value),ld=150,IAe=({parameters:e,trialId:t})=>{const[n,r]=If(PAe),i=CAe(e.data),o=i.map(a=>bj().innerRadius(0).outerRadius(ld).startAngle(a.startAngle).endAngle(a.endAngle)),s=i.map(a=>bj().outerRadius(ld+10).innerRadius(ld+10).startAngle(a.startAngle).endAngle(a.endAngle)).filter((a,l)=>e.selectedIndices.includes(l));return x("div",{className:"Chart__wrapper",ref:n,style:{height:400},children:x("svg",{width:r.width,height:r.height,children:he("g",{transform:`translate(${[r.marginLeft+ld,r.marginTop+ld].join(",")})`,children:[x(eK,{arcs:o,data:e.data,trialId:t}),x(tK,{positions:s})]})})})},kAe=Object.freeze(Object.defineProperty({__proto__:null,default:IAe},Symbol.toStringTag,{value:"Module"})),nK=({domain:e=[0,100],range:t=[10,100],withTick:n=!0,tickLen:r=5,tickFilter:i=o=>o})=>{const o=S.useMemo(()=>{const s=rm().domain(e).range(t),a=t[1]-t[0],u=Math.max(1,Math.floor(a/30));return i(s.ticks(u).map(c=>({value:c,xOffset:s(c)})))},[e,t,i]);return he("g",{children:[x("path",{d:["M",t[0],r,"v",-r,"H",t[1],"v",r].join(" "),fill:"none",stroke:"currentColor"}),n&&o.map(({value:s,xOffset:a})=>he("g",{transform:`translate(${a}, 0)`,children:[x("line",{y2:`${r}`,stroke:"currentColor"}),x("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)"},children:s},s)]},s))]})},TAe=Object.freeze(Object.defineProperty({__proto__:null,NumericAxisH:nK},Symbol.toStringTag,{value:"Module"})),rK=({data:e,barWidth:t,yScale:n,trialId:r})=>{const{handleMouseEnter:i,handleMouseLeave:o}=im(r);return x("g",{children:e.map((s,a)=>x("rect",{x:t/2,y:n(s[0][1]),width:t,height:n(s[0][0])-n(s[0][1]),fill:"transparent",stroke:"currentColor",onMouseEnter:()=>i({name:s.key}),onMouseLeave:()=>o({name:s.key})},a))})},AAe=Object.freeze(Object.defineProperty({__proto__:null,StackedBars:rK},Symbol.toStringTag,{value:"Module"})),NAe={marginBottom:40,marginLeft:40,marginTop:15,marginRight:15,height:400,width:400},RAe=({parameters:e,trialId:t})=>{const[r,i]=If(NAe),o=pb().domain(e.data.map(p=>p.name)).range([0,i.boundedWidth]).padding(.2),s=rm().domain([100,0]).range([0,i.boundedWidth]),a=p=>p.filter((g,v)=>v===0||v===p.length-1),l=p=>p.filter((g,v)=>e.selectedIndices.includes(v)),u=p=>{const g=p.map(b=>+b.value),m=g.reduce((b,$)=>Number(b)+Number($))/100,y={};for(let b=0;b<g.length;b++)y[String.fromCharCode(b+65)]=g[b]/m;const w=[y];return sAe().keys(e.data.map(b=>b.name))(w)},c=(p,g,v)=>p.filter((y,w)=>g.includes(w)).map(y=>({x:v,y:s(y[0][1])+.5*(s(y[0][0])-s(y[0][1]))})),f=u(e.data),d=Math.min(i.width,i.height)/2-20,h=c(f,e.selectedIndices,d);return x("div",{className:"Chart__wrapper",ref:r,style:{height:"400"},children:x("svg",{width:i.width,height:i.height,children:he("g",{transform:`translate(${[i.marginLeft,i.marginTop].join(",")})`,children:[x("g",{transform:`translate(${[6,i.boundedHeight].join(",")})`,children:x(nK,{domain:o.domain(),range:o.range(),withTick:!0,tickLen:0,tickFilter:l})}),x("g",{transform:"translate(0, 0)",children:x(pk,{domain:s.domain(),range:s.range(),withTick:!0,tickLen:6,tickFilter:a})}),he("g",{transform:"translate(0, 0)",children:[x(rK,{data:f,barWidth:d,yScale:s,trialId:t}),x(mk,{positions:h})]})]})})})},DAe=Object.freeze(Object.defineProperty({__proto__:null,default:RAe},Symbol.toStringTag,{value:"Module"})),MAe=Object.assign({"../components/stimuli/BarChart.tsx":pAe,"../components/stimuli/BubbleChart.tsx":bAe,"../components/stimuli/ClickAccuracyTest.tsx":EAe,"../components/stimuli/PieChart.tsx":kAe,"../components/stimuli/StackedBarChart.tsx":DAe,"../components/stimuli/chartcomponents/Bars.tsx":uAe,"../components/stimuli/chartcomponents/Bubbles.tsx":mAe,"../components/stimuli/chartcomponents/DotMarks.tsx":gAe,"../components/stimuli/chartcomponents/NumericAxisH.tsx":TAe,"../components/stimuli/chartcomponents/NumericAxisV.tsx":cAe,"../components/stimuli/chartcomponents/OrdinalAxisHWithDotMarks.tsx":fAe,"../components/stimuli/chartcomponents/Slices.tsx":xAe,"../components/stimuli/chartcomponents/SlicesDotMarks.tsx":OAe,"../components/stimuli/chartcomponents/StackedBars.tsx":AAe,"../components/stimuli/hooks/useChartDimensions.tsx":nPe,"../components/stimuli/hooks/useHoverInteraction.ts":lAe,"../components/stimuli/inputcomponents/utils.ts":VOe}),LAe=({path:e,parameters:t,trialId:n})=>{const r=`../components/stimuli/${e}`,i=MAe[r].default;return x(S.Suspense,{fallback:x("div",{children:"Loading..."}),children:x(i,{parameters:t,trialId:n,setAnswer:oOe})})},Ej=["http","https","mailto","tel"];function jAe(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<Ej.length;){const o=Ej[i];if(r===o.length&&t.slice(0,o.length).toLowerCase()===o)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var zAe=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const iK=Wo(zAe);function rh(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?xj(e.position):"start"in e||"end"in e?xj(e):"line"in e||"column"in e?Ax(e):""}function Ax(e){return Oj(e&&e.line)+":"+Oj(e&&e.column)}function xj(e){return Ax(e&&e.start)+"-"+Ax(e&&e.end)}function Oj(e){return e&&typeof e=="number"?e:1}class Ji extends Error{constructor(t,n,r){const i=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}n&&("type"in n||"position"in n?n.position&&(o=n.position):"start"in n||"end"in n?o=n:("line"in n||"column"in n)&&(o.start=n)),this.name=rh(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ji.prototype.file="";Ji.prototype.name="";Ji.prototype.reason="";Ji.prototype.message="";Ji.prototype.stack="";Ji.prototype.fatal=null;Ji.prototype.column=null;Ji.prototype.line=null;Ji.prototype.source=null;Ji.prototype.ruleId=null;Ji.prototype.position=null;const xo={basename:FAe,dirname:VAe,extname:BAe,join:UAe,sep:"/"};function FAe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');om(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function VAe(e){if(om(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function BAe(e){om(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function UAe(...e){let t=-1,n;for(;++t<e.length;)om(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":HAe(n)}function HAe(e){om(e);const t=e.charCodeAt(0)===47;let n=qAe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function qAe(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.charCodeAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function om(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const WAe={cwd:KAe};function KAe(){return"/"}function Nx(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function GAe(e){if(typeof e=="string")e=new URL(e);else if(!Nx(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return YAe(e)}function YAe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const PS=["history","path","basename","stem","extname","dirname"];class oK{constructor(t){let n;t?typeof t=="string"||iK(t)?n={value:t}:Nx(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=WAe.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<PS.length;){const o=PS[r];o in n&&n[o]!==void 0&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)PS.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){Nx(t)&&(t=GAe(t)),IS(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?xo.dirname(this.path):void 0}set dirname(t){Pj(this.basename,"dirname"),this.path=xo.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?xo.basename(this.path):void 0}set basename(t){IS(t,"basename"),CS(t,"basename"),this.path=xo.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?xo.extname(this.path):void 0}set extname(t){if(CS(t,"extname"),Pj(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xo.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?xo.basename(this.path,this.extname):void 0}set stem(t){IS(t,"stem"),CS(t,"stem"),this.path=xo.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,n,r){const i=new Ji(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function CS(e,t){if(e&&e.includes(xo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xo.sep+"`")}function IS(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Pj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Cj(e){if(e)throw e}var ry=Object.prototype.hasOwnProperty,sK=Object.prototype.toString,Ij=Object.defineProperty,kj=Object.getOwnPropertyDescriptor,Tj=function(t){return typeof Array.isArray=="function"?Array.isArray(t):sK.call(t)==="[object Array]"},Aj=function(t){if(!t||sK.call(t)!=="[object Object]")return!1;var n=ry.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ry.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ry.call(t,i)},Nj=function(t,n){Ij&&n.name==="__proto__"?Ij(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Rj=function(t,n){if(n==="__proto__")if(ry.call(t,n)){if(kj)return kj(t,n).value}else return;return t[n]},QAe=function e(){var t,n,r,i,o,s,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=Rj(a,n),i=Rj(t,n),a!==i&&(c&&i&&(Aj(i)||(o=Tj(i)))?(o?(o=!1,s=r&&Tj(r)?r:[]):s=r&&Aj(r)?r:{},Nj(a,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&Nj(a,{name:n,newValue:i}));return a};const Dj=Wo(QAe);function Rx(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function XAe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=e[++o];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?JAe(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function JAe(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l instanceof Promise?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const ZAe=lK().freeze(),aK={}.hasOwnProperty;function lK(){const e=XAe(),t=[];let n={},r,i=-1;return o.data=s,o.Parser=void 0,o.Compiler=void 0,o.freeze=a,o.attachers=t,o.use=l,o.parse=u,o.stringify=c,o.run=f,o.runSync=d,o.process=h,o.processSync=p,o;function o(){const g=lK();let v=-1;for(;++v<t.length;)g.use(...t[v]);return g.data(Dj(!0,{},n)),g}function s(g,v){return typeof g=="string"?arguments.length===2?(AS("data",r),n[g]=v,o):aK.call(n,g)&&n[g]||null:g?(AS("data",r),n=g,o):n}function a(){if(r)return o;for(;++i<t.length;){const[g,...v]=t[i];if(v[0]===!1)continue;v[0]===!0&&(v[0]=void 0);const m=g.call(o,...v);typeof m=="function"&&e.use(m)}return r=!0,i=Number.POSITIVE_INFINITY,o}function l(g,...v){let m;if(AS("use",r),g!=null)if(typeof g=="function")$(g,...v);else if(typeof g=="object")Array.isArray(g)?b(g):w(g);else throw new TypeError("Expected usable value, not `"+g+"`");return m&&(n.settings=Object.assign(n.settings||{},m)),o;function y(_){if(typeof _=="function")$(_);else if(typeof _=="object")if(Array.isArray(_)){const[E,...C]=_;$(E,...C)}else w(_);else throw new TypeError("Expected usable value, not `"+_+"`")}function w(_){b(_.plugins),_.settings&&(m=Object.assign(m||{},_.settings))}function b(_){let E=-1;if(_!=null)if(Array.isArray(_))for(;++E<_.length;){const C=_[E];y(C)}else throw new TypeError("Expected a list of plugins, not `"+_+"`")}function $(_,E){let C=-1,N;for(;++C<t.length;)if(t[C][0]===_){N=t[C];break}N?(Rx(N[1])&&Rx(E)&&(E=Dj(!0,N[1],E)),N[1]=E):t.push([...arguments])}}function u(g){o.freeze();const v=ud(g),m=o.Parser;return kS("parse",m),Mj(m,"parse")?new m(String(v),v).parse():m(String(v),v)}function c(g,v){o.freeze();const m=ud(v),y=o.Compiler;return TS("stringify",y),Lj(g),Mj(y,"compile")?new y(g,m).compile():y(g,m)}function f(g,v,m){if(Lj(g),o.freeze(),!m&&typeof v=="function"&&(m=v,v=void 0),!m)return new Promise(y);y(null,m);function y(w,b){e.run(g,ud(v),$);function $(_,E,C){E=E||g,_?b(_):w?w(E):m(null,E,C)}}}function d(g,v){let m,y;return o.run(g,v,w),jj("runSync","run",y),m;function w(b,$){Cj(b),m=$,y=!0}}function h(g,v){if(o.freeze(),kS("process",o.Parser),TS("process",o.Compiler),!v)return new Promise(m);m(null,v);function m(y,w){const b=ud(g);o.run(o.parse(b),b,(_,E,C)=>{if(_||!E||!C)$(_);else{const N=o.stringify(E,C);N==null||(nNe(N)?C.value=N:C.result=N),$(_,C)}});function $(_,E){_||!E?w(_):y?y(E):v(null,E)}}}function p(g){let v;o.freeze(),kS("processSync",o.Parser),TS("processSync",o.Compiler);const m=ud(g);return o.process(m,y),jj("processSync","process",v),m;function y(w){v=!0,Cj(w)}}}function Mj(e,t){return typeof e=="function"&&e.prototype&&(eNe(e.prototype)||t in e.prototype)}function eNe(e){let t;for(t in e)if(aK.call(e,t))return!0;return!1}function kS(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function TS(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function AS(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Lj(e){if(!Rx(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function jj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ud(e){return tNe(e)?e:new oK(e)}function tNe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function nNe(e){return typeof e=="string"||iK(e)}function rNe(e,t){var{includeImageAlt:n=!0}=t||{};return uK(e,n)}function uK(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&zj(e.children,t)||Array.isArray(e)&&zj(e,t))||""}function zj(e,t){for(var n=[],r=-1;++r<e.length;)n[r]=uK(e[r],t);return n.join("")}function qo(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),[].splice.apply(e,s);else for(n&&[].splice.apply(e,[t,n]);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),[].splice.apply(e,s),o+=1e4,t+=1e4}function Li(e,t){return e.length>0?(qo(e,e.length,0,t),e):t}const Fj={}.hasOwnProperty;function iNe(e){const t={};let n=-1;for(;++n<e.length;)oNe(t,e[n]);return t}function oNe(e,t){let n;for(n in t){const i=(Fj.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;for(s in o){Fj.call(i,s)||(i[s]=[]);const a=o[s];sNe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function sNe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);qo(e,0,0,r)}const aNe=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,To=Xa(/[A-Za-z]/),Dx=Xa(/\d/),lNe=Xa(/[\dA-Fa-f]/),mi=Xa(/[\dA-Za-z]/),uNe=Xa(/[!-/:-@[-`{-~]/),Vj=Xa(/[#-'*+\--9=?A-Z^-~]/);function Mx(e){return e!==null&&(e<32||e===127)}function qi(e){return e!==null&&(e<0||e===32)}function et(e){return e!==null&&e<-2}function Nn(e){return e===-2||e===-1||e===32}const cNe=Xa(/\s/),fNe=Xa(aNe);function Xa(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Ht(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Nn(l)?(e.enter(n),a(l)):t(l)}function a(l){return Nn(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const dNe={tokenize:hNe};function hNe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ht(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return et(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const pNe={tokenize:mNe},Bj={tokenize:gNe};function mNe(e){const t=this,n=[];let r=0,i,o,s;return a;function a(w){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const b=t.events.length;let $=b,_;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){_=t.events[$][1].end;break}m(r);let E=b;for(;E<t.events.length;)t.events[E][1].end=Object.assign({},_),E++;return qo(t.events,$+1,0,t.events.slice(b)),t.events.length=E,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return d(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Bj,c,f)(w)}function c(w){return i&&y(),m(r),d(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function d(w){return t.containerState={},e.attempt(Bj,h,p)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),d(w)}function p(w){if(w===null){i&&y(),m(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),g(w)}function g(w){if(w===null){v(e.exit("chunkFlow"),!0),m(0),e.consume(w);return}return et(w)?(e.consume(w),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),g)}function v(w,b){const $=t.sliceStream(w);if(b&&$.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write($),t.parser.lazy[w.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<s&&(!i.events[_][1].end||i.events[_][1].end.offset>s))return;const E=t.events.length;let C=E,N,L;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(N){L=t.events[C][1].end;break}N=!0}for(m(r),_=E;_<t.events.length;)t.events[_][1].end=Object.assign({},L),_++;qo(t.events,C+1,0,t.events.slice(E)),t.events.length=_}}function m(w){let b=n.length;for(;b-- >w;){const $=n[b];t.containerState=$[1],$[0].exit.call(t,e)}n.length=w}function y(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function gNe(e,t,n){return Ht(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Uj(e){if(e===null||qi(e)||cNe(e))return 1;if(fNe(e))return 2}function gk(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Lx={name:"attention",tokenize:vNe,resolveAll:yNe};function yNe(e,t){let n=-1,r,i,o,s,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);Hj(f,-l),Hj(d,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Li(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Li(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=Li(u,gk(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Li(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Li(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,qo(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function vNe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Uj(r);let o;return s;function s(l){return e.enter("attentionSequence"),o=l,a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),c=Uj(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!d)),u._close=!!(o===42?d:d&&(c||!f)),t(l)}}function Hj(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wNe={name:"autolink",tokenize:_Ne};function _Ne(e,t,n){let r=1;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(p){return To(p)?(e.consume(p),s):Vj(p)?u(p):n(p)}function s(p){return p===43||p===45||p===46||mi(p)?a(p):u(p)}function a(p){return p===58?(e.consume(p),l):(p===43||p===45||p===46||mi(p))&&r++<32?(e.consume(p),a):u(p)}function l(p){return p===62?(e.exit("autolinkProtocol"),h(p)):p===null||p===32||p===60||Mx(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),r=0,c):Vj(p)?(e.consume(p),u):n(p)}function c(p){return mi(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,c):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(p)):d(p)}function d(p){return(p===45||mi(p))&&r++<63?(e.consume(p),p===45?d:f):n(p)}function h(p){return e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t}}const mb={tokenize:bNe,partial:!0};function bNe(e,t,n){return Ht(e,r,"linePrefix");function r(i){return i===null||et(i)?t(i):n(i)}}const cK={name:"blockQuote",tokenize:SNe,continuation:{tokenize:$Ne},exit:ENe};function SNe(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Nn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function $Ne(e,t,n){return Ht(e,e.attempt(cK,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ENe(e){e.exit("blockQuote")}const fK={name:"characterEscape",tokenize:xNe};function xNe(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return uNe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const qj=document.createElement("i");function yk(e){const t="&"+e+";";qj.innerHTML=t;const n=qj.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const dK={name:"characterReference",tokenize:ONe};function ONe(e,t,n){const r=this;let i=0,o,s;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=mi,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=lNe,c):(e.enter("characterReferenceValue"),o=7,s=Dx,c(f))}function c(f){let d;return f===59&&i?(d=e.exit("characterReferenceValue"),s===mi&&!yk(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):s(f)&&i++<o?(e.consume(f),c):n(f)}}const Wj={name:"codeFenced",tokenize:PNe,concrete:!0};function PNe(e,t,n){const r=this,i={tokenize:$,partial:!0},o={tokenize:b,partial:!0},s=this.events[this.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let l=0,u;return c;function c(_){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u=_,f(_)}function f(_){return _===u?(e.consume(_),l++,f):(e.exit("codeFencedFenceSequence"),l<3?n(_):Ht(e,d,"whitespace")(_))}function d(_){return _===null||et(_)?v(_):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||qi(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ht(e,p,"whitespace")(_)):_===96&&_===u?n(_):(e.consume(_),h)}function p(_){return _===null||et(_)?v(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||et(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),v(_)):_===96&&_===u?n(_):(e.consume(_),g)}function v(_){return e.exit("codeFencedFence"),r.interrupt?t(_):m(_)}function m(_){return _===null?w(_):et(_)?e.attempt(o,e.attempt(i,w,a?Ht(e,m,"linePrefix",a+1):m),w)(_):(e.enter("codeFlowValue"),y(_))}function y(_){return _===null||et(_)?(e.exit("codeFlowValue"),m(_)):(e.consume(_),y)}function w(_){return e.exit("codeFenced"),t(_)}function b(_,E,C){const N=this;return L;function L(B){return _.enter("lineEnding"),_.consume(B),_.exit("lineEnding"),M}function M(B){return N.parser.lazy[N.now().line]?C(B):E(B)}}function $(_,E,C){let N=0;return Ht(_,L,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function L(F){return _.enter("codeFencedFence"),_.enter("codeFencedFenceSequence"),M(F)}function M(F){return F===u?(_.consume(F),N++,M):N<l?C(F):(_.exit("codeFencedFenceSequence"),Ht(_,B,"whitespace")(F))}function B(F){return F===null||et(F)?(_.exit("codeFencedFence"),E(F)):C(F)}}}const NS={name:"codeIndented",tokenize:INe},CNe={tokenize:kNe,partial:!0};function INe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ht(e,o,"linePrefix",4+1)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):et(u)?e.attempt(CNe,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||et(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function kNe(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):et(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Ht(e,o,"linePrefix",4+1)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):et(s)?i(s):n(s)}}const TNe={name:"codeText",tokenize:RNe,resolve:ANe,previous:NNe};function ANe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function NNe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function RNe(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):et(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||et(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}function hK(e){const t={};let n=-1,r,i,o,s,a,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,DNe(e,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=e[o],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),qo(e,i,n-i+1,a))}}return!u}function DNe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],u={};let c,f,d=-1,h=n,p=0,g=0;const v=[g];for(;h;){for(;e[++i][1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,v.push(g),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):v.pop(),d=v.length;d--;){const m=a.slice(v[d],v[d+1]),y=o.pop();l.unshift([y,y+m.length-1]),qo(e,y,2,m)}for(d=-1;++d<l.length;)u[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return u}const MNe={tokenize:zNe,resolve:jNe},LNe={tokenize:FNe,partial:!0};function jNe(e){return hK(e),e}function zNe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):et(a)?e.check(LNe,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function FNe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ht(e,o,"linePrefix")}function o(s){if(s===null||et(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function pK(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(m){return m===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(m),e.exit(o),d):m===null||m===41||Mx(m)?n(m):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(m))}function d(m){return m===62?(e.enter(o),e.consume(m),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===62?(e.exit("chunkString"),e.exit(a),d(m)):m===null||m===60||et(m)?n(m):(e.consume(m),m===92?p:h)}function p(m){return m===60||m===62||m===92?(e.consume(m),h):h(m)}function g(m){return m===40?++c>u?n(m):(e.consume(m),g):m===41?c--?(e.consume(m),g):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(m)):m===null||qi(m)?c?n(m):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(m)):Mx(m)?n(m):(e.consume(m),m===92?v:g)}function v(m){return m===40||m===41||m===92?(e.consume(m),g):g(m)}}function mK(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs||a>999?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):et(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||et(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l=l||!Nn(h),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function gK(e,t,n,r,i,o){let s;return a;function a(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),s=d===40?41:d,l}function l(d){return d===s?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),u(d))}function u(d){return d===s?(e.exit(o),l(s)):d===null?n(d):et(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ht(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===s||d===null||et(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:c)}function f(d){return d===s||d===92?(e.consume(d),c):c(d)}}function ih(e,t){let n;return r;function r(i){return et(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Nn(i)?Ht(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function _c(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const VNe={name:"definition",tokenize:UNe},BNe={tokenize:HNe,partial:!0};function UNe(e,t,n){const r=this;let i;return o;function o(l){return e.enter("definition"),mK.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function s(l){return i=_c(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(e.enter("definitionMarker"),e.consume(l),e.exit("definitionMarker"),ih(e,pK(e,e.attempt(BNe,Ht(e,a,"whitespace"),Ht(e,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function a(l){return l===null||et(l)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(l)):n(l)}}function HNe(e,t,n){return r;function r(s){return qi(s)?ih(e,i)(s):n(s)}function i(s){return s===34||s===39||s===40?gK(e,Ht(e,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s):n(s)}function o(s){return s===null||et(s)?t(s):n(s)}}const qNe={name:"hardBreakEscape",tokenize:WNe};function WNe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(o),i}function i(o){return et(o)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(o)):n(o)}}const KNe={name:"headingAtx",tokenize:YNe,resolve:GNe};function GNe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},qo(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function YNe(e,t,n){const r=this;let i=0;return o;function o(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&i++<6?(e.consume(c),s):c===null||qi(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||et(c)?(e.exit("atxHeading"),t(c)):Nn(c)?Ht(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||qi(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const QNe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kj=["pre","script","style","textarea"],XNe={name:"htmlFlow",tokenize:eRe,resolveTo:ZNe,concrete:!0},JNe={tokenize:tRe,partial:!0};function ZNe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function eRe(e,t,n){const r=this;let i,o,s,a,l;return u;function u(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),c}function c(P){return P===33?(e.consume(P),f):P===47?(e.consume(P),p):P===63?(e.consume(P),i=3,r.interrupt?t:Q):To(P)?(e.consume(P),s=String.fromCharCode(P),o=!0,g):n(P)}function f(P){return P===45?(e.consume(P),i=2,d):P===91?(e.consume(P),i=5,s="CDATA[",a=0,h):To(P)?(e.consume(P),i=4,r.interrupt?t:Q):n(P)}function d(P){return P===45?(e.consume(P),r.interrupt?t:Q):n(P)}function h(P){return P===s.charCodeAt(a++)?(e.consume(P),a===s.length?r.interrupt?t:M:h):n(P)}function p(P){return To(P)?(e.consume(P),s=String.fromCharCode(P),g):n(P)}function g(P){return P===null||P===47||P===62||qi(P)?P!==47&&o&&Kj.includes(s.toLowerCase())?(i=1,r.interrupt?t(P):M(P)):QNe.includes(s.toLowerCase())?(i=6,P===47?(e.consume(P),v):r.interrupt?t(P):M(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):o?y(P):m(P)):P===45||mi(P)?(e.consume(P),s+=String.fromCharCode(P),g):n(P)}function v(P){return P===62?(e.consume(P),r.interrupt?t:M):n(P)}function m(P){return Nn(P)?(e.consume(P),m):N(P)}function y(P){return P===47?(e.consume(P),N):P===58||P===95||To(P)?(e.consume(P),w):Nn(P)?(e.consume(P),y):N(P)}function w(P){return P===45||P===46||P===58||P===95||mi(P)?(e.consume(P),w):b(P)}function b(P){return P===61?(e.consume(P),$):Nn(P)?(e.consume(P),b):y(P)}function $(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),l=P,_):Nn(P)?(e.consume(P),$):(l=null,E(P))}function _(P){return P===null||et(P)?n(P):P===l?(e.consume(P),C):(e.consume(P),_)}function E(P){return P===null||P===34||P===39||P===60||P===61||P===62||P===96||qi(P)?b(P):(e.consume(P),E)}function C(P){return P===47||P===62||Nn(P)?y(P):n(P)}function N(P){return P===62?(e.consume(P),L):n(P)}function L(P){return Nn(P)?(e.consume(P),L):P===null||et(P)?M(P):n(P)}function M(P){return P===45&&i===2?(e.consume(P),J):P===60&&i===1?(e.consume(P),re):P===62&&i===4?(e.consume(P),q):P===63&&i===3?(e.consume(P),Q):P===93&&i===5?(e.consume(P),G):et(P)&&(i===6||i===7)?e.check(JNe,q,B)(P):P===null||et(P)?B(P):(e.consume(P),M)}function B(P){return e.exit("htmlFlowData"),F(P)}function F(P){return P===null?O(P):et(P)?e.attempt({tokenize:R,partial:!0},F,O)(P):(e.enter("htmlFlowData"),M(P))}function R(P,z,I){return k;function k(Z){return P.enter("lineEnding"),P.consume(Z),P.exit("lineEnding"),V}function V(Z){return r.parser.lazy[r.now().line]?I(Z):z(Z)}}function J(P){return P===45?(e.consume(P),Q):M(P)}function re(P){return P===47?(e.consume(P),s="",ie):M(P)}function ie(P){return P===62&&Kj.includes(s.toLowerCase())?(e.consume(P),q):To(P)&&s.length<8?(e.consume(P),s+=String.fromCharCode(P),ie):M(P)}function G(P){return P===93?(e.consume(P),Q):M(P)}function Q(P){return P===62?(e.consume(P),q):P===45&&i===2?(e.consume(P),Q):M(P)}function q(P){return P===null||et(P)?(e.exit("htmlFlowData"),O(P)):(e.consume(P),q)}function O(P){return e.exit("htmlFlow"),t(P)}}function tRe(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(mb,t,n)}}const nRe={name:"htmlText",tokenize:rRe};function rRe(e,t,n){const r=this;let i,o,s,a;return l;function l(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),u}function u(O){return O===33?(e.consume(O),c):O===47?(e.consume(O),E):O===63?(e.consume(O),$):To(O)?(e.consume(O),L):n(O)}function c(O){return O===45?(e.consume(O),f):O===91?(e.consume(O),o="CDATA[",s=0,v):To(O)?(e.consume(O),b):n(O)}function f(O){return O===45?(e.consume(O),d):n(O)}function d(O){return O===null||O===62?n(O):O===45?(e.consume(O),h):p(O)}function h(O){return O===null||O===62?n(O):p(O)}function p(O){return O===null?n(O):O===45?(e.consume(O),g):et(O)?(a=p,G(O)):(e.consume(O),p)}function g(O){return O===45?(e.consume(O),q):p(O)}function v(O){return O===o.charCodeAt(s++)?(e.consume(O),s===o.length?m:v):n(O)}function m(O){return O===null?n(O):O===93?(e.consume(O),y):et(O)?(a=m,G(O)):(e.consume(O),m)}function y(O){return O===93?(e.consume(O),w):m(O)}function w(O){return O===62?q(O):O===93?(e.consume(O),w):m(O)}function b(O){return O===null||O===62?q(O):et(O)?(a=b,G(O)):(e.consume(O),b)}function $(O){return O===null?n(O):O===63?(e.consume(O),_):et(O)?(a=$,G(O)):(e.consume(O),$)}function _(O){return O===62?q(O):$(O)}function E(O){return To(O)?(e.consume(O),C):n(O)}function C(O){return O===45||mi(O)?(e.consume(O),C):N(O)}function N(O){return et(O)?(a=N,G(O)):Nn(O)?(e.consume(O),N):q(O)}function L(O){return O===45||mi(O)?(e.consume(O),L):O===47||O===62||qi(O)?M(O):n(O)}function M(O){return O===47?(e.consume(O),q):O===58||O===95||To(O)?(e.consume(O),B):et(O)?(a=M,G(O)):Nn(O)?(e.consume(O),M):q(O)}function B(O){return O===45||O===46||O===58||O===95||mi(O)?(e.consume(O),B):F(O)}function F(O){return O===61?(e.consume(O),R):et(O)?(a=F,G(O)):Nn(O)?(e.consume(O),F):M(O)}function R(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),i=O,J):et(O)?(a=R,G(O)):Nn(O)?(e.consume(O),R):(e.consume(O),i=void 0,ie)}function J(O){return O===i?(e.consume(O),re):O===null?n(O):et(O)?(a=J,G(O)):(e.consume(O),J)}function re(O){return O===62||O===47||qi(O)?M(O):n(O)}function ie(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===62||qi(O)?M(O):(e.consume(O),ie)}function G(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),Ht(e,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Q(O){return e.enter("htmlTextData"),a(O)}function q(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),t):n(O)}}const vk={name:"labelEnd",tokenize:uRe,resolveTo:lRe,resolveAll:aRe},iRe={tokenize:cRe},oRe={tokenize:fRe},sRe={tokenize:dRe};function aRe(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function lRe(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=Li(a,e.slice(o+1,o+r+3)),a=Li(a,[["enter",c,t]]),a=Li(a,gk(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=Li(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=Li(a,e.slice(s+1)),a=Li(a,[["exit",l,t]]),qo(e,o,e.length,a),e}function uRe(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(c){return o?o._inactive?u(c):(s=r.parser.defined.includes(_c(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),l):n(c)}function l(c){return c===40?e.attempt(iRe,t,s?t:u)(c):c===91?e.attempt(oRe,t,s?e.attempt(sRe,t,u):u)(c):s?t(c):u(c)}function u(c){return o._balanced=!0,n(c)}}function cRe(e,t,n){return r;function r(l){return e.enter("resource"),e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),ih(e,i)}function i(l){return l===41?a(l):pK(e,o,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function o(l){return qi(l)?ih(e,s)(l):a(l)}function s(l){return l===34||l===39||l===40?gK(e,ih(e,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):a(l)}function a(l){return l===41?(e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),e.exit("resource"),t):n(l)}}function fRe(e,t,n){const r=this;return i;function i(s){return mK.call(r,e,o,n,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(_c(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}}function dRe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const hRe={name:"labelStartImage",tokenize:pRe,resolveAll:vk.resolveAll};function pRe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const mRe={name:"labelStartLink",tokenize:gRe,resolveAll:vk.resolveAll};function gRe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const RS={name:"lineEnding",tokenize:yRe};function yRe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ht(e,t,"linePrefix")}}const iy={name:"thematicBreak",tokenize:vRe};function vRe(e,t,n){let r=0,i;return o;function o(l){return e.enter("thematicBreak"),i=l,s(l)}function s(l){return l===i?(e.enter("thematicBreakSequence"),a(l)):Nn(l)?Ht(e,s,"whitespace")(l):r<3||l!==null&&!et(l)?n(l):(e.exit("thematicBreak"),t(l))}function a(l){return l===i?(e.consume(l),r++,a):(e.exit("thematicBreakSequence"),s(l))}}const qr={name:"list",tokenize:bRe,continuation:{tokenize:SRe},exit:ERe},wRe={tokenize:xRe,partial:!0},_Re={tokenize:$Re,partial:!0};function bRe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Dx(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(iy,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Dx(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(mb,r.interrupt?n:c,e.attempt(wRe,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return Nn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function SRe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(mb,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ht(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Nn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(_Re,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ht(e,e.attempt(qr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function $Re(e,t,n){const r=this;return Ht(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function ERe(e){e.exit(this.containerState.type)}function xRe(e,t,n){const r=this;return Ht(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){const s=r.events[r.events.length-1];return!Nn(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Gj={name:"setextUnderline",tokenize:PRe,resolveTo:ORe};function ORe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function PRe(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){s=r.events[i][1].type==="paragraph";break}return a;function a(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),o=c,l(c)):n(c)}function l(c){return c===o?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),Ht(e,u,"lineSuffix")(c))}function u(c){return c===null||et(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const CRe={tokenize:IRe};function IRe(e){const t=this,n=e.attempt(mb,r,e.attempt(this.parser.constructs.flowInitial,i,Ht(e,e.attempt(this.parser.constructs.flow,i,e.attempt(MNe,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const kRe={resolveAll:vK()},TRe=yK("string"),ARe=yK("text");function yK(e){return{tokenize:t,resolveAll:vK(e==="text"?NRe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function vK(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function NRe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function RRe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:y,enter:w,exit:b,attempt:E($),check:E(_),interrupt:E(_,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:g,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(M){return s=Li(s,M),v(),s[s.length-1]!==null?[]:(C(t,0),u.events=gk(o,u.events,u),u.events)}function d(M,B){return MRe(h(M),B)}function h(M){return DRe(s,M)}function p(){return Object.assign({},r)}function g(M){i[M.line]=M.column,L()}function v(){let M;for(;r._index<s.length;){const B=s[r._index];if(typeof B=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<B.length;)m(B.charCodeAt(r._bufferIndex));else m(B)}}function m(M){c=c(M)}function y(M){et(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,L()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=M}function w(M,B){const F=B||{};return F.type=M,F.start=p(),u.events.push(["enter",F,u]),a.push(F),F}function b(M){const B=a.pop();return B.end=p(),u.events.push(["exit",B,u]),B}function $(M,B){C(M,B.from)}function _(M,B){B.restore()}function E(M,B){return F;function F(R,J,re){let ie,G,Q,q;return Array.isArray(R)?P(R):"tokenize"in R?P([R]):O(R);function O(V){return Z;function Z(oe){const be=oe!==null&&V[oe],ce=oe!==null&&V.null,xe=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return P(xe)(oe)}}function P(V){return ie=V,G=0,V.length===0?re:z(V[G])}function z(V){return Z;function Z(oe){return q=N(),Q=V,V.partial||(u.currentConstruct=V),V.name&&u.parser.constructs.disable.null.includes(V.name)?k():V.tokenize.call(B?Object.assign(Object.create(u),B):u,l,I,k)(oe)}}function I(V){return M(Q,q),J}function k(V){return q.restore(),++G<ie.length?z(ie[G]):re}}}function C(M,B){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&qo(u.events,B,u.events.length-B,M.resolve(u.events.slice(B),u)),M.resolveTo&&(u.events=M.resolveTo(u.events,u))}function N(){const M=p(),B=u.previous,F=u.currentConstruct,R=u.events.length,J=Array.from(a);return{restore:re,from:R};function re(){r=M,u.previous=B,u.currentConstruct=F,u.events.length=R,a=J,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function DRe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;return n===i?s=[e[n].slice(r,o)]:(s=e.slice(n,i),r>-1&&(s[0]=s[0].slice(r)),o>0&&s.push(e[i].slice(0,o))),s}function MRe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const LRe={[42]:qr,[43]:qr,[45]:qr,[48]:qr,[49]:qr,[50]:qr,[51]:qr,[52]:qr,[53]:qr,[54]:qr,[55]:qr,[56]:qr,[57]:qr,[62]:cK},jRe={[91]:VNe},zRe={[-2]:NS,[-1]:NS,[32]:NS},FRe={[35]:KNe,[42]:iy,[45]:[Gj,iy],[60]:XNe,[61]:Gj,[95]:iy,[96]:Wj,[126]:Wj},VRe={[38]:dK,[92]:fK},BRe={[-5]:RS,[-4]:RS,[-3]:RS,[33]:hRe,[38]:dK,[42]:Lx,[60]:[wNe,nRe],[91]:mRe,[92]:[qNe,fK],[93]:vk,[95]:Lx,[96]:TNe},URe={null:[Lx,kRe]},HRe={null:[42,95]},qRe={null:[]},WRe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:HRe,contentInitial:jRe,disable:qRe,document:LRe,flow:FRe,flowInitial:zRe,insideSpan:URe,string:VRe,text:BRe},Symbol.toStringTag,{value:"Module"}));function KRe(e={}){const t=iNe([WRe].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(dNe),document:r(pNe),flow:r(CRe),string:r(TRe),text:r(ARe)};return n;function r(i){return o;function o(s){return RRe(n,i,s)}}}const Yj=/[\0\t\n\r]/g;function GRe(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,f,d,h;for(o=t+o.toString(s),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(Yj.lastIndex=f,u=Yj.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){t=o.slice(f);break}if(h===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(o.slice(f,d)),e+=d-f),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function YRe(e){for(;!hK(e););return e}function wK(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const QRe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function XRe(e){return e.replace(QRe,JRe)}function JRe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return wK(n.slice(o?2:1),o?16:10)}return yk(n)||e}const jx={}.hasOwnProperty,ZRe=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),eDe(n)(YRe(KRe(n).document().write(GRe()(e,t,!0))))};function eDe(e={}){const t=_K({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(yt),autolinkProtocol:B,autolinkEmail:B,atxHeading:l(rt),blockQuote:l(Ue),characterEscape:B,characterReference:B,codeFenced:l(_t),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(_t,u),codeText:l(Ft,u),codeTextData:B,data:B,codeFlowValue:B,definition:l(Qe),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Le),hardBreakEscape:l(Xe),hardBreakTrailing:l(Xe),htmlFlow:l(nn,u),htmlFlowData:B,htmlText:l(nn,u),htmlTextData:B,image:l(Kt),label:u,link:l(yt),listItem:l(Ge),listItemValue:g,listOrdered:l(bt,p),listUnordered:l(bt),paragraph:l(at),reference:V,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(rt),strong:l(Ct),thematicBreak:l(ln)},exit:{atxHeading:f(),atxHeadingSequence:C,autolink:f(),autolinkEmail:xe,autolinkProtocol:ce,blockQuote:f(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:be,codeFenced:f(w),codeFencedFence:y,codeFencedFenceInfo:v,codeFencedFenceMeta:m,codeFlowValue:F,codeIndented:f(b),codeText:f(G),codeTextData:F,data:F,definition:f(),definitionDestinationString:E,definitionLabelString:$,definitionTitleString:_,emphasis:f(),hardBreakEscape:f(J),hardBreakTrailing:f(J),htmlFlow:f(re),htmlFlowData:F,htmlText:f(ie),htmlTextData:F,image:f(q),label:P,labelText:O,lineEnding:R,link:f(Q),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Z,resourceDestinationString:z,resourceTitleString:I,resource:k,setextHeading:f(M),setextHeadingLineSequence:L,setextHeadingText:N,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return r;function r(X){let ue={type:"root",children:[]};const $e=[ue],ze=[],_e=[],Fe={stack:$e,tokenStack:ze,config:t,enter:c,exit:d,buffer:u,resume:h,setData:o,getData:s};let Ee=-1;for(;++Ee<X.length;)if(X[Ee][1].type==="listOrdered"||X[Ee][1].type==="listUnordered")if(X[Ee][0]==="enter")_e.push(Ee);else{const Me=_e.pop();Ee=i(X,Me,Ee)}for(Ee=-1;++Ee<X.length;){const Me=t[X[Ee][0]];jx.call(Me,X[Ee][1].type)&&Me[X[Ee][1].type].call(Object.assign({sliceSerialize:X[Ee][2].sliceSerialize},Fe),X[Ee][1])}if(ze.length>0){const Me=ze[ze.length-1];(Me[1]||Qj).call(Fe,void 0,Me[0])}for(ue.position={start:a(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:a(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},Ee=-1;++Ee<t.transforms.length;)ue=t.transforms[Ee](ue)||ue;return ue}function i(X,ue,$e){let ze=ue-1,_e=-1,Fe=!1,Ee,Me,un,St;for(;++ze<=$e;){const it=X[ze];if(it[1].type==="listUnordered"||it[1].type==="listOrdered"||it[1].type==="blockQuote"?(it[0]==="enter"?_e++:_e--,St=void 0):it[1].type==="lineEndingBlank"?it[0]==="enter"&&(Ee&&!St&&!_e&&!un&&(un=ze),St=void 0):it[1].type==="linePrefix"||it[1].type==="listItemValue"||it[1].type==="listItemMarker"||it[1].type==="listItemPrefix"||it[1].type==="listItemPrefixWhitespace"||(St=void 0),!_e&&it[0]==="enter"&&it[1].type==="listItemPrefix"||_e===-1&&it[0]==="exit"&&(it[1].type==="listUnordered"||it[1].type==="listOrdered")){if(Ee){let rn=ze;for(Me=void 0;rn--;){const Rt=X[rn];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Me&&(X[Me][1].type="lineEndingBlank",Fe=!0),Rt[1].type="lineEnding",Me=rn}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}un&&(!Me||un<Me)&&(Ee._spread=!0),Ee.end=Object.assign({},Me?X[Me][1].start:it[1].end),X.splice(Me||ze,0,["exit",Ee,it[2]]),ze++,$e++}it[1].type==="listItemPrefix"&&(Ee={type:"listItem",_spread:!1,start:Object.assign({},it[1].start)},X.splice(ze,0,["enter",Ee,it[2]]),ze++,$e++,un=void 0,St=!0)}}return X[ue][1]._spread=Fe,$e}function o(X,ue){n[X]=ue}function s(X){return n[X]}function a(X){return{line:X.line,column:X.column,offset:X.offset}}function l(X,ue){return $e;function $e(ze){c.call(this,X(ze),ze),ue&&ue.call(this,ze)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(X,ue,$e){return this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([ue,$e]),X.position={start:a(ue.start)},X}function f(X){return ue;function ue($e){X&&X.call(this,$e),d.call(this,$e)}}function d(X,ue){const $e=this.stack.pop(),ze=this.tokenStack.pop();if(ze)ze[0].type!==X.type&&(ue?ue.call(this,X,ze[0]):(ze[1]||Qj).call(this,X,ze[0]));else throw new Error("Cannot close `"+X.type+"` ("+rh({start:X.start,end:X.end})+"): it’s not open");return $e.position.end=a(X.end),$e}function h(){return rNe(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function g(X){if(s("expectingFirstListItemValue")){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(X),10),o("expectingFirstListItemValue")}}function v(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=X}function m(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=X}function y(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function w(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function b(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X.replace(/(\r?\n|\r)$/g,"")}function $(X){const ue=this.resume(),$e=this.stack[this.stack.length-1];$e.label=ue,$e.identifier=_c(this.sliceSerialize(X)).toLowerCase()}function _(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.title=X}function E(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.url=X}function C(X){const ue=this.stack[this.stack.length-1];if(!ue.depth){const $e=this.sliceSerialize(X).length;ue.depth=$e}}function N(){o("setextHeadingSlurpLineEnding",!0)}function L(X){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(X).charCodeAt(0)===61?1:2}function M(){o("setextHeadingSlurpLineEnding")}function B(X){const ue=this.stack[this.stack.length-1];let $e=ue.children[ue.children.length-1];(!$e||$e.type!=="text")&&($e=Pt(),$e.position={start:a(X.start)},ue.children.push($e)),this.stack.push($e)}function F(X){const ue=this.stack.pop();ue.value+=this.sliceSerialize(X),ue.position.end=a(X.end)}function R(X){const ue=this.stack[this.stack.length-1];if(s("atHardBreak")){const $e=ue.children[ue.children.length-1];$e.position.end=a(X.end),o("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(ue.type)&&(B.call(this,X),F.call(this,X))}function J(){o("atHardBreak",!0)}function re(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X}function ie(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X}function G(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.value=X}function Q(){const X=this.stack[this.stack.length-1];s("inReference")?(X.type+="Reference",X.referenceType=s("referenceType")||"shortcut",delete X.url,delete X.title):(delete X.identifier,delete X.label),o("referenceType")}function q(){const X=this.stack[this.stack.length-1];s("inReference")?(X.type+="Reference",X.referenceType=s("referenceType")||"shortcut",delete X.url,delete X.title):(delete X.identifier,delete X.label),o("referenceType")}function O(X){const ue=this.stack[this.stack.length-2],$e=this.sliceSerialize(X);ue.label=XRe($e),ue.identifier=_c($e).toLowerCase()}function P(){const X=this.stack[this.stack.length-1],ue=this.resume(),$e=this.stack[this.stack.length-1];o("inReference",!0),$e.type==="link"?$e.children=X.children:$e.alt=ue}function z(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.url=X}function I(){const X=this.resume(),ue=this.stack[this.stack.length-1];ue.title=X}function k(){o("inReference")}function V(){o("referenceType","collapsed")}function Z(X){const ue=this.resume(),$e=this.stack[this.stack.length-1];$e.label=ue,$e.identifier=_c(this.sliceSerialize(X)).toLowerCase(),o("referenceType","full")}function oe(X){o("characterReferenceType",X.type)}function be(X){const ue=this.sliceSerialize(X),$e=s("characterReferenceType");let ze;$e?(ze=wK(ue,$e==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):ze=yk(ue);const _e=this.stack.pop();_e.value+=ze,_e.position.end=a(X.end)}function ce(X){F.call(this,X);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(X)}function xe(X){F.call(this,X);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(X)}function Ue(){return{type:"blockquote",children:[]}}function _t(){return{type:"code",lang:null,meta:null,value:""}}function Ft(){return{type:"inlineCode",value:""}}function Qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function rt(){return{type:"heading",depth:void 0,children:[]}}function Xe(){return{type:"break"}}function nn(){return{type:"html",value:""}}function Kt(){return{type:"image",title:null,url:"",alt:null}}function yt(){return{type:"link",title:null,url:"",children:[]}}function bt(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function Ge(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function at(){return{type:"paragraph",children:[]}}function Ct(){return{type:"strong",children:[]}}function Pt(){return{type:"text",value:""}}function ln(){return{type:"thematicBreak"}}}function _K(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?_K(e,r):tDe(e,r)}return e}function tDe(e,t){let n;for(n in t)if(jx.call(t,n)){const r=n==="canContainEols"||n==="transforms",o=(jx.call(e,n)?e[n]:void 0)||(e[n]=r?[]:{}),s=t[n];s&&(r?e[n]=[...o,...s]:Object.assign(o,s))}}function Qj(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+rh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+rh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+rh({start:t.start,end:t.end})+") is still open")}function nDe(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return ZRe(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var Bn=function(e,t,n){var r={type:String(e)};return n==null&&(typeof t=="string"||Array.isArray(t))?n=t:Object.assign(r,t),Array.isArray(n)?r.children=n:n!=null&&(r.value=String(n)),r};const oy={}.hasOwnProperty;function rDe(e,t){const n=t.data||{};return"value"in t&&!(oy.call(n,"hName")||oy.call(n,"hProperties")||oy.call(n,"hChildren"))?e.augment(t,Bn("text",t.value)):e(t,"div",Ir(e,t))}function bK(e,t,n){const r=t&&t.type;let i;if(!r)throw new Error("Expected node, got `"+t+"`");return oy.call(e.handlers,r)?i=e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?i=iDe:i=e.unknownHandler,(typeof i=="function"?i:rDe)(e,t,n)}function iDe(e,t){return"children"in t?{...t,children:Ir(e,t)}:t}function Ir(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const o=bK(e,r[i],t);if(o){if(i&&r[i-1].type==="break"&&(!Array.isArray(o)&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&o.type==="element")){const s=o.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}const SK=function(e){if(e==null)return lDe;if(typeof e=="string")return aDe(e);if(typeof e=="object")return Array.isArray(e)?oDe(e):sDe(e);if(typeof e=="function")return gb(e);throw new Error("Expected function, string, or object as test")};function oDe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=SK(e[n]);return gb(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function sDe(e){return gb(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function aDe(e){return gb(t);function t(n){return n&&n.type===e}}function gb(e){return t;function t(...n){return!!e.call(this,...n)}}function lDe(){return!0}const uDe=!0,cDe="skip",Xj=!1,fDe=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=SK(t),o=r?-1:1;s(e,null,[])();function s(a,l,u){const c=typeof a=="object"&&a!==null?a:{};let f;return typeof c.type=="string"&&(f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})),d;function d(){let h=[],p,g,v;if((!t||i(a,l,u[u.length-1]||null))&&(h=dDe(n(a,u)),h[0]===Xj))return h;if(a.children&&h[0]!==cDe)for(g=(r?a.children.length:-1)+o,v=u.concat(a);g>-1&&g<a.children.length;){if(p=s(a.children[g],g,v)(),p[0]===Xj)return p;g=typeof p[1]=="number"?p[1]:g+o}return h}}};function dDe(e){return Array.isArray(e)?e:typeof e=="number"?[uDe,e]:[e]}const wk=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),fDe(e,t,i,r);function i(o,s){const a=s[s.length-1];return n(o,a?a.children.indexOf(o):null,a)}},$K=xK("start"),EK=xK("end");function xK(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function hDe(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const Jj={}.hasOwnProperty;function pDe(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return wk(e,"definition",r=>{const i=Zj(r.identifier);i&&!Jj.call(t,i)&&(t[i]=r)}),n;function n(r){const i=Zj(r);return i&&Jj.call(t,i)?t[i]:null}}function Zj(e){return String(e||"").toUpperCase()}function kf(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&mi(e.charCodeAt(n+1))&&mi(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s="�"}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ss(e,t){const n=[];let r=-1;for(t&&n.push(Bn("text",`
`));++r<e.length;)r&&n.push(Bn("text",`
`)),n.push(e[r]);return t&&e.length>0&&n.push(Bn("text",`
`)),n}function mDe(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!r)continue;const i=Ir(e,r),o=String(r.identifier),s=kf(o.toLowerCase());let a=0;const l=[];for(;++a<=e.footnoteCounts[o];){const f={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:"↩"}]};a>1&&f.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(f)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const f=u.children[u.children.length-1];f&&f.type==="text"?f.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:ss(i,!0)};r.position&&(c.position=r.position),n.push(c)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[Bn("text",e.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:ss(n,!0)},{type:"text",value:`
`}]}}function gDe(e,t){return e(t,"blockquote",ss(Ir(e,t),!0))}function yDe(e,t){return[e(t,"br"),Bn("text",`
`)]}function vDe(e,t){const n=t.value?t.value+`
`:"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={};r&&(i.className=["language-"+r]);const o=e(t,"code",i,[Bn("text",n)]);return t.meta&&(o.data={meta:t.meta}),e(t.position,"pre",[o])}function wDe(e,t){return e(t,"del",Ir(e,t))}function _De(e,t){return e(t,"em",Ir(e,t))}function OK(e,t){const n=String(t.identifier),r=kf(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let o;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,o=e.footnoteOrder.length):(e.footnoteCounts[n]++,o=i+1);const s=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Bn("text",String(o))])])}function bDe(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},OK(e,{type:"footnoteReference",identifier:i,position:t.position})}function SDe(e,t){return e(t,"h"+t.depth,Ir(e,t))}function $De(e,t){return e.dangerous?e.augment(t,Bn("raw",t.value)):null}function PK(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return Bn("text","!["+t.alt+r);const i=Ir(e,t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift(Bn("text","["));const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push(Bn("text",r)),i}function EDe(e,t){const n=e.definition(t.identifier);if(!n)return PK(e,t);const r={src:kf(n.url||""),alt:t.alt};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"img",r)}function xDe(e,t){const n={src:kf(t.url),alt:t.alt};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"img",n)}function ODe(e,t){return e(t,"code",[Bn("text",t.value.replace(/\r?\n|\r/g," "))])}function PDe(e,t){const n=e.definition(t.identifier);if(!n)return PK(e,t);const r={href:kf(n.url||"")};return n.title!==null&&n.title!==void 0&&(r.title=n.title),e(t,"a",r,Ir(e,t))}function CDe(e,t){const n={href:kf(t.url)};return t.title!==null&&t.title!==void 0&&(n.title=t.title),e(t,"a",n,Ir(e,t))}function IDe(e,t,n){const r=Ir(e,t),i=n?kDe(n):CK(t),o={},s=[];if(typeof t.checked=="boolean"){let u;r[0]&&r[0].type==="element"&&r[0].tagName==="p"?u=r[0]:(u=e(null,"p",[]),r.unshift(u)),u.children.length>0&&u.children.unshift(Bn("text"," ")),u.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&s.push(Bn("text",`
`)),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=r[r.length-1];return l&&(i||!("tagName"in l)||l.tagName!=="p")&&s.push(Bn("text",`
`)),e(t,"li",o,s)}function kDe(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=CK(n[r]);return!!t}function CK(e){const t=e.spread;return t??e.children.length>1}function TDe(e,t){const n={},r=t.ordered?"ol":"ul",i=Ir(e,t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<i.length;){const s=i[o];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,ss(i,!0))}function ADe(e,t){return e(t,"p",Ir(e,t))}function NDe(e,t){return e.augment(t,Bn("root",ss(Ir(e,t))))}function RDe(e,t){return e(t,"strong",Ir(e,t))}function DDe(e,t){const n=t.children;let r=-1;const i=t.align||[],o=[];for(;++r<n.length;){const s=n[r].children,a=r===0?"th":"td",l=[];let u=-1;const c=t.align?i.length:s.length;for(;++u<c;){const f=s[u];l.push(e(f,a,{align:i[u]},f?Ir(e,f):[]))}o[r]=e(n[r],"tr",ss(l,!0))}return e(t,"table",ss([e(o[0].position,"thead",ss([o[0]],!0))].concat(o[1]?e({start:$K(o[1]),end:EK(o[o.length-1])},"tbody",ss(o.slice(1),!0)):[]),!0))}const ez=9,tz=32;function MDe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(nz(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(nz(t.slice(i),i>0,!1)),o.join("")}function nz(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===ez||o===tz;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===ez||o===tz;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function LDe(e,t){return e.augment(t,Bn("text",MDe(String(t.value))))}function jDe(e,t){return e(t,"hr")}const zDe={blockquote:gDe,break:yDe,code:vDe,delete:wDe,emphasis:_De,footnoteReference:OK,footnote:bDe,heading:SDe,html:$De,imageReference:EDe,image:xDe,inlineCode:ODe,linkReference:PDe,link:CDe,listItem:IDe,list:TDe,paragraph:ADe,root:NDe,strong:RDe,table:DDe,text:LDe,thematicBreak:jDe,toml:vg,yaml:vg,definition:vg,footnoteDefinition:vg};function vg(){return null}const FDe={}.hasOwnProperty;function VDe(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteLabelTagName=n.footnoteLabelTagName||"h2",s.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.definition=pDe(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.augment=o,s.handlers={...zDe,...n.handlers},s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,wk(e,"footnoteDefinition",a=>{const l=String(a.identifier).toUpperCase();FDe.call(i,l)||(i[l]=a)}),s;function o(a,l){if(a&&"data"in a&&a.data){const u=a.data;u.hName&&(l.type!=="element"&&(l={type:"element",tagName:"",properties:{},children:[]}),l.tagName=u.hName),l.type==="element"&&u.hProperties&&(l.properties={...l.properties,...u.hProperties}),"children"in l&&l.children&&u.hChildren&&(l.children=u.hChildren)}if(a){const u="type"in a?a:{position:a};hDe(u)||(l.position={start:$K(u),end:EK(u)})}return l}function s(a,l,u,c){return Array.isArray(u)&&(c=u,u={}),o(a,{type:"element",tagName:l,properties:u||{},children:c||[]})}}function IK(e,t){const n=VDe(e,t),r=bK(n,e,null),i=mDe(n);return i&&r.children.push(Bn("text",`
`),i),Array.isArray(r)?{type:"root",children:r}:r}const BDe=function(e,t){return e&&"run"in e?HDe(e,t):qDe(e||t)},UDe=BDe;function HDe(e,t){return(n,r,i)=>{e.run(IK(n,t),r,o=>{i(o)})}}function qDe(e){return t=>IK(t,e)}var kK={exports:{}},WDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KDe=WDe,GDe=KDe;function TK(){}function AK(){}AK.resetWarningCache=TK;var YDe=function(){function e(r,i,o,s,a,l){if(l!==GDe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:AK,resetWarningCache:TK};return n.PropTypes=n,n};kK.exports=YDe();var QDe=kK.exports;const Be=Wo(QDe);class sm{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}sm.prototype.property={};sm.prototype.normal={};sm.prototype.space=null;function NK(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new sm(n,r,t)}function zx(e){return e.toLowerCase()}class Zi{constructor(t,n){this.property=t,this.attribute=n}}Zi.prototype.space=null;Zi.prototype.boolean=!1;Zi.prototype.booleanish=!1;Zi.prototype.overloadedBoolean=!1;Zi.prototype.number=!1;Zi.prototype.commaSeparated=!1;Zi.prototype.spaceSeparated=!1;Zi.prototype.commaOrSpaceSeparated=!1;Zi.prototype.mustUseProperty=!1;Zi.prototype.defined=!1;let XDe=0;const ut=wu(),Tn=wu(),RK=wu(),me=wu(),Qt=wu(),bc=wu(),fi=wu();function wu(){return 2**++XDe}const Fx=Object.freeze(Object.defineProperty({__proto__:null,boolean:ut,booleanish:Tn,commaOrSpaceSeparated:fi,commaSeparated:bc,number:me,overloadedBoolean:RK,spaceSeparated:Qt},Symbol.toStringTag,{value:"Module"})),DS=Object.keys(Fx);class _k extends Zi{constructor(t,n,r,i){let o=-1;if(super(t,n),rz(this,"space",i),typeof r=="number")for(;++o<DS.length;){const s=DS[o];rz(this,DS[o],(r&Fx[s])===Fx[s])}}}_k.prototype.defined=!0;function rz(e,t,n){n&&(e[t]=n)}const JDe={}.hasOwnProperty;function Tf(e){const t={},n={};let r;for(r in e.properties)if(JDe.call(e.properties,r)){const i=e.properties[r],o=new _k(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[zx(r)]=r,n[zx(o.attribute)]=r}return new sm(t,n,e.space)}const DK=Tf({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),MK=Tf({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function LK(e,t){return t in e?e[t]:t}function jK(e,t){return LK(e,t.toLowerCase())}const zK=Tf({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:jK,properties:{xmlns:null,xmlnsXLink:null}}),FK=Tf({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Tn,ariaAutoComplete:null,ariaBusy:Tn,ariaChecked:Tn,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:Qt,ariaCurrent:null,ariaDescribedBy:Qt,ariaDetails:null,ariaDisabled:Tn,ariaDropEffect:Qt,ariaErrorMessage:null,ariaExpanded:Tn,ariaFlowTo:Qt,ariaGrabbed:Tn,ariaHasPopup:null,ariaHidden:Tn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qt,ariaLevel:me,ariaLive:null,ariaModal:Tn,ariaMultiLine:Tn,ariaMultiSelectable:Tn,ariaOrientation:null,ariaOwns:Qt,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:Tn,ariaReadOnly:Tn,ariaRelevant:null,ariaRequired:Tn,ariaRoleDescription:Qt,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:Tn,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null}}),ZDe=Tf({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:jK,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bc,acceptCharset:Qt,accessKey:Qt,action:null,allow:null,allowFullScreen:ut,allowPaymentRequest:ut,allowUserMedia:ut,alt:null,as:null,async:ut,autoCapitalize:null,autoComplete:Qt,autoFocus:ut,autoPlay:ut,capture:ut,charSet:null,checked:ut,cite:null,className:Qt,cols:me,colSpan:null,content:null,contentEditable:Tn,controls:ut,controlsList:Qt,coords:me|bc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ut,defer:ut,dir:null,dirName:null,disabled:ut,download:RK,draggable:Tn,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ut,formTarget:null,headers:Qt,height:me,hidden:ut,high:me,href:null,hrefLang:null,htmlFor:Qt,httpEquiv:Qt,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:ut,itemId:null,itemProp:Qt,itemRef:Qt,itemScope:ut,itemType:Qt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ut,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:ut,muted:ut,name:null,nonce:null,noModule:ut,noValidate:ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ut,optimum:me,pattern:null,ping:Qt,placeholder:null,playsInline:ut,poster:null,preload:null,readOnly:ut,referrerPolicy:null,rel:Qt,required:ut,reversed:ut,rows:me,rowSpan:me,sandbox:Qt,scope:null,scoped:ut,seamless:ut,selected:ut,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:Tn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:ut,useMap:null,value:Tn,width:me,wrap:null,align:null,aLink:null,archive:Qt,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ut,declare:ut,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:ut,noHref:ut,noShade:ut,noWrap:ut,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:Tn,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ut,disableRemotePlayback:ut,prefix:null,property:null,results:me,security:null,unselectable:null}}),e2e=Tf({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:LK,properties:{about:fi,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:Qt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bc,g2:bc,glyphName:bc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:fi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fi,rev:fi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fi,requiredFeatures:fi,requiredFonts:fi,requiredFormats:fi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:fi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fi,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fi,to:null,transform:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),t2e=/^data[-\w.:]+$/i,iz=/-[a-z]/g,n2e=/[A-Z]/g;function r2e(e,t){const n=zx(t);let r=t,i=Zi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&t2e.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(iz,o2e);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!iz.test(o)){let s=o.replace(n2e,i2e);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=_k}return new i(r,t)}function i2e(e){return"-"+e.toLowerCase()}function o2e(e){return e.charAt(1).toUpperCase()}const oz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},s2e=NK([MK,DK,zK,FK,ZDe],"html"),a2e=NK([MK,DK,zK,FK,e2e],"svg");function l2e(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{wk(t,"element",(n,r,i)=>{const o=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(n.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(n,r,o)),s&&typeof r=="number")return e.unwrapDisallowed&&n.children?o.children.splice(r,1,...n.children):o.children.splice(r,1),r})}}var VK={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk=Symbol.for("react.element"),Sk=Symbol.for("react.portal"),yb=Symbol.for("react.fragment"),vb=Symbol.for("react.strict_mode"),wb=Symbol.for("react.profiler"),_b=Symbol.for("react.provider"),bb=Symbol.for("react.context"),u2e=Symbol.for("react.server_context"),Sb=Symbol.for("react.forward_ref"),$b=Symbol.for("react.suspense"),Eb=Symbol.for("react.suspense_list"),xb=Symbol.for("react.memo"),Ob=Symbol.for("react.lazy"),c2e=Symbol.for("react.offscreen"),BK;BK=Symbol.for("react.module.reference");function eo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bk:switch(e=e.type,e){case yb:case wb:case vb:case $b:case Eb:return e;default:switch(e=e&&e.$$typeof,e){case u2e:case bb:case Sb:case Ob:case xb:case _b:return e;default:return t}}case Sk:return t}}}zt.ContextConsumer=bb;zt.ContextProvider=_b;zt.Element=bk;zt.ForwardRef=Sb;zt.Fragment=yb;zt.Lazy=Ob;zt.Memo=xb;zt.Portal=Sk;zt.Profiler=wb;zt.StrictMode=vb;zt.Suspense=$b;zt.SuspenseList=Eb;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(e){return eo(e)===bb};zt.isContextProvider=function(e){return eo(e)===_b};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bk};zt.isForwardRef=function(e){return eo(e)===Sb};zt.isFragment=function(e){return eo(e)===yb};zt.isLazy=function(e){return eo(e)===Ob};zt.isMemo=function(e){return eo(e)===xb};zt.isPortal=function(e){return eo(e)===Sk};zt.isProfiler=function(e){return eo(e)===wb};zt.isStrictMode=function(e){return eo(e)===vb};zt.isSuspense=function(e){return eo(e)===$b};zt.isSuspenseList=function(e){return eo(e)===Eb};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yb||e===wb||e===vb||e===$b||e===Eb||e===c2e||typeof e=="object"&&e!==null&&(e.$$typeof===Ob||e.$$typeof===xb||e.$$typeof===_b||e.$$typeof===bb||e.$$typeof===Sb||e.$$typeof===BK||e.getModuleId!==void 0)};zt.typeOf=eo;VK.exports=zt;var f2e=VK.exports;const d2e=Wo(f2e);function h2e(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function p2e(e){return e.join(" ").trim()}function m2e(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var $k={exports:{}},sz=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,g2e=/\n/g,y2e=/^\s*/,v2e=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,w2e=/^:\s*/,_2e=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,b2e=/^[;\s]*/,S2e=/^\s+|\s+$/g,$2e=`
`,az="/",lz="*",_l="",E2e="comment",x2e="declaration",O2e=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(g2e);g&&(n+=g.length);var v=p.lastIndexOf($2e);r=~v?p.length-v:r+p.length}function o(){var p={line:n,column:r};return function(g){return g.position=new s(p),u(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var v=g[0];return i(v),e=e.slice(v.length),g}}function u(){l(y2e)}function c(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=o();if(!(az!=e.charAt(0)||lz!=e.charAt(1))){for(var g=2;_l!=e.charAt(g)&&(lz!=e.charAt(g)||az!=e.charAt(g+1));)++g;if(g+=2,_l===e.charAt(g-1))return a("End of comment missing");var v=e.slice(2,g-2);return r+=2,i(v),e=e.slice(g),r+=2,p({type:E2e,comment:v})}}function d(){var p=o(),g=l(v2e);if(g){if(f(),!l(w2e))return a("property missing ':'");var v=l(_2e),m=p({type:x2e,property:uz(g[0].replace(sz,_l)),value:v?uz(v[0].replace(sz,_l)):_l});return l(b2e),m}}function h(){var p=[];c(p);for(var g;g=d();)g!==!1&&(p.push(g),c(p));return p}return u(),h()};function uz(e){return e?e.replace(S2e,_l):_l}var P2e=O2e;function UK(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=P2e(e),o=typeof t=="function",s,a,l=0,u=i.length;l<u;l++)r=i[l],s=r.property,a=r.value,o?t(s,a,r):a&&(n||(n={}),n[s]=a);return n}$k.exports=UK;$k.exports.default=UK;var C2e=$k.exports;const I2e=Wo(C2e),Vx={}.hasOwnProperty,k2e=new Set(["table","thead","tbody","tfoot","tr"]);function HK(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(T2e(e,i,r,t)):i.type==="text"?(t.type!=="element"||!k2e.has(t.tagName)||!h2e(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function T2e(e,t,n,r){const i=e.options,o=i.transformLinkUri===void 0?jAe:i.transformLinkUri,s=e.schema,a=t.tagName,l={};let u=s,c;if(s.space==="html"&&a==="svg"&&(u=a2e,e.schema=u),t.properties)for(c in t.properties)Vx.call(t.properties,c)&&N2e(l,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const f=HK(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=s;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&Vx.call(i.components,a)?i.components[a]:a,p=typeof h=="string"||h===Fi.Fragment;if(!d2e.isValidElementType(h))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=[a,d.start.line,d.start.column,n].join("-"),a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&o&&(l.href=o(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!p&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!p&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!p&&a==="li"&&r.type==="element"){const g=A2e(t);l.checked=g&&g.properties?!!g.properties.checked:null,l.index=MS(r,t),l.ordered=r.tagName==="ol"}return!p&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=e.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),p||(l.isHeader=a==="th")),!p&&a==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=M2e(d)),!p&&i.rawSourcePos&&(l.sourcePosition=t.position),!p&&i.includeElementIndex&&(l.index=MS(r,t),l.siblingCount=MS(r)),p||(l.node=t),f.length>0?Fi.createElement(h,l,f):Fi.createElement(h,l)}function A2e(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function MS(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function N2e(e,t,n,r){const i=r2e(r.schema,t);let o=n;o==null||o!==o||(Array.isArray(o)&&(o=i.commaSeparated?m2e(o):p2e(o)),i.property==="style"&&typeof o=="string"&&(o=R2e(o)),i.space&&i.property?e[Vx.call(oz,i.property)?oz[i.property]:i.property]=o:i.attribute&&(e[i.attribute]=o))}function R2e(e){const t={};try{I2e(e,n)}catch{}return t;function n(r,i){const o=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[o.replace(/-([a-z])/g,D2e)]=i}}function D2e(e,t){return t.toUpperCase()}function M2e(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const cz={}.hasOwnProperty,L2e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wg={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function qK(e){for(const o in wg)if(cz.call(wg,o)&&cz.call(e,o)){const s=wg[o];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${o}\` (see <${L2e}#${s.id}> for more info)`),delete wg[o]}const t=ZAe().use(nDe).use(e.remarkPlugins||[]).use(UDe,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(l2e,e),n=new oK;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=x(tn,{children:HK({options:e,schema:s2e,listDepth:0},r)});return e.className&&(i=x("div",{className:e.className,children:i})),i}qK.propTypes={children:Be.string,className:Be.string,allowElement:Be.func,allowedElements:Be.arrayOf(Be.string),disallowedElements:Be.arrayOf(Be.string),unwrapDisallowed:Be.bool,remarkPlugins:Be.arrayOf(Be.oneOfType([Be.object,Be.func,Be.arrayOf(Be.oneOfType([Be.bool,Be.string,Be.object,Be.func,Be.arrayOf(Be.any)]))])),rehypePlugins:Be.arrayOf(Be.oneOfType([Be.object,Be.func,Be.arrayOf(Be.oneOfType([Be.bool,Be.string,Be.object,Be.func,Be.arrayOf(Be.any)]))])),sourcePos:Be.bool,rawSourcePos:Be.bool,skipHtml:Be.bool,includeElementIndex:Be.bool,transformLinkUri:Be.oneOfType([Be.func,Be.bool]),linkTarget:Be.oneOfType([Be.func,Be.string]),transformImageUri:Be.func,components:Be.object};function rp({text:e}){return x(tn,{children:x(qK,{components:{img:({node:n,...r})=>x(Sp,{...r}),p:({node:n,...r})=>x(wt,{...r,pb:8}),h1:({node:n,...r})=>x(Ks,{order:1,...r,pb:12}),h2:({node:n,...r})=>x(Ks,{order:2,...r,pb:12}),h3:({node:n,...r})=>x(Ks,{order:3,...r,pb:12}),h4:({node:n,...r})=>x(Ks,{order:4,...r,pb:12}),h5:({node:n,...r})=>x(Ks,{order:5,...r,pb:12}),h6:({node:n,...r})=>x(Ks,{order:6,...r,pb:12}),a:({node:n,...r})=>x(lre,{...r}),ul:({node:n,...r})=>x(Dc,{withPadding:!0,...r,pb:8}),ol:({node:n,...r})=>x(Dc,{type:"ordered",withPadding:!0,...r,pb:8})},children:e})})}function j2e({path:e}){const[t,n]=S.useState(null);return S.useEffect(()=>{fetch(`${Qo}${e}`).then(r=>r.text()).then(r=>n(r))},[e]),t===null?null:x(tn,{children:x(rp,{text:t})})}function rf(){return wo(e=>e.unTrrackedSlice.config)}function WK(){const e=wo(r=>r.trrackedSlice),t=Rs();return e[t]}function z2e(){this.__data__=[],this.size=0}var F2e=z2e;function V2e(e,t){return e===t||e!==e&&t!==t}var Pb=V2e,B2e=Pb;function U2e(e,t){for(var n=e.length;n--;)if(B2e(e[n][0],t))return n;return-1}var Cb=U2e,H2e=Cb,q2e=Array.prototype,W2e=q2e.splice;function K2e(e){var t=this.__data__,n=H2e(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():W2e.call(t,n,1),--this.size,!0}var G2e=K2e,Y2e=Cb;function Q2e(e){var t=this.__data__,n=Y2e(t,e);return n<0?void 0:t[n][1]}var X2e=Q2e,J2e=Cb;function Z2e(e){return J2e(this.__data__,e)>-1}var eMe=Z2e,tMe=Cb;function nMe(e,t){var n=this.__data__,r=tMe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var rMe=nMe,iMe=F2e,oMe=G2e,sMe=X2e,aMe=eMe,lMe=rMe;function Af(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Af.prototype.clear=iMe;Af.prototype.delete=oMe;Af.prototype.get=sMe;Af.prototype.has=aMe;Af.prototype.set=lMe;var Ib=Af,uMe=Ib;function cMe(){this.__data__=new uMe,this.size=0}var fMe=cMe;function dMe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var hMe=dMe;function pMe(e){return this.__data__.get(e)}var mMe=pMe;function gMe(e){return this.__data__.has(e)}var yMe=gMe,vMe=typeof ns=="object"&&ns&&ns.Object===Object&&ns,KK=vMe,wMe=KK,_Me=typeof self=="object"&&self&&self.Object===Object&&self,bMe=wMe||_Me||Function("return this")(),Nf=bMe,SMe=Nf,$Me=SMe.Symbol,GK=$Me,fz=GK,YK=Object.prototype,EMe=YK.hasOwnProperty,xMe=YK.toString,cd=fz?fz.toStringTag:void 0;function OMe(e){var t=EMe.call(e,cd),n=e[cd];try{e[cd]=void 0;var r=!0}catch{}var i=xMe.call(e);return r&&(t?e[cd]=n:delete e[cd]),i}var PMe=OMe,CMe=Object.prototype,IMe=CMe.toString;function kMe(e){return IMe.call(e)}var TMe=kMe,dz=GK,AMe=PMe,NMe=TMe,RMe="[object Null]",DMe="[object Undefined]",hz=dz?dz.toStringTag:void 0;function MMe(e){return e==null?e===void 0?DMe:RMe:hz&&hz in Object(e)?AMe(e):NMe(e)}var kb=MMe;function LMe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _u=LMe,jMe=kb,zMe=_u,FMe="[object AsyncFunction]",VMe="[object Function]",BMe="[object GeneratorFunction]",UMe="[object Proxy]";function HMe(e){if(!zMe(e))return!1;var t=jMe(e);return t==VMe||t==BMe||t==FMe||t==UMe}var Ek=HMe,qMe=Nf,WMe=qMe["__core-js_shared__"],KMe=WMe,LS=KMe,pz=function(){var e=/[^.]+$/.exec(LS&&LS.keys&&LS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function GMe(e){return!!pz&&pz in e}var YMe=GMe,QMe=Function.prototype,XMe=QMe.toString;function JMe(e){if(e!=null){try{return XMe.call(e)}catch{}try{return e+""}catch{}}return""}var ZMe=JMe,eLe=Ek,tLe=YMe,nLe=_u,rLe=ZMe,iLe=/[\\^$.*+?()[\]{}|]/g,oLe=/^\[object .+?Constructor\]$/,sLe=Function.prototype,aLe=Object.prototype,lLe=sLe.toString,uLe=aLe.hasOwnProperty,cLe=RegExp("^"+lLe.call(uLe).replace(iLe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fLe(e){if(!nLe(e)||tLe(e))return!1;var t=eLe(e)?cLe:oLe;return t.test(rLe(e))}var dLe=fLe;function hLe(e,t){return e==null?void 0:e[t]}var pLe=hLe,mLe=dLe,gLe=pLe;function yLe(e,t){var n=gLe(e,t);return mLe(n)?n:void 0}var xk=yLe,vLe=xk,wLe=Nf,_Le=vLe(wLe,"Map"),QK=_Le,bLe=xk,SLe=bLe(Object,"create"),Tb=SLe,mz=Tb;function $Le(){this.__data__=mz?mz(null):{},this.size=0}var ELe=$Le;function xLe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var OLe=xLe,PLe=Tb,CLe="__lodash_hash_undefined__",ILe=Object.prototype,kLe=ILe.hasOwnProperty;function TLe(e){var t=this.__data__;if(PLe){var n=t[e];return n===CLe?void 0:n}return kLe.call(t,e)?t[e]:void 0}var ALe=TLe,NLe=Tb,RLe=Object.prototype,DLe=RLe.hasOwnProperty;function MLe(e){var t=this.__data__;return NLe?t[e]!==void 0:DLe.call(t,e)}var LLe=MLe,jLe=Tb,zLe="__lodash_hash_undefined__";function FLe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jLe&&t===void 0?zLe:t,this}var VLe=FLe,BLe=ELe,ULe=OLe,HLe=ALe,qLe=LLe,WLe=VLe;function Rf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rf.prototype.clear=BLe;Rf.prototype.delete=ULe;Rf.prototype.get=HLe;Rf.prototype.has=qLe;Rf.prototype.set=WLe;var KLe=Rf,gz=KLe,GLe=Ib,YLe=QK;function QLe(){this.size=0,this.__data__={hash:new gz,map:new(YLe||GLe),string:new gz}}var XLe=QLe;function JLe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ZLe=JLe,eje=ZLe;function tje(e,t){var n=e.__data__;return eje(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Ab=tje,nje=Ab;function rje(e){var t=nje(this,e).delete(e);return this.size-=t?1:0,t}var ije=rje,oje=Ab;function sje(e){return oje(this,e).get(e)}var aje=sje,lje=Ab;function uje(e){return lje(this,e).has(e)}var cje=uje,fje=Ab;function dje(e,t){var n=fje(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var hje=dje,pje=XLe,mje=ije,gje=aje,yje=cje,vje=hje;function Df(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Df.prototype.clear=pje;Df.prototype.delete=mje;Df.prototype.get=gje;Df.prototype.has=yje;Df.prototype.set=vje;var wje=Df,_je=Ib,bje=QK,Sje=wje,$je=200;function Eje(e,t){var n=this.__data__;if(n instanceof _je){var r=n.__data__;if(!bje||r.length<$je-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Sje(r)}return n.set(e,t),this.size=n.size,this}var xje=Eje,Oje=Ib,Pje=fMe,Cje=hMe,Ije=mMe,kje=yMe,Tje=xje;function Mf(e){var t=this.__data__=new Oje(e);this.size=t.size}Mf.prototype.clear=Pje;Mf.prototype.delete=Cje;Mf.prototype.get=Ije;Mf.prototype.has=kje;Mf.prototype.set=Tje;var Aje=Mf,Nje=xk,Rje=function(){try{var e=Nje(Object,"defineProperty");return e({},"",{}),e}catch{}}(),XK=Rje,yz=XK;function Dje(e,t,n){t=="__proto__"&&yz?yz(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Ok=Dje,Mje=Ok,Lje=Pb;function jje(e,t,n){(n!==void 0&&!Lje(e[t],n)||n===void 0&&!(t in e))&&Mje(e,t,n)}var JK=jje;function zje(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(n(o[l],l,o)===!1)break}return t}}var Fje=zje,Vje=Fje,Bje=Vje(),Uje=Bje,sw={exports:{}};sw.exports;(function(e,t){var n=Nf,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=a?a(f):new u.constructor(f);return u.copy(d),d}e.exports=l})(sw,sw.exports);var Hje=sw.exports,qje=Nf,Wje=qje.Uint8Array,Kje=Wje,vz=Kje;function Gje(e){var t=new e.constructor(e.byteLength);return new vz(t).set(new vz(e)),t}var Yje=Gje,Qje=Yje;function Xje(e,t){var n=t?Qje(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Jje=Xje;function Zje(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var eze=Zje,tze=_u,wz=Object.create,nze=function(){function e(){}return function(t){if(!tze(t))return{};if(wz)return wz(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),rze=nze;function ize(e,t){return function(n){return e(t(n))}}var oze=ize,sze=oze,aze=sze(Object.getPrototypeOf,Object),ZK=aze,lze=Object.prototype;function uze(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||lze;return e===n}var eG=uze,cze=rze,fze=ZK,dze=eG;function hze(e){return typeof e.constructor=="function"&&!dze(e)?cze(fze(e)):{}}var pze=hze;function mze(e){return e!=null&&typeof e=="object"}var am=mze,gze=kb,yze=am,vze="[object Arguments]";function wze(e){return yze(e)&&gze(e)==vze}var _ze=wze,_z=_ze,bze=am,tG=Object.prototype,Sze=tG.hasOwnProperty,$ze=tG.propertyIsEnumerable,Eze=_z(function(){return arguments}())?_z:function(e){return bze(e)&&Sze.call(e,"callee")&&!$ze.call(e,"callee")},nG=Eze,xze=Array.isArray,rG=xze,Oze=9007199254740991;function Pze(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Oze}var iG=Pze,Cze=Ek,Ize=iG;function kze(e){return e!=null&&Ize(e.length)&&!Cze(e)}var Pk=kze,Tze=Pk,Aze=am;function Nze(e){return Aze(e)&&Tze(e)}var Rze=Nze,aw={exports:{}};function Dze(){return!1}var Mze=Dze;aw.exports;(function(e,t){var n=Nf,r=Mze,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;e.exports=u})(aw,aw.exports);var oG=aw.exports,Lze=kb,jze=ZK,zze=am,Fze="[object Object]",Vze=Function.prototype,Bze=Object.prototype,sG=Vze.toString,Uze=Bze.hasOwnProperty,Hze=sG.call(Object);function qze(e){if(!zze(e)||Lze(e)!=Fze)return!1;var t=jze(e);if(t===null)return!0;var n=Uze.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&sG.call(n)==Hze}var Wze=qze,Kze=kb,Gze=iG,Yze=am,Qze="[object Arguments]",Xze="[object Array]",Jze="[object Boolean]",Zze="[object Date]",eFe="[object Error]",tFe="[object Function]",nFe="[object Map]",rFe="[object Number]",iFe="[object Object]",oFe="[object RegExp]",sFe="[object Set]",aFe="[object String]",lFe="[object WeakMap]",uFe="[object ArrayBuffer]",cFe="[object DataView]",fFe="[object Float32Array]",dFe="[object Float64Array]",hFe="[object Int8Array]",pFe="[object Int16Array]",mFe="[object Int32Array]",gFe="[object Uint8Array]",yFe="[object Uint8ClampedArray]",vFe="[object Uint16Array]",wFe="[object Uint32Array]",Xt={};Xt[fFe]=Xt[dFe]=Xt[hFe]=Xt[pFe]=Xt[mFe]=Xt[gFe]=Xt[yFe]=Xt[vFe]=Xt[wFe]=!0;Xt[Qze]=Xt[Xze]=Xt[uFe]=Xt[Jze]=Xt[cFe]=Xt[Zze]=Xt[eFe]=Xt[tFe]=Xt[nFe]=Xt[rFe]=Xt[iFe]=Xt[oFe]=Xt[sFe]=Xt[aFe]=Xt[lFe]=!1;function _Fe(e){return Yze(e)&&Gze(e.length)&&!!Xt[Kze(e)]}var bFe=_Fe;function SFe(e){return function(t){return e(t)}}var $Fe=SFe,lw={exports:{}};lw.exports;(function(e,t){var n=KK,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(lw,lw.exports);var EFe=lw.exports,xFe=bFe,OFe=$Fe,bz=EFe,Sz=bz&&bz.isTypedArray,PFe=Sz?OFe(Sz):xFe,aG=PFe;function CFe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var lG=CFe,IFe=Ok,kFe=Pb,TFe=Object.prototype,AFe=TFe.hasOwnProperty;function NFe(e,t,n){var r=e[t];(!(AFe.call(e,t)&&kFe(r,n))||n===void 0&&!(t in e))&&IFe(e,t,n)}var RFe=NFe,DFe=RFe,MFe=Ok;function LFe(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?MFe(n,a,l):DFe(n,a,l)}return n}var jFe=LFe;function zFe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var FFe=zFe,VFe=9007199254740991,BFe=/^(?:0|[1-9]\d*)$/;function UFe(e,t){var n=typeof e;return t=t??VFe,!!t&&(n=="number"||n!="symbol"&&BFe.test(e))&&e>-1&&e%1==0&&e<t}var uG=UFe,HFe=FFe,qFe=nG,WFe=rG,KFe=oG,GFe=uG,YFe=aG,QFe=Object.prototype,XFe=QFe.hasOwnProperty;function JFe(e,t){var n=WFe(e),r=!n&&qFe(e),i=!n&&!r&&KFe(e),o=!n&&!r&&!i&&YFe(e),s=n||r||i||o,a=s?HFe(e.length,String):[],l=a.length;for(var u in e)(t||XFe.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||GFe(u,l)))&&a.push(u);return a}var ZFe=JFe;function e5e(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var t5e=e5e,n5e=_u,r5e=eG,i5e=t5e,o5e=Object.prototype,s5e=o5e.hasOwnProperty;function a5e(e){if(!n5e(e))return i5e(e);var t=r5e(e),n=[];for(var r in e)r=="constructor"&&(t||!s5e.call(e,r))||n.push(r);return n}var l5e=a5e,u5e=ZFe,c5e=l5e,f5e=Pk;function d5e(e){return f5e(e)?u5e(e,!0):c5e(e)}var cG=d5e,h5e=jFe,p5e=cG;function m5e(e){return h5e(e,p5e(e))}var g5e=m5e,$z=JK,y5e=Hje,v5e=Jje,w5e=eze,_5e=pze,Ez=nG,xz=rG,b5e=Rze,S5e=oG,$5e=Ek,E5e=_u,x5e=Wze,O5e=aG,Oz=lG,P5e=g5e;function C5e(e,t,n,r,i,o,s){var a=Oz(e,n),l=Oz(t,n),u=s.get(l);if(u){$z(e,n,u);return}var c=o?o(a,l,n+"",e,t,s):void 0,f=c===void 0;if(f){var d=xz(l),h=!d&&S5e(l),p=!d&&!h&&O5e(l);c=l,d||h||p?xz(a)?c=a:b5e(a)?c=w5e(a):h?(f=!1,c=y5e(l,!0)):p?(f=!1,c=v5e(l,!0)):c=[]:x5e(l)||Ez(l)?(c=a,Ez(a)?c=P5e(a):(!E5e(a)||$5e(a))&&(c=_5e(l))):f=!1}f&&(s.set(l,c),i(c,l,r,o,s),s.delete(l)),$z(e,n,c)}var I5e=C5e,k5e=Aje,T5e=JK,A5e=Uje,N5e=I5e,R5e=_u,D5e=cG,M5e=lG;function fG(e,t,n,r,i){e!==t&&A5e(t,function(o,s){if(i||(i=new k5e),R5e(o))N5e(e,t,s,n,fG,r,i);else{var a=r?r(M5e(e,s),o,s+"",e,t,i):void 0;a===void 0&&(a=o),T5e(e,s,a)}},D5e)}var L5e=fG;function j5e(e){return e}var dG=j5e;function z5e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var F5e=z5e,V5e=F5e,Pz=Math.max;function B5e(e,t,n){return t=Pz(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Pz(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),V5e(e,this,a)}}var U5e=B5e;function H5e(e){return function(){return e}}var q5e=H5e,W5e=q5e,Cz=XK,K5e=dG,G5e=Cz?function(e,t){return Cz(e,"toString",{configurable:!0,enumerable:!1,value:W5e(t),writable:!0})}:K5e,Y5e=G5e,Q5e=800,X5e=16,J5e=Date.now;function Z5e(e){var t=0,n=0;return function(){var r=J5e(),i=X5e-(r-n);if(n=r,i>0){if(++t>=Q5e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var e3e=Z5e,t3e=Y5e,n3e=e3e,r3e=n3e(t3e),i3e=r3e,o3e=dG,s3e=U5e,a3e=i3e;function l3e(e,t){return a3e(s3e(e,t,o3e),e+"")}var u3e=l3e,c3e=Pb,f3e=Pk,d3e=uG,h3e=_u;function p3e(e,t,n){if(!h3e(n))return!1;var r=typeof t;return(r=="number"?f3e(n)&&d3e(t,n.length):r=="string"&&t in n)?c3e(n[t],e):!1}var m3e=p3e,g3e=u3e,y3e=m3e;function v3e(e){return g3e(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&y3e(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}var w3e=v3e,_3e=L5e,b3e=w3e,S3e=b3e(function(e,t,n){_3e(e,t,n)}),$3e=S3e;const hG=Wo($3e);function E3e(){var u;const e=rf(),t=Rs(),n=e.components[t],r=aAe(),i=WK(),o=gC(n)&&e.baseComponents?hG({},(u=e.baseComponents)==null?void 0:u[n.baseComponent],n):n,s=o.instruction||"",a=o.instructionLocation,l=e.uiConfig.sidebar&&(a==="sidebar"||a===void 0);return x(tn,{children:he(QW.Provider,{value:r,children:[a==="aboveStimulus"&&x(rp,{text:s}),x(K0,{status:i,config:o,location:"aboveStimulus"}),he(S.Suspense,{fallback:x("div",{children:"Loading..."}),children:[o.type==="markdown"&&x(j2e,{path:o.path||""}),o.type==="website"&&x(ZOe,{path:o.path||"",parameters:o.parameters}),o.type==="image"&&x(tPe,{path:o.path,style:o.style}),o.type==="react-component"&&x(LAe,{path:o.path||"",parameters:o.parameters,trialId:t})]},t),(a==="belowStimulus"||a===void 0&&!l)&&x(rp,{text:s}),x(K0,{status:i,config:o,location:"belowStimulus"})]})})}function pG(e,t){return`${t}-${e}`}const Ck="prod",Bx=pG("studies",Ck),bu=pG("sessions",Ck),mG="nodes",x3e="6LdjOd0lAAAAAASvFfDZFWgtbzFSS9Y3so8rHJth";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Map,gG={activated:!1,tokenObservers:[]},O3e={initialized:!1,enabled:!1};function Qn(e){return Ux.get(e)||Object.assign({},gG)}function P3e(e,t){return Ux.set(e,t),Ux.get(e)}function Nb(){return O3e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG="https://content-firebaseappcheck.googleapis.com/v1",C3e="exchangeRecaptchaV3Token",I3e="exchangeDebugToken",Iz={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},k3e=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3e{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Mh,await A3e(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Mh,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function A3e(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3e={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ii=new gf("appCheck","AppCheck",N3e);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function vG(e){if(!Qn(e).activated)throw ii.create("use-before-activation",{appName:e.name})}function wG(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),o=t-n*3600*24-r*3600-i*60;let s="";return n&&(s+=_g(n)+"d:"),r&&(s+=_g(r)+"h:"),s+=_g(i)+"m:"+_g(o)+"s",s}function _g(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _G({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s;try{s=await fetch(e,o)}catch(f){throw ii.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(s.status!==200)throw ii.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(f){throw ii.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function R3e(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${yG}/projects/${n}/apps/${r}:${C3e}?key=${i}`,body:{recaptcha_v3_token:t}}}function D3e(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${yG}/projects/${n}/apps/${r}:${I3e}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3e="firebase-app-check-database",L3e=1,ip="firebase-app-check-store",bG="debug-token";let bg=null;function SG(){return bg||(bg=new Promise((e,t)=>{try{const n=indexedDB.open(M3e,L3e);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(ii.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ip,{keyPath:"compositeKey"})}}}catch(n){t(ii.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),bg)}function j3e(e){return EG(xG(e))}function z3e(e,t){return $G(xG(e),t)}function F3e(e){return $G(bG,e)}function V3e(){return EG(bG)}async function $G(e,t){const r=(await SG()).transaction(ip,"readwrite"),o=r.objectStore(ip).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(ii.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function EG(e){const n=(await SG()).transaction(ip,"readonly"),i=n.objectStore(ip).get(e);return new Promise((o,s)=>{i.onsuccess=a=>{const l=a.target.result;o(l?l.value:void 0)},n.onerror=a=>{var l;s(ii.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function xG(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new k_("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3e(e){if(I_()){let t;try{t=await j3e(e)}catch(n){op.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function jS(e,t){return I_()?z3e(e,t).catch(n=>{op.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function U3e(){let e;try{e=await V3e()}catch{}if(e)return e;{const t=_be();return F3e(t).catch(n=>op.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(){return Nb().enabled}async function PG(){const e=Nb();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function H3e(){const e=z9(),t=Nb();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new Mh;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U3e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3e={error:"UNKNOWN_ERROR"};function W3e(e){return VC.encodeString(JSON.stringify(e),!1)}async function Hx(e,t=!1){const n=e.app;vG(n);const r=Qn(n);let i=r.token,o;if(i&&!tc(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(tc(l)?i=l:await jS(n,void 0))}if(!t&&i&&tc(i))return{token:i.token};let s=!1;if(OG()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_G(D3e(n,await PG()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const l=await r.exchangeTokenPromise;return await jS(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=await Qn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?op.warn(l.message):op.error(l),o=l}let a;return i?o?tc(i)?a={token:i.token,internalError:o}:a=Az(o):(a={token:i.token},r.token=i,await jS(n,i)):a=Az(o),s&&kG(n,a),a}function CG(e,t,n,r){const{app:i}=e,o=Qn(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&tc(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Tz(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Tz(e))}function IG(e,t){const n=Qn(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Tz(e){const{app:t}=e,n=Qn(t);let r=n.tokenRefresher;r||(r=K3e(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function K3e(e){const{app:t}=e;return new T3e(async()=>{const n=Qn(t);let r;if(n.token?r=await Hx(e,!0):r=await Hx(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Qn(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Iz.RETRIAL_MIN_WAIT,Iz.RETRIAL_MAX_WAIT)}function kG(e,t){const n=Qn(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function tc(e){return e.expireTimeMillis-Date.now()>0}function Az(e){return{token:W3e(q3e),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3e{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Qn(this.app);for(const n of t)IG(this.app,n.next);return Promise.resolve()}}function Y3e(e,t){return new G3e(e,t)}function Q3e(e){return{getToken:t=>Hx(e,t),addTokenListener:t=>CG(e,"INTERNAL",t),removeTokenListener:t=>IG(e.app,t)}}const X3e="@firebase/app-check",J3e="0.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3e="https://www.google.com/recaptcha/api.js";function e4e(e,t){const n=new Mh,r=Qn(e);r.reCAPTCHAState={initialized:n};const i=t4e(e),o=kz(!1);return o?Nz(e,t,o,i,n):i4e(()=>{const s=kz(!1);if(!s)throw new Error("no recaptcha");Nz(e,t,s,i,n)}),n.promise}function Nz(e,t,n,r,i){n.ready(()=>{r4e(e,t,n,r),i.resolve(n)})}function t4e(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function n4e(e){vG(e);const n=await Qn(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=Qn(e).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function r4e(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{Qn(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Qn(e).reCAPTCHAState.succeeded=!1}}),o=Qn(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function i4e(e){const t=document.createElement("script");t.src=Z3e,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;s4e(this._throttleData);const i=await n4e(this._app).catch(s=>{throw ii.create("recaptcha-error")});if(!(!((t=Qn(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw ii.create("recaptcha-error");let o;try{o=await _G(R3e(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=o4e(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),ii.create("throttled",{time:wG(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o}initialize(t){this._app=t,this._heartbeatServiceProvider=yf(t,"heartbeat"),e4e(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof Ik?this._siteKey===t._siteKey:!1}}function o4e(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+k3e,httpStatus:e};{const n=t?t.backoffCount:0,r=xbe(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function s4e(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw ii.create("throttled",{time:wG(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4e(e=H9(),t){e=Xn(e);const n=yf(e,"app-check");if(Nb().initialized||H3e(),OG()&&PG().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&o.provider.isEqual(t.provider))return i;throw ii.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return l4e(e,t.provider,t.isTokenAutoRefreshEnabled),Qn(e).isTokenAutoRefreshEnabled&&CG(r,"INTERNAL",()=>{}),r}function l4e(e,t,n){const r=P3e(e,Object.assign({},gG));r.activated=!0,r.provider=t,r.cachedTokenPromise=B3e(e).then(i=>(i&&tc(i)&&(r.token=i,kG(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const u4e="app-check",Rz="app-check-internal";function c4e(){Na(new $s(u4e,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Y3e(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Rz).initialize()})),Na(new $s(Rz,e=>{const t=e.getProvider("app-check").getImmediate();return Q3e(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),ms(X3e,J3e)}c4e();function kk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function TG(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f4e=TG,AG=new gf("auth","Firebase",TG());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new k_("@firebase/auth");function d4e(e,...t){uw.logLevel<=Et.WARN&&uw.warn(`Auth (${vf}): ${e}`,...t)}function sy(e,...t){uw.logLevel<=Et.ERROR&&uw.error(`Auth (${vf}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(e,...t){throw Tk(e,...t)}function Bo(e,...t){return Tk(e,...t)}function h4e(e,t,n){const r=Object.assign(Object.assign({},f4e()),{[t]:n});return new gf("auth","Firebase",r).create(t,{appName:e.name})}function Tk(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return AG.create(e,...t)}function tt(e,t,...n){if(!e)throw Tk(t,...n)}function as(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sy(t),new Error(t)}function Cs(e,t){e||as(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function p4e(){return Dz()==="http:"||Dz()==="https:"}function Dz(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p4e()||lbe()||"connection"in navigator)?navigator.onLine:!0}function g4e(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,n){this.shortDelay=t,this.longDelay=n,Cs(n>t,"Short delay should be less than long delay!"),this.isMobile=sbe()||ube()}get(){return m4e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(e,t){Cs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4e=new lm(3e4,6e4);function Nk(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function um(e,t,n,r,i={}){return RG(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=Mp(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),NG.fetch()(MG(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function RG(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},y4e),t);try{const i=new w4e(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Sg(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sg(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Sg(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Sg(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw h4e(e,c,u);Ps(e,c)}}catch(i){if(i instanceof Go)throw i;Ps(e,"network-request-failed",{message:String(i)})}}async function DG(e,t,n,r,i={}){const o=await um(e,t,n,r,i);return"mfaPendingCredential"in o&&Ps(e,"multi-factor-auth-required",{_serverResponse:o}),o}function MG(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ak(e.config,i):`${e.config.apiScheme}://${i}`}class w4e{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bo(this.auth,"network-request-failed")),v4e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sg(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bo(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4e(e,t){return um(e,"POST","/v1/accounts:delete",t)}async function b4e(e,t){return um(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function S4e(e,t=!1){const n=Xn(e),r=await n.getIdToken(t),i=Rk(r);tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:oh(zS(i.auth_time)),issuedAtTime:oh(zS(i.iat)),expirationTime:oh(zS(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zS(e){return Number(e)*1e3}function Rk(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return sy("JWT malformed, contained fewer than 3 sections"),null;try{const i=j9(n);return i?JSON.parse(i):(sy("Failed to decode base64 JWT payload"),null)}catch(i){return sy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $4e(e){const t=Rk(e);return tt(t,"internal-error"),tt(typeof t.exp<"u","internal-error"),tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Go&&E4e(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function E4e({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(e){var t;const n=e.auth,r=await e.getIdToken(),i=await sp(e,b4e(n,{idToken:r}));tt(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?C4e(o.providerUserInfo):[],a=P4e(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new LG(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function O4e(e){const t=Xn(e);await cw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function P4e(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function C4e(e){return e.map(t=>{var{providerId:n}=t,r=kk(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4e(e,t){const n=await RG(e,{},async()=>{const r=Mp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=MG(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NG.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){tt(t.idToken,"internal-error"),tt(typeof t.idToken<"u","internal-error"),tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$4e(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return tt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await I4e(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ap;return r&&(tt(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(tt(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(tt(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ap,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e,t){tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class jl{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=kk(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x4e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new LG(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await sp(this,this.stsTokenManager.getToken(this.auth,t));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return S4e(this,t)}reload(){return O4e(this)}_assign(t){this!==t&&(tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new jl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await cw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await sp(this,_4e(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:b,isAnonymous:$,providerData:_,stsTokenManager:E}=n;tt(w&&E,t,"internal-error");const C=ap.fromJSON(this.name,E);tt(typeof w=="string",t,"internal-error"),Us(f,t.name),Us(d,t.name),tt(typeof b=="boolean",t,"internal-error"),tt(typeof $=="boolean",t,"internal-error"),Us(h,t.name),Us(p,t.name),Us(g,t.name),Us(v,t.name),Us(m,t.name),Us(y,t.name);const N=new jl({uid:w,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:$,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:C,createdAt:m,lastLoginAt:y});return _&&Array.isArray(_)&&(N.providerData=_.map(L=>Object.assign({},L))),v&&(N._redirectEventId=v),N}static async _fromIdTokenResponse(t,n,r=!1){const i=new ap;i.updateFromServerResponse(n);const o=new jl({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await cw(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=new Map;function ls(e){Cs(e instanceof Function,"Expected a class definition");let t=Mz.get(e);return t?(Cs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mz.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}jG.type="NONE";const Lz=jG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(e,t,n){return`firebase:${e}:${t}:${n}`}class Sc{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ay(this.userKey,i.apiKey,o),this.fullPersistenceKey=ay("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?jl._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Sc(ls(Lz),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ls(Lz);const s=ay(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=jl._fromJSON(t,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Sc(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Sc(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VG(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zG(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UG(t))return"Blackberry";if(HG(t))return"Webos";if(Dk(t))return"Safari";if((t.includes("chrome/")||FG(t))&&!t.includes("edge/"))return"Chrome";if(BG(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zG(e=Un()){return/firefox\//i.test(e)}function Dk(e=Un()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FG(e=Un()){return/crios\//i.test(e)}function VG(e=Un()){return/iemobile/i.test(e)}function BG(e=Un()){return/android/i.test(e)}function UG(e=Un()){return/blackberry/i.test(e)}function HG(e=Un()){return/webos/i.test(e)}function Rb(e=Un()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function k4e(e=Un()){var t;return Rb(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function T4e(){return cbe()&&document.documentMode===10}function qG(e=Un()){return Rb(e)||BG(e)||HG(e)||UG(e)||/windows phone/i.test(e)||VG(e)}function A4e(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(e,t=[]){let n;switch(e){case"Browser":n=jz(Un());break;case"Worker":n=`${jz(Un())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${vf}/${r}`}async function KG(e,t){return um(e,"GET","/v2/recaptchaConfig",Nk(e,t))}function zz(e){return e!==void 0&&e.enterprise!==void 0}class GG{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4e(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function YG(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Bo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",N4e().appendChild(r)})}function R4e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const D4e="https://www.google.com/recaptcha/enterprise.js?render=",M4e="recaptcha-enterprise",L4e="NO_RECAPTCHA";class j4e{constructor(t){this.type=M4e,this.auth=cm(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{KG(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new GG(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;zz(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{s(u)}).catch(()=>{s(L4e)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&zz(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}YG(D4e+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4e{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fz(this),this.idTokenSubscription=new Fz(this),this.beforeStateQueue=new z4e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Sc.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await cw(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=g4e()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Xn(t):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}async initializeRecaptchaConfig(){const t=await KG(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new GG(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new j4e(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new gf("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ls(t)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await Sc.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return tt(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&d4e(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cm(e){return Xn(e)}class Fz{constructor(t){this.auth=t,this.observer=null,this.addObserver=ybe(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4e(e,t){const n=yf(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Lh(o,t??{}))return i;Ps(i,"already-initialized")}return n.initialize({options:t})}function B4e(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ls);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function U4e(e,t,n){const r=cm(e);tt(r._canInitEmulator,r,"emulator-config-failed"),tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=QG(t),{host:s,port:a}=H4e(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||q4e()}function QG(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function H4e(e){const t=QG(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Vz(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Vz(s)}}}function Vz(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function q4e(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,n){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(e,t){return DG(e,"POST","/v1/accounts:signInWithIdp",Nk(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4e="http://localhost";class lu extends XG{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new lu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=kk(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new lu(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return $c(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,$c(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$c(t,n)}buildRequest(){const t={requestUri:W4e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Mp(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends JG{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends fm{constructor(){super("facebook.com")}static credential(t){return lu._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends fm{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return lu._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ea.credential(n,r)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends fm{constructor(){super("github.com")}static credential(t){return lu._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ta.credential(t.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends fm{constructor(){super("twitter.com")}static credential(t,n){return lu._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return na.credential(n,r)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4e(e,t){return DG(e,"POST","/v1/accounts:signUp",Nk(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await jl._fromIdTokenResponse(t,r,i),s=Bz(r);return new La({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Bz(r);return new La({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Bz(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4e(e){var t;const n=cm(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new La({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await K4e(n,{returnSecureToken:!0}),i=await La._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends Go{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fw.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new fw(t,n,r,i)}}function ZG(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fw._fromErrorAndOperation(e,o,t,r):o})}async function Y4e(e,t,n=!1){const r=await sp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return La._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4e(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await sp(e,ZG(r,i,t,e),n);tt(o.idToken,r,"internal-error");const s=Rk(o.idToken);tt(s,r,"internal-error");const{sub:a}=s;return tt(e.uid===a,r,"user-mismatch"),La._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ps(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4e(e,t,n=!1){const r="signIn",i=await ZG(e,r,t),o=await La._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function J4e(e,t,n,r){return Xn(e).onIdTokenChanged(t,n,r)}function Z4e(e,t,n){return Xn(e).beforeAuthStateChanged(t,n)}const dw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dw,"1"),this.storage.removeItem(dw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eVe(){const e=Un();return Dk(e)||Rb(e)}const tVe=1e3,nVe=10;class tY extends eY{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eVe()&&A4e(),this.fallbackToPolling=qG(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(t.newValue!==s)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);T4e()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,nVe):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},tVe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}tY.type="LOCAL";const rVe=tY;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY extends eY{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}nY.type="SESSION";const rY=nY;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iVe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Db(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await iVe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Db.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oVe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Mk("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(){return window}function sVe(e){Uo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(){return typeof Uo().WorkerGlobalScope<"u"&&typeof Uo().importScripts=="function"}async function aVe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lVe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function uVe(){return iY()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="firebaseLocalStorageDb",cVe=1,hw="firebaseLocalStorage",sY="fbase_key";class dm{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mb(e,t){return e.transaction([hw],t?"readwrite":"readonly").objectStore(hw)}function fVe(){const e=indexedDB.deleteDatabase(oY);return new dm(e).toPromise()}function Wx(){const e=indexedDB.open(oY,cVe);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(hw,{keyPath:sY})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(hw)?t(r):(r.close(),await fVe(),t(await Wx()))})})}async function Uz(e,t,n){const r=Mb(e,!0).put({[sY]:t,value:n});return new dm(r).toPromise()}async function dVe(e,t){const n=Mb(e,!1).get(t),r=await new dm(n).toPromise();return r===void 0?null:r.value}function Hz(e,t){const n=Mb(e,!0).delete(t);return new dm(n).toPromise()}const hVe=800,pVe=3;class aY{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wx(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>pVe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iY()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Db._getInstance(uVe()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await aVe(),!this.activeServiceWorker)return;this.sender=new oVe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lVe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wx();return await Uz(t,dw,"1"),await Hz(t,dw),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uz(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>dVe(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hz(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Mb(i,!1).getAll();return new dm(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hVe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aY.type="LOCAL";const mVe=aY;new lm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gVe(e,t){return t?ls(t):(tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends XG{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $c(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $c(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $c(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function yVe(e){return X4e(e.auth,new Lk(e),e.bypassAuthState)}function vVe(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),Q4e(n,new Lk(e),e.bypassAuthState)}async function wVe(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),Y4e(n,new Lk(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return yVe;case"linkViaPopup":case"linkViaRedirect":return wVe;case"reauthViaPopup":case"reauthViaRedirect":return vVe;default:Ps(this.auth,"internal-error")}}resolve(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Ve=new lm(2e3,1e4);class nc extends lY{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,nc.currentPopupAction&&nc.currentPopupAction.cancel(),nc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return tt(t,this.auth,"internal-error"),t}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const t=Mk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Bo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_Ve.get())};t()}}nc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bVe="pendingRedirect",ly=new Map;class SVe extends lY{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ly.get(this.auth._key());if(!t){try{const r=await $Ve(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ly.set(this.auth._key(),t)}return this.bypassAuthState||ly.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $Ve(e,t){const n=OVe(t),r=xVe(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function EVe(e,t){ly.set(e._key(),t)}function xVe(e){return ls(e._redirectPersistence)}function OVe(e){return ay(bVe,e.config.apiKey,e.name)}async function PVe(e,t,n=!1){const r=cm(e),i=gVe(r,t),s=await new SVe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CVe=10*60*1e3;class IVe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kVe(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!uY(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bo(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=CVe&&this.cachedEventUids.clear(),this.cachedEventUids.has(qz(t))}saveEventToCache(t){this.cachedEventUids.add(qz(t)),this.lastProcessedEventTime=Date.now()}}function qz(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function uY({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function kVe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uY(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TVe(e,t={}){return um(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AVe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NVe=/^https?/;async function RVe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await TVe(e);for(const n of t)try{if(DVe(n))return}catch{}Ps(e,"unauthorized-domain")}function DVe(e){const t=qx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!NVe.test(n))return!1;if(AVe.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MVe=new lm(3e4,6e4);function Wz(){const e=Uo().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function LVe(e){return new Promise((t,n)=>{var r,i,o;function s(){Wz(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wz(),n(Bo(e,"network-request-failed"))},timeout:MVe.get()})}if(!((i=(r=Uo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Uo().gapi)===null||o===void 0)&&o.load)s();else{const a=R4e("iframefcb");return Uo()[a]=()=>{gapi.load?s():n(Bo(e,"network-request-failed"))},YG(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw uy=null,t})}let uy=null;function jVe(e){return uy=uy||LVe(e),uy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zVe=new lm(5e3,15e3),FVe="__/auth/iframe",VVe="emulator/auth/iframe",BVe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UVe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HVe(e){const t=e.config;tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ak(t,VVe):`https://${e.config.authDomain}/${FVe}`,r={apiKey:t.apiKey,appName:e.name,v:vf},i=UVe.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Mp(r).slice(1)}`}async function qVe(e){const t=await jVe(e),n=Uo().gapi;return tt(n,e,"internal-error"),t.open({where:document.body,url:HVe(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BVe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Bo(e,"network-request-failed"),a=Uo().setTimeout(()=>{o(s)},zVe.get());function l(){Uo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WVe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KVe=500,GVe=600,YVe="_blank",QVe="http://localhost";class Kz{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XVe(e,t,n,r=KVe,i=GVe){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},WVe),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Un().toLowerCase();n&&(a=FG(u)?YVe:n),zG(u)&&(t=t||QVe,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(k4e(u)&&a!=="_self")return JVe(t||"",a),new Kz(null);const f=window.open(t||"",a,c);tt(f,e,"popup-blocked");try{f.focus()}catch{}return new Kz(f)}function JVe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZVe="__/auth/handler",e6e="emulator/auth/handler",t6e=encodeURIComponent("fac");async function Gz(e,t,n,r,i,o){tt(e.config.authDomain,e,"auth-domain-config-required"),tt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vf,eventId:i};if(t instanceof JG){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",gbe(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries(o||{}))s[c]=f}if(t instanceof fm){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${t6e}=${encodeURIComponent(l)}`:"";return`${n6e(e)}?${Mp(a).slice(1)}${u}`}function n6e({config:e}){return e.emulator?Ak(e,e6e):`https://${e.authDomain}/${ZVe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="webStorageSupport";class r6e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rY,this._completeRedirectFn=PVe,this._overrideRedirectResult=EVe}async _openPopup(t,n,r,i){var o;Cs((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Gz(t,n,r,qx(),i);return XVe(t,s,Mk())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await Gz(t,n,r,qx(),i);return sVe(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Cs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await qVe(t),r=new IVe(t);return n.register("authEvent",i=>(tt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(FS,{type:FS},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[FS];s!==void 0&&n(!!s),Ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RVe(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qG()||Dk()||Rb()}}const i6e=r6e;var Yz="@firebase/auth",Qz="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6e{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6e(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function a6e(e){Na(new $s("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;tt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),tt(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WG(e)},u=new F4e(r,i,o,l);return B4e(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Na(new $s("auth-internal",t=>{const n=cm(t.getProvider("auth").getImmediate());return(r=>new o6e(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(Yz,Qz,s6e(e)),ms(Yz,Qz,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6e=5*60,u6e=F9("authIdTokenMaxAge")||l6e;let Xz=null;const c6e=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u6e)return;const i=n==null?void 0:n.token;Xz!==i&&(Xz=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function f6e(e=H9()){const t=yf(e,"auth");if(t.isInitialized())return t.getImmediate();const n=V4e(e,{popupRedirectResolver:i6e,persistence:[mVe,rVe,rY]}),r=F9("authTokenSyncURL");if(r){const o=c6e(r);Z4e(n,o,()=>o(n.currentUser)),J4e(n,s=>o(s))}const i=ibe("auth");return i&&U4e(n,`http://${i}`),n}a6e("Browser");var d6e="firebase",h6e="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(d6e,h6e,"app");const p6e={localCache:Xxe({cacheSizeBytes:Ixe,tabManager:tOe()})};let VS=null,Jz=null,fd="OFFLINE_ANON_USER",nl=null;async function m6e(e=!0){var o;const t=kP.parse(`
{
  apiKey: "AIzaSyAm9QtUgx1lYPDeE0vKLN-lK17WfUGVkLo",
  authDomain: "revisit-utah.firebaseapp.com",
  projectId: "revisit-utah",
  storageBucket: "revisit-utah.appspot.com",
  messagingSenderId: "811568460432",
  appId: "1:811568460432:web:995f6b4f1fc8042b5dde15"
}
`);console.log("Firebase config",t);const n=VS||U9(t);VS||(VS=n);function r(){return kxe(n,p6e)}nl||(nl=r());let i=!1;if(Nxe(nl),!e)return{pid:fd,connected:i,startFirestore:r,firestore:nl};try{Jz||(Jz=a4e(n,{provider:new Ik(x3e),isTokenAutoRefreshEnabled:!1}));const s=f6e();if(s.currentUser||await G4e(s),fd=((o=s.currentUser)==null?void 0:o.uid)||fd,!fd)throw new Error("Login failed with firebase");i=!0,Axe(nl)}catch(s){if(s instanceof Go)s.code==="appCheck/fetch-status-error"?console.warn("App check request failed, please check if debug token is set properly if running locally. If accessing deployed version check if the domain has proper permissions. Running in offline mode, all data is stored locally."):console.error(s);else throw s}return{connected:i,pid:fd,firestore:nl,startFirestore:()=>nl=r()}}function cY(e,t=!1){return typeof e=="number"?Zz(e,t):Zz(e.length,t).map(r=>r.map(i=>e[i]))}function Zz(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let o=0;o<e;o++)o<2?n[o]=o:o%2==0?n[o]=e-o/2:n[o]=Math.floor(o/2)+1;let r=[n],i=n;for(let o=1;o<e;o+=1){let s=i.map(a=>(a+1)%e);r.push(s),i=s}if(t&&e%2>0)for(let o=0;o<e;o+=1)r.push(r[o].slice().reverse());return r}function of(){return new Date}function g6e(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return new Uint32Array([t])[0].toString(36)}function fY(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((o,s)=>{typeof o!="string"&&fY(o,t,i,s)})}function y6e(e){const t=[];return fY(e,t,"",0),t}async function v6e(e,t,n){const r=await jk(e,t);n.import(JSON.stringify(r))}async function eF(e,t,n,r,i,o){return i&&await pY(e,r),await b6e(e,t,n,o.root.id,o)}async function w6e(e){const{pid:t,firestore:n,connected:r,startFirestore:i}=await m6e(e);return{pid:t,startFirestore:i,connected:r,firestore:n,async initialize(o,s,a){let l=await $6e(n,s);const u=!!l&&l.exists();return u?{createNew:async()=>{l=await eF(n,o,t,s,u,a)},restoreSession:async()=>{v6e(n,s,a)}}:(await eF(n,o,t,s,u,a),null)},saveStudyConfig(o,s){return S6e(n,o,s)},saveNewProvenanceNode(o){return mY(n,o.root.id,o.current)},completeSession(o){return _6e(n,o)},abandonSession(o){return pY(n,o)}}}const dY=S.createContext(null);function hY(){return S.useContext(dY)}async function _6e(e,t){const n=go(e,bu,t),r=await Qa(n);if(r.exists()){const{status:i}=r.data();if(i.endStatus)return;const o={status:"completed",timestamp:of()};i.history.push(o),i.endStatus=o,XI(n,{status:i})}}async function pY(e,t){const n=go(e,bu,t),r=await Qa(n);if(r.exists()){const{status:i}=r.data();if(i.endStatus)return;const o={status:"abandoned",timestamp:of()};i.history.push(o),i.endStatus=o,XI(n,{status:i})}}async function b6e(e,t,n,r,i){const o=JSON.parse(i.export()),s=go(e,bu,r),a={studyId:t,pid:n,lastUpdatedAt:of(),lastSavedNode:o.root,current:o.current,root:o.root,status:{history:[{status:"started",timestamp:of()}],endStatus:null}};Gxe(s,a);const l=Object.values(o.nodes);for(const c of l)mY(e,r,c);return await Qa(s)}async function jk(e,t,n=!0){const r=go(e,bu,t),i=await Qa(r);if(!i.exists())throw new Error("session not found");const{current:o,root:s,status:a}=i.data(),l={},u=Y7(BI(r,mG));return(await eW(u)).forEach(f=>{const d=f.data();l[d.id]=d}),n&&(a.history.push({status:"restored",timestamp:of()}),XI(r,{status:a})),{current:o,root:s,nodes:l}}async function tF(e,t,n,r,i,o){const s=[],a=t.map(l=>{const u=go(e,Bx,r,"versions",o,"random",l);return Qa(u).then(f=>{const d=f.data();if(d){const h=d.perms.pop();if(h)s.push({path:l,order:Object.values(h)}),n.set(u,{perms:d.perms,options:d.options});else{const p=cY(d.options.sort(()=>.5-Math.random()),!0);s.push({path:l,order:p[0]}),n.set(u,{perms:p.slice(1).map(g=>Object.assign({},g)),options:d.options})}}})});return await Promise.all(a),s}async function mY(e,t,n){const r=JSON.parse(JSON.stringify(n)),i=tW(e),o=go(e,bu,t),s=BI(o,mG);await i.set(go(s,r.id),r).update(o,{lastUpdatedAt:of(),current:r.id}).commit();const a=await Qa(go(s,r.id));return await jk(e,t,!1),a}async function S6e(e,t,n){const r=tW(e),i=g6e(JSON.stringify(t)),o=go(e,Bx,n,"versions",i),s=y6e(t.sequence);let a=null;try{a=await Qa(o)}catch{return console.log("problem"),Promise.resolve(null)}if(a.exists()){const u=await tF(e,s,r,n,t,i);return r.commit(),Promise.resolve(u)}s.forEach(u=>{const c={},f=u.split("-");let d=t.sequence;f.forEach(v=>{if(v==="root")return;const m=d.components[+v];typeof m!="string"&&(d=m)});const h=d.components.map((v,m)=>typeof v=="string"?v:`_orderObj${m}`),p=cY(h.sort(()=>.5-Math.random()),!0);c.perms=p.map(v=>Object.assign({},v)),c.options=h;const g=go(e,Bx,n,"versions",i,"random",u);r.set(g,c)}),await r.set(o,{...t});const l=await tF(e,s,r,n,t,i);return r.commit(),Promise.resolve(l)}async function $6e(e,t){const n=go(e,bu,t);try{return await Qa(n)}catch{return null}}var E6e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},x6e=Object.defineProperty,O6e=Object.defineProperties,P6e=Object.getOwnPropertyDescriptors,pw=Object.getOwnPropertySymbols,gY=Object.prototype.hasOwnProperty,yY=Object.prototype.propertyIsEnumerable,nF=(e,t,n)=>t in e?x6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rF=(e,t)=>{for(var n in t||(t={}))gY.call(t,n)&&nF(e,n,t[n]);if(pw)for(var n of pw(t))yY.call(t,n)&&nF(e,n,t[n]);return e},C6e=(e,t)=>O6e(e,P6e(t)),I6e=(e,t)=>{var n={};for(var r in e)gY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pw)for(var r of pw(e))t.indexOf(r)<0&&yY.call(e,r)&&(n[r]=e[r]);return n},hm=(e,t,n)=>{const r=S.forwardRef((i,o)=>{var s=i,{color:a="currentColor",size:l=24,stroke:u=2,children:c}=s,f=I6e(s,["color","size","stroke","children"]);return S.createElement("svg",rF(C6e(rF({ref:o},E6e),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${e}`}),f),[...n.map(([d,h])=>S.createElement(d,h)),...c||[]])});return r.propTypes={color:Be.string,size:Be.oneOfType([Be.string,Be.number]),stroke:Be.oneOfType([Be.string,Be.number])},r.displayName=`${t}`,r},k6e=hm("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),T6e=hm("arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]),A6e=hm("code-dots","IconCodeDots",[["path",{d:"M15 12h.01",key:"svg-0"}],["path",{d:"M12 12h.01",key:"svg-1"}],["path",{d:"M9 12h.01",key:"svg-2"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-3"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-4"}]]),N6e=hm("code-plus","IconCodePlus",[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]]),vY=hm("table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);async function wY(e,t){const n=BI(e,bu),r=Y7(n,Uxe("studyId","==",t)),i=(await eW(r)).docs,o=[];for(const s of i){const a=await jk(e,s.id,!1);o.push({graph:a,session:s.data()})}return o}async function R6e(e,t){return(await wY(e,t)).map(r=>r.graph)}const Kx=["description","instruction","answer","correctAnswer","startTime","endTime","duration"],cy=["pid","sessionId","status","trialId"];async function D6e(e,t,n,r=[...cy,...Kx],i){const o=" ",a=(await wY(e.firestore,t)).map(c=>M6e(c,n)).flat(),l=[r.join(",")];a.filter(c=>c!==null).forEach(c=>{const f=r.map(d=>{const h=c==null?void 0:c[d],p=typeof h=="string"?h:h?h.toString():o;return p.includes(",")?`"${p}"`:p});l.push(f.join(",").replace(o,""))});const u=l.join(`
`);fy(u,i)}function M6e({graph:e,session:t},n){const r=[],i=Object.values(e.nodes);if(i.sort((a,l)=>a.meta.createdOn-l.meta.createdOn),i.length===0)return null;const s=i[i.length-1].state.val.trrackedSlice;return n.forEach(a=>{var p;const l=s[a],u="answer"in l?l:null,c=u!=null&&u.startTime?new Date(u.startTime).toUTCString():null,f=u!=null&&u.endTime?new Date(u.endTime).toUTCString():null,d=((u==null?void 0:u.endTime)||0)-0,h={pid:s.studyIdentifiers.pid,sessionId:s.studyIdentifiers.session_id,status:((p=t.status.endStatus)==null?void 0:p.status)||"incomplete",trialId:a,answer:JSON.stringify((u==null?void 0:u.answer)||{}),correctAnswer:l.correctAnswer,description:`"${l.description}"`,instruction:`"${l.instruction}"`,startTime:c,endTime:f,duration:d};r.push(h)}),r}function L6e({opened:e,close:t,filename:n}){const r=hY(),i=tk(),o=wo(c=>c.unTrrackedSlice.config.components),[s,a]=c4([...cy,...Kx]),l=S.useCallback(c=>{cy.every(f=>c.includes(f))&&a(c)},[a]),u=S.useMemo(()=>[...cy,...Kx],[]);return he(e_,{opened:e,size:"lg",onClose:t,title:x(wt,{size:"xl",children:"Download Tidy CSV"}),centered:!0,radius:"md",padding:"xl",children:[x(We,{children:x(WB,{searchable:!0,limit:30,nothingFound:"Property not found",data:u,value:s,onChange:l,label:x(wt,{fw:"bold",size:"lg",children:"Select properties to include in tidy csv:"}),placeholder:"Select atleast one property"})}),he(Rc,{mt:"xl",direction:{base:"column",sm:"row"},gap:{base:"sm",sm:"lg"},justify:{sm:"space-around"},children:[x(jo,{leftIcon:x(vY,{}),onClick:()=>{D6e(r,i,Object.keys(o),s,`${n}.csv`)},children:"Download"}),x(jo,{onClick:t,color:"red",children:"Close"})]})]})}function fy(e,t){const n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function j6e(){const{trrack:e}=ub(),t=rf(),n=wo(g=>g.trrackedSlice.studyIdentifiers),r=tk(),i=hY(),[o,{open:s,close:a}]=f4(!1),l=(t==null?void 0:t.uiConfig.autoDownloadStudy)||!1,u=l&&(t==null?void 0:t.uiConfig.autoDownloadTime)||-1,[c,f]=S.useState(Math.floor(u/1e3));if(S.useEffect(()=>{async function g(){await i.completeSession(e.root.id)}g()},[e,i]),S.useEffect(()=>{if(c<=0)return;const g=setInterval(()=>{f(v=>v-1)},1e3);return()=>clearInterval(g)},[c]),!t||!n)return null;const d=JSON.parse(e.export()),h=`${t.studyMetadata.title.replace(" ","_")}_${n.session_id}`,p=`${h}.json`;return c===0&&fy(JSON.stringify(d,null,2),p),he(Al,{children:[x(jo,{leftIcon:x(A6e,{}),mt:"1em",mr:"0.5em",onClick:()=>fy(JSON.stringify(d,null,2),p),display:"block",children:"Download Current (JSON)"}),x(jo,{disabled:!i.connected,leftIcon:x(N6e,{}),mt:"1em",mr:"0.5em",onClick:async()=>{const g=await R6e(i.firestore,r);fy(JSON.stringify(g,null,2),p)},display:"block",children:"Download All (JSON)"}),x(jo,{disabled:!i.connected,leftIcon:x(vY,{}),mt:"1em",mr:"0.5em",onClick:s,display:"block",children:"Download All (Tidy)"}),l&&he(wt,{size:"lg",children:["Study results will be downloaded in ",c," seconds. If the download does not start automatically, click above to download."]}),x(L6e,{opened:o,close:a,filename:h})]})}function _Y({order:e}){const{studyId:t=null}=mp(),n=Rs(),r=Va();return x(Al,{spacing:"xs",children:e.components.map(i=>typeof i=="string"?x(Ia,{children:x(Wae,{style:{cursor:"pointer"},color:i===n?"red":"blue",onClick:()=>r(`/${t}/${i}`),size:"xs",children:i},i)}):x(Al,{spacing:"xs",children:he(Ia,{spacing:"xs",style:{width:"100%"},noWrap:!0,align:"center",position:"center",children:[i.order==="random"||i.order==="latinSquare"?x(T6e,{textAnchor:"middle"}):null,x(Al,{style:{width:"100%"},children:x(_Y,{order:i})})]})}))})}function z6e(){const e=Cf(a=>a.showAdmin),t=Va(),n=Rs(),{studyId:r=null}=mp(),i=rf(),s=wo(a=>a.trrackedSlice.order).map(a=>({...i.components[a],id:a}));return e?he(Jy,{p:"md",width:{base:300},style:{zIndex:0},children:[x(_Y,{order:i.sequence}),x(cc,{h:"md"}),n==="end"&&x(j6e,{}),x(Jy.Section,{grow:!0,component:OV,mx:"-xs",px:"xs",my:"lg",children:s.map((a,l)=>he(Fi.Fragment,{children:[he(zd,{radius:0,p:0,withBorder:!0,children:[x(zd,{radius:0,p:"xl",children:he(Rc,{style:{justifyContent:"space-between"},children:[he(wt,{c:"gray.9",children:[he(wt,{span:!0,fw:700,inherit:!0,children:["Task ",l+1,":"]})," ",a.id]}),x(cc,{}),x(k4,{bg:"white",onClick:()=>t(`/${r}/${a.id}`),children:x(k6e,{size:"1.125rem"})})]})}),he(zd,{radius:0,p:"xl",children:[a.description&&he(wt,{fw:900,children:["Description:"," ",x(wt,{fw:400,component:"span",children:a.description})]}),a.meta&&x(wt,{fw:900,children:"Task Meta:"}),a.meta&&Object.keys(a.meta).map(u=>he(wt,{children:[u,": ",a.meta[u]]},u))]})]}),x(cc,{h:"md"})]},`admin_${a.id}`))})]}):null}function F6e(){const e=wo(u=>u.unTrrackedSlice.config),t=wo(u=>u.trrackedSlice.order);ub().clearCache;const n=em();Va();const r=Rs(),i=e!==null?r==="end"?100:t.indexOf(r):0,o=t.length||0,s=i/o*100;S.useState(!1);const a=e==null?void 0:e.uiConfig.logoPath,l=e==null?void 0:e.uiConfig.withProgressBar;return x(tV,{height:"70",p:"md",children:he(Gu,{mt:-7,align:"center",children:[x(Gu.Col,{span:4,children:he(Rc,{align:"center",children:[x(Sp,{maw:40,src:`${Qo}${a}`,alt:"Study Logo"}),x(cc,{w:"md"}),x(Ks,{order:4,children:e==null?void 0:e.studyMetadata.title})]})}),x(Gu.Col,{span:4,children:l&&x(fU,{radius:"md",size:"lg",value:s})}),x(Gu.Col,{span:4,children:he(Rc,{align:"center",justify:"flex-end",children:[(e==null?void 0:e.uiConfig.helpTextPath)!==void 0&&x(jo,{variant:"outline",onClick:()=>n(iW()),children:"Help"}),x(cc,{w:"md"}),Ck==="dev"]})})]})})}function V6e(){var l,u;const e=(l=rf())==null?void 0:l.uiConfig.sidebar,t=rf(),n=Rs(),r=t.components[n],i=r?gC(r)&&t.baseComponents?hG({},(u=t.baseComponents)==null?void 0:u[r.baseComponent],r):r:null,o=WK(),s=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?he(Ku,{width:{base:300},style:{zIndex:0},children:[a&&s!==""&&x(Ku.Section,{bg:"gray.3",p:"xl",style:{flex:1,overflowY:"auto"},children:he(wt,{c:"gray.9",children:[x(wt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),x(rp,{text:s})]})}),x(Ku.Section,{bg:"gray.1",p:"xl",grow:!0,children:x(K0,{status:o,config:i,location:"sidebar"})}),x(Ku.Section,{p:"xl",children:x("div",{id:"sidebar-ui"})})]}):x(K0,{status:o,config:i,location:"sidebar",style:{display:"hidden"}})}function B6e(){const e=Cf(o=>o.showHelpText),t=wo(o=>o.unTrrackedSlice.config),n=em(),[r,i]=S.useState("");return S.useEffect(()=>{t&&t.uiConfig.helpTextPath&&fetch(`${Qo}${t.uiConfig.helpTextPath}`).then(o=>o.text()).then(o=>i(o))},[t]),x(e_,{size:"auto",opened:e,onClose:()=>n(iW()),title:"Help",children:x(rp,{text:r})})}function U6e(){const e=rf();return x(tn,{children:x(kR,{style:{height:"100%"},children:x(Rc,{direction:"column",children:x(kR,{children:x(wt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?e.uiConfig.studyEndMsg:"Thank you for completing the study. You may close this window now."})})})})})}const H6e=S.createContext(void 0);async function q6e(e,t){const n=await(await fetch(`${Qo}${e}`)).text();return R8(n,t)}function bY(e,t,n){for(let r=0;r<e.components.length;r++){const i=e.components[r];typeof i!="string"&&(e.components[r]=bY(i,t,n+"-"+r))}if(e.order==="random"&&t){const r=e.components.sort((i,o)=>.5-Math.random());e.components=r}else e.order==="latinSquare"&&t&&(e.components=t.find(r=>r.path===n).order.map(r=>r.startsWith("_orderObj")?e.components[+r.slice(9)]:r));return e.components.flat().slice(0,e.numSamples?e.numSamples:void 0)}function W6e(e,t){const n=yx(e);return bY(n,t,"root"),n.components.flat().slice(0,n.numSamples?n.numSamples:void 0)}function K6e({globalConfig:e}){const{studyId:t}=mp(),[n,r]=S.useState(null);if(!t||!e.configsList.map(p=>nE(p)).includes(t))throw new Error("Study id invalid");const[i,o]=S.useState(null),[s,a]=S.useState(null),[l,u]=S.useState(null);S.useEffect(()=>{const p=e.configsList.find(g=>nE(g)===t);if(p){const g=e.configs[p];q6e(`${g.path}`,p).then(v=>{o(v)})}},[e,t]),S.useEffect(()=>{if(!i)return;let p=!0;async function g(){a(null);const v=await w6e(!0);p&&a(v)}return g(),()=>{p=!1}},[i]),S.useEffect(()=>{if(!i||!t||!s)return;let p=!0;async function g(v,m,y){if(u(null),!s)return;const w=await(s==null?void 0:s.saveStudyConfig(m,v)),b=W6e(i.sequence,w),$=await uOe(v,m,b,y);r(b),p&&u($)}return g(t,i,s),()=>{p=!1}},[i,t,s]);const c=Y6e(t,i,n,l);if(!c||!l||!s)return null;const{trrackStore:f,store:d,trrack:h}=l;return x(dY.Provider,{value:s,children:x(lW.Provider,{value:l,children:x(L1,{store:f,context:H6e,children:x(L1,{store:d,children:x(L1,{store:ZI,context:ek,children:c})})})})},h.root.id)}function G6e(){const e=ub(),t=Cf(s=>s.trrackExists),n=em(),[r,i]=f4(t),o=S.useCallback(s=>{s?e.restoreSession():e.startNewSession(),n(oW(!1)),i.close()},[n,i,e]);return he(iV,{navbar:x(V6e,{}),aside:x(z6e,{}),header:x(F6e,{}),children:[he(e_,{opened:r,onClose:()=>o(!1),title:x(wt,{weight:"bold",children:"Detected ongoing session"}),centered:!0,children:[x(wt,{children:"Do you want to continue that session or start over?"}),he(Ia,{mt:"xl",children:[x(jo,{variant:"outline",onClick:()=>{o(!0)},children:"Continue"}),x(jo,{variant:"outline",onClick:()=>{o(!1)},children:"Start Over"})]})]}),x(B6e,{}),x(HJ,{})]})}function Y6e(e,t,n,r){const i=[];if(e&&t&&r&&n){const s=[...n,"end"],a=[];a.push({path:"/",element:x(hOe,{to:`${s[0]}`,replace:!0})}),s.forEach(u=>{u==="end"?a.push({path:"/end",element:x(U6e,{})}):a.push({path:`/${u}`,element:x(E3e,{})})});const l={element:x(G6e,{}),children:a};i.push(l)}const o=$3(i);return i.length>0?o:null}const Qo="/study/";async function Q6e(){const t=await(await fetch(`${Qo}configs/global.hjson`)).text();return Y0e(t)}async function X6e(e){const t={},n=e.configsList.map(i=>`${Qo}${e.configs[i].path}`),r=await Promise.all(n.map(i=>fetch(i))).then(i=>Promise.all(i.map(o=>o.text()))).then(i=>Promise.all(i.map((o,s)=>R8(o,e.configsList[s]))));return e.configsList.forEach((i,o)=>{t[i]=r[o]}),t}function J6e(){const[e,t]=S.useState(null),[n,r]=S.useState({});return S.useEffect(()=>{(async()=>{e&&r(await X6e(e))})()},[e]),S.useEffect(()=>{e||Q6e().then(i=>{t(i)})},[e]),e?x(GJ,{basename:Qo,children:he(WJ,{children:[x(L$,{path:"/",element:x(Gpe,{globalConfig:e,studyConfigs:n})}),x(L$,{path:"/:studyId/*",element:x(Z6e,{globalConfig:e})})]})}):null}function Z6e(e){const{studyId:t}=mp();return x(K6e,{...e},t)}BS.createRoot(document.getElementById("root")).render(x(Fi.StrictMode,{children:x(J6e,{})}));
